/*! jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="1.12.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(!l.ownFirst)for(b in a)return k.call(a,b);for(b in a);return void 0===b||k.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(h)return h.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=e.call(arguments,2),d=function(){return a.apply(b||this,c.concat(e.call(arguments)))},d.guid=a.guid=a.guid||n.guid++,d):void 0},now:function(){return+new Date},support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}if(f=d.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return A.find(a);this.length=1,this[0]=f}return this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||(e=n.uniqueSort(e)),D.test(a)&&(e=e.reverse())),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=!0,c||j.disable(),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.addEventListener?(d.removeEventListener("DOMContentLoaded",K),a.removeEventListener("load",K)):(d.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))}function K(){(d.addEventListener||"load"===a.event.type||"complete"===d.readyState)&&(J(),n.ready())}n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll)a.setTimeout(n.ready);else if(d.addEventListener)d.addEventListener("DOMContentLoaded",K),a.addEventListener("load",K);else{d.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&d.documentElement}catch(e){}c&&c.doScroll&&!function f(){if(!n.isReady){try{c.doScroll("left")}catch(b){return a.setTimeout(f,50)}J(),n.ready()}}()}return I.promise(b)},n.ready.promise();var L;for(L in n(l))break;l.ownFirst="0"===L,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c,e;c=d.getElementsByTagName("body")[0],c&&c.style&&(b=d.createElement("div"),e=d.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(e).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",l.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(e))}),function(){var a=d.createElement("div");l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}a=null}();var M=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b},N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else c=void 0;
}return c}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function R(a,b,d,e){if(M(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),"object"!=typeof b&&"function"!=typeof b||(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f}}function S(a,b,c){if(M(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=void 0)}}}n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}}),function(){var a;l.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,e;return c=d.getElementsByTagName("body")[0],c&&c.style?(b=d.createElement("div"),e=d.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(e).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(d.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(e),a):void 0}}();var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],W=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function X(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&U.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var Y=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)Y(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Z=/^(?:checkbox|radio)$/i,$=/<([\w:-]+)/,_=/^$|\/(?:java|ecma)script/i,aa=/^\s+/,ba="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ca(a){var b=ba.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}!function(){var a=d.createElement("div"),b=d.createDocumentFragment(),c=d.createElement("input");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",l.leadingWhitespace=3===a.firstChild.nodeType,l.tbody=!a.getElementsByTagName("tbody").length,l.htmlSerialize=!!a.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==d.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,b.appendChild(c),l.appendChecked=c.checked,a.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,b.appendChild(a),c=d.createElement("input"),c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),a.appendChild(c),l.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!!a.addEventListener,a[n.expando]=1,l.attributes=!a.getAttribute(n.expando)}();var da={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};da.optgroup=da.option,da.tbody=da.tfoot=da.colgroup=da.caption=da.thead,da.th=da.td;function ea(a,b){var c,d,e=0,f="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,ea(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function fa(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}var ga=/<|&#?\w+;/,ha=/<tbody/i;function ia(a){Z.test(a.type)&&(a.defaultChecked=a.checked)}function ja(a,b,c,d,e){for(var f,g,h,i,j,k,m,o=a.length,p=ca(b),q=[],r=0;o>r;r++)if(g=a[r],g||0===g)if("object"===n.type(g))n.merge(q,g.nodeType?[g]:g);else if(ga.test(g)){i=i||p.appendChild(b.createElement("div")),j=($.exec(g)||["",""])[1].toLowerCase(),m=da[j]||da._default,i.innerHTML=m[1]+n.htmlPrefilter(g)+m[2],f=m[0];while(f--)i=i.lastChild;if(!l.leadingWhitespace&&aa.test(g)&&q.push(b.createTextNode(aa.exec(g)[0])),!l.tbody){g="table"!==j||ha.test(g)?"<table>"!==m[1]||ha.test(g)?0:i:i.firstChild,f=g&&g.childNodes.length;while(f--)n.nodeName(k=g.childNodes[f],"tbody")&&!k.childNodes.length&&g.removeChild(k)}n.merge(q,i.childNodes),i.textContent="";while(i.firstChild)i.removeChild(i.firstChild);i=p.lastChild}else q.push(b.createTextNode(g));i&&p.removeChild(i),l.appendChecked||n.grep(ea(q,"input"),ia),r=0;while(g=q[r++])if(d&&n.inArray(g,d)>-1)e&&e.push(g);else if(h=n.contains(g.ownerDocument,g),i=ea(p.appendChild(g),"script"),h&&fa(i),c){f=0;while(g=i[f++])_.test(g.type||"")&&c.push(g)}return i=null,p}!function(){var b,c,e=d.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b]=c in a)||(e.setAttribute(c,"t"),l[b]=e.attributes[c].expando===!1);e=null}();var ka=/^(?:input|select|textarea)$/i,la=/^key/,ma=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,na=/^(?:focusinfocus|focusoutblur)$/,oa=/^([^.]*)(?:\.(.+)|)/;function pa(){return!0}function qa(){return!1}function ra(){try{return d.activeElement}catch(a){}}function sa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)sa(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=qa;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return"undefined"==typeof n||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(G)||[""],h=b.length;while(h--)f=oa.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=oa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;while(f--)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(i=m=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!na.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),h=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),l=n.event.special[q]||{},f||!l.trigger||l.trigger.apply(e,c)!==!1)){if(!f&&!l.noBubble&&!n.isWindow(e)){for(j=l.delegateType||q,na.test(j+q)||(i=i.parentNode);i;i=i.parentNode)p.push(i),m=i;m===(e.ownerDocument||d)&&p.push(m.defaultView||m.parentWindow||a)}o=0;while((i=p[o++])&&!b.isPropagationStopped())b.type=o>1?j:l.bindType||q,g=(n._data(i,"events")||{})[b.type]&&n._data(i,"handle"),g&&g.apply(i,c),g=h&&i[h],g&&g.apply&&M(i)&&(b.result=g.apply(i,c),b.result===!1&&b.preventDefault());if(b.type=q,!f&&!b.isDefaultPrevented()&&(!l._default||l._default.apply(p.pop(),c)===!1)&&M(e)&&h&&e[q]&&!n.isWindow(e)){m=e[h],m&&(e[h]=null),n.event.triggered=q;try{e[q]()}catch(s){}n.event.triggered=void 0,m&&(e[h]=m)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ma.test(f)?this.mouseHooks:la.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=g.srcElement||d),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,h.filter?h.filter(a,g):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button,h=b.fromElement;return null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||d,f=e.documentElement,c=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&f.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||c&&c.scrollTop||0)-(f&&f.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ra()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ra()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=d.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?pa:qa):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:qa,isPropagationStopped:qa,isImmediatePropagationStopped:qa,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=pa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=pa,a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=pa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submit||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?n.prop(b,"form"):void 0;c&&!n._data(c,"submit")&&(n.event.add(c,"submit._submit",function(a){a._submitBubble=!0}),n._data(c,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a))},teardown:function(){return n.nodeName(this,"form")?!1:void n.event.remove(this,"._submit")}}),l.change||(n.event.special.change={setup:function(){return ka.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),n.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1),n.event.simulate("change",this,a)})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;ka.test(b.nodeName)&&!n._data(b,"change")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a)}),n._data(b,"change",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!ka.test(this.nodeName)}}),l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d){return sa(this,a,b,c,d)},one:function(a,b,c,d){return sa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=qa),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ta=/ jQuery\d+="(?:null|\d+)"/g,ua=new RegExp("<(?:"+ba+")[\\s/>]","i"),va=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wa=/<script|<style|<link/i,xa=/checked\s*(?:[^=]|=\s*.checked.)/i,ya=/^true\/(.*)/,za=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Aa=ca(d),Ba=Aa.appendChild(d.createElement("div"));function Ca(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function Da(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function Ea(a){var b=ya.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Fa(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d])}g.data&&(g.data=n.extend({},g.data))}}function Ga(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(Da(b).text=a.text,Ea(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Z.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function Ha(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&xa.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),Ha(f,b,c,d)});if(o&&(k=ja(b,a[0].ownerDocument,!1,a,d),e=k.firstChild,1===k.childNodes.length&&(k=e),e||d)){for(i=n.map(ea(k,"script"),Da),h=i.length;o>m;m++)g=k,m!==p&&(g=n.clone(g,!0,!0),h&&n.merge(i,ea(g,"script"))),c.call(a[m],g,m);if(h)for(j=i[i.length-1].ownerDocument,n.map(i,Ea),m=0;h>m;m++)g=i[m],_.test(g.type||"")&&!n._data(g,"globalEval")&&n.contains(j,g)&&(g.src?n._evalUrl&&n._evalUrl(g.src):n.globalEval((g.text||g.textContent||g.innerHTML||"").replace(za,"")));k=e=null}return a}function Ia(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(ea(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&fa(ea(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(va,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!ua.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Ba.innerHTML=a.outerHTML,Ba.removeChild(f=Ba.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=ea(f),h=ea(a),g=0;null!=(e=h[g]);++g)d[g]&&Ga(e,d[g]);if(b)if(c)for(h=h||ea(a),d=d||ea(f),g=0;null!=(e=h[g]);g++)Fa(e,d[g]);else Fa(a,f);return d=ea(f,"script"),d.length>0&&fa(d,!i&&ea(a,"script")),d=h=e=null,f},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.attributes,m=n.event.special;null!=(d=a[h]);h++)if((b||M(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&&(delete j[f],k||"undefined"==typeof d.removeAttribute?d[i]=void 0:d.removeAttribute(i),c.push(f))}}}),n.fn.extend({domManip:Ha,detach:function(a){return Ia(this,a,!0)},remove:function(a){return Ia(this,a)},text:function(a){return Y(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||d).createTextNode(a))},null,a,arguments.length)},append:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.appendChild(a)}})},prepend:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&n.cleanData(ea(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return Y(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(ta,""):void 0;if("string"==typeof a&&!wa.test(a)&&(l.htmlSerialize||!ua.test(a))&&(l.leadingWhitespace||!aa.test(a))&&!da[($.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ea(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ha(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(ea(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],f=n(a),h=f.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(f[d])[b](c),g.apply(e,c.get());return this.pushStack(e)}});var Ja,Ka={HTML:"block",BODY:"block"};function La(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function Ma(a){var b=d,c=Ka[a];return c||(c=La(a,b),"none"!==c&&c||(Ja=(Ja||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ja[0].contentWindow||Ja[0].contentDocument).document,b.write(),b.close(),c=La(a,b),Ja.detach()),Ka[a]=c),c}var Na=/^margin/,Oa=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Pa=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Qa=d.documentElement;!function(){var b,c,e,f,g,h,i=d.createElement("div"),j=d.createElement("div");if(j.style){j.style.cssText="float:left;opacity:.5",l.opacity="0.5"===j.style.opacity,l.cssFloat=!!j.style.cssFloat,j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===j.style.backgroundClip,i=d.createElement("div"),i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",j.innerHTML="",i.appendChild(j),l.boxSizing=""===j.style.boxSizing||""===j.style.MozBoxSizing||""===j.style.WebkitBoxSizing,n.extend(l,{reliableHiddenOffsets:function(){return null==b&&k(),f},boxSizingReliable:function(){return null==b&&k(),e},pixelMarginRight:function(){return null==b&&k(),c},pixelPosition:function(){return null==b&&k(),b},reliableMarginRight:function(){return null==b&&k(),g},reliableMarginLeft:function(){return null==b&&k(),h}});function k(){var k,l,m=d.documentElement;m.appendChild(i),j.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",b=e=h=!1,c=g=!0,a.getComputedStyle&&(l=a.getComputedStyle(j),b="1%"!==(l||{}).top,h="2px"===(l||{}).marginLeft,e="4px"===(l||{width:"4px"}).width,j.style.marginRight="50%",c="4px"===(l||{marginRight:"4px"}).marginRight,k=j.appendChild(d.createElement("div")),k.style.cssText=j.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",k.style.marginRight=k.style.width="0",j.style.width="1px",g=!parseFloat((a.getComputedStyle(k)||{}).marginRight),j.removeChild(k)),j.style.display="none",f=0===j.getClientRects().length,f&&(j.style.display="",j.innerHTML="<table><tr><td></td><td>t</td></tr></table>",j.childNodes[0].style.borderCollapse="separate",k=j.getElementsByTagName("td"),k[0].style.cssText="margin:0;border:0;padding:0;display:none",f=0===k[0].offsetHeight,f&&(k[0].style.display="",k[1].style.display="none",f=0===k[0].offsetHeight)),m.removeChild(i)}}}();var Ra,Sa,Ta=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ra=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Oa.test(g)&&Na.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0===g?g:g+""}):Qa.currentStyle&&(Ra=function(a){return a.currentStyle},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Oa.test(g)&&!Ta.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Ua(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Va=/alpha\([^)]*\)/i,Wa=/opacity\s*=\s*([^)]*)/i,Xa=/^(none|table(?!-c[ea]).+)/,Ya=new RegExp("^("+T+")(.*)$","i"),Za={position:"absolute",visibility:"hidden",display:"block"},$a={letterSpacing:"0",fontWeight:"400"},_a=["Webkit","O","Moz","ms"],ab=d.createElement("div").style;function bb(a){if(a in ab)return a;var b=a.charAt(0).toUpperCase()+a.slice(1),c=_a.length;while(c--)if(a=_a[c]+b,a in ab)return a}function cb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&W(d)&&(f[g]=n._data(d,"olddisplay",Ma(d.nodeName)))):(e=W(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function db(a,b,c){var d=Ya.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function eb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+V[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+V[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+V[f]+"Width",!0,e))):(g+=n.css(a,"padding"+V[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+V[f]+"Width",!0,e)));return g}function fb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ra(a),g=l.boxSizing&&"border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Sa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Oa.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+eb(a,b,c||(g?"border":"content"),d,f)+"px"}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Sa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=U.exec(c))&&e[1]&&(c=X(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Sa(a,b,d)),"normal"===f&&b in $a&&(f=$a[b]),""===c||c?(e=parseFloat(f),c===!0||isFinite(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Xa.test(n.css(a,"display"))&&0===a.offsetWidth?Pa(a,Za,function(){return fb(a,b,d)}):fb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ra(a);return db(a,c,d?eb(a,b,d,l.boxSizing&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Wa.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Va,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Va.test(f)?f.replace(Va,e):f+" "+e)}}),n.cssHooks.marginRight=Ua(l.reliableMarginRight,function(a,b){return b?Pa(a,{display:"inline-block"},Sa,[a,"marginRight"]):void 0}),n.cssHooks.marginLeft=Ua(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Sa(a,"marginLeft"))||(n.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Pa(a,{
marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px":void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+V[d]+b]=f[d]||f[d-2]||f[0];return e}},Na.test(a)||(n.cssHooks[a+b].set=db)}),n.fn.extend({css:function(a,b){return Y(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ra(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return cb(this,!0)},hide:function(){return cb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){W(this)?n(this).show():n(this).hide()})}});function gb(a,b,c,d,e){return new gb.prototype.init(a,b,c,d,e)}n.Tween=gb,gb.prototype={constructor:gb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=gb.propHooks[this.prop];return a&&a.get?a.get(this):gb.propHooks._default.get(this)},run:function(a){var b,c=gb.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):gb.propHooks._default.set(this),this}},gb.prototype.init.prototype=gb.prototype,gb.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},gb.propHooks.scrollTop=gb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=gb.prototype.init,n.fx.step={};var hb,ib,jb=/^(?:toggle|show|hide)$/,kb=/queueHooks$/;function lb(){return a.setTimeout(function(){hb=void 0}),hb=n.now()}function mb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=V[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function nb(a,b,c){for(var d,e=(qb.tweeners[b]||[]).concat(qb.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ob(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&W(a),r=n._data(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k="none"===j?n._data(a,"olddisplay")||Ma(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==Ma(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],jb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(o))"inline"===("none"===j?Ma(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o)n.style(a,b,o[b])});for(d in o)g=nb(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function pb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function qb(a,b,c){var d,e,f=0,g=qb.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=hb||lb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:hb||lb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(pb(k,j.opts.specialEasing);g>f;f++)if(d=qb.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,nb,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(qb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return X(c.elem,a,U.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],qb.tweeners[c]=qb.tweeners[c]||[],qb.tweeners[c].unshift(b)},prefilters:[ob],prefilter:function(a,b){b?qb.prefilters.unshift(a):qb.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(W).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=qb(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&kb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(mb(b,!0),a,d,e)}}),n.each({slideDown:mb("show"),slideUp:mb("hide"),slideToggle:mb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(hb=n.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),hb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ib||(ib=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(ib),ib=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a,b=d.createElement("input"),c=d.createElement("div"),e=d.createElement("select"),f=e.appendChild(d.createElement("option"));c=d.createElement("div"),c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],b.setAttribute("type","checkbox"),c.appendChild(b),a=c.getElementsByTagName("a")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==c.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=f.selected,l.enctype=!!d.createElement("form").enctype,e.disabled=!0,l.optDisabled=!f.disabled,b=d.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value}();var rb=/\r/g,sb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(rb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(sb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>-1)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var tb,ub,vb=n.expr.attrHandle,wb=/^(?:checked|selected)$/i,xb=l.getSetAttribute,yb=l.input;n.fn.extend({attr:function(a,b){return Y(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ub:tb)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)?yb&&xb||!wb.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(xb?c:d)}}),ub={set:function(a,b,c){return b===!1?n.removeAttr(a,c):yb&&xb||!wb.test(c)?a.setAttribute(!xb&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=vb[b]||n.find.attr;yb&&xb||!wb.test(b)?vb[b]=function(a,b,d){var e,f;return d||(f=vb[b],vb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,vb[b]=f),e}:vb[b]=function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),yb&&xb||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void(a.defaultValue=b):tb&&tb.set(a,b,c)}}),xb||(tb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},vb.id=vb.name=vb.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:tb.set},n.attrHooks.contenteditable={set:function(a,b,c){tb.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var zb=/^(?:input|select|textarea|button|object)$/i,Ab=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return Y(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):zb.test(a.nodeName)||Ab.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var Bb=/[\t\r\n\f]/g;function Cb(a){return n.attr(a,"class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,Cb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&&(" "+e+" ").replace(Bb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&n.attr(c,"class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,Cb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&&(" "+e+" ").replace(Bb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&n.attr(c,"class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,Cb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=Cb(this),b&&n._data(this,"__className__",b),n.attr(this,"class",b||a===!1?"":n._data(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+Cb(c)+" ").replace(Bb," ").indexOf(b)>-1)return!0;return!1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Db=a.location,Eb=n.now(),Fb=/\?/,Gb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(Gb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new a.DOMParser,c=d.parseFromString(b,"text/xml")):(c=new a.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var Hb=/#.*$/,Ib=/([?&])_=[^&]*/,Jb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Kb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lb=/^(?:GET|HEAD)$/,Mb=/^\/\//,Nb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ob={},Pb={},Qb="*/".concat("*"),Rb=Db.href,Sb=Nb.exec(Rb.toLowerCase())||[];function Tb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Ub(a,b,c,d){var e={},f=a===Pb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Vb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a}function Wb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Xb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rb,type:"GET",isLocal:Kb.test(Sb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Vb(Vb(a,n.ajaxSettings),b):Vb(n.ajaxSettings,a)},ajaxPrefilter:Tb(Ob),ajaxTransport:Tb(Pb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var d,e,f,g,h,i,j,k,l=n.ajaxSetup({},c),m=l.context||l,o=l.context&&(m.nodeType||m.jquery)?n(m):n.event,p=n.Deferred(),q=n.Callbacks("once memory"),r=l.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!k){k={};while(b=Jb.exec(g))k[b[1].toLowerCase()]=b[2]}b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return j&&j.abort(b),y(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,l.url=((b||l.url||Rb)+"").replace(Hb,"").replace(Mb,Sb[1]+"//"),l.type=c.method||c.type||l.method||l.type,l.dataTypes=n.trim(l.dataType||"*").toLowerCase().match(G)||[""],null==l.crossDomain&&(d=Nb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Sb[1]&&d[2]===Sb[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Sb[3]||("http:"===Sb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=n.param(l.data,l.traditional)),Ub(Ob,l,c,w),2===u)return w;i=n.event&&l.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Lb.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Fb.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Ib.test(f)?f.replace(Ib,"$1_="+Eb++):f+(Fb.test(f)?"&":"?")+"_="+Eb++)),l.ifModified&&(n.lastModified[f]&&w.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&w.setRequestHeader("If-None-Match",n.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Qb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)w.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,w,l)===!1||2===u))return w.abort();v="abort";for(e in{success:1,error:1,complete:1})w[e](l[e]);if(j=Ub(Pb,l,c,w)){if(w.readyState=1,i&&o.trigger("ajaxSend",[w,l]),2===u)return w;l.async&&l.timeout>0&&(h=a.setTimeout(function(){w.abort("timeout")},l.timeout));try{u=1,j.send(s,y)}catch(x){if(!(2>u))throw x;y(-1,x)}}else y(-1,"No Transport");function y(b,c,d,e){var k,s,t,v,x,y=c;2!==u&&(u=2,h&&a.clearTimeout(h),j=void 0,g=e||"",w.readyState=b>0?4:0,k=b>=200&&300>b||304===b,d&&(v=Wb(l,w,d)),v=Xb(l,v,w,k),k?(l.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(n.lastModified[f]=x),x=w.getResponseHeader("etag"),x&&(n.etag[f]=x)),204===b||"HEAD"===l.type?y="nocontent":304===b?y="notmodified":(y=v.state,s=v.data,t=v.error,k=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),w.status=b,w.statusText=(c||y)+"",k?p.resolveWith(m,[s,y,w]):p.rejectWith(m,[w,y,t]),w.statusCode(r),r=void 0,i&&o.trigger(k?"ajaxSuccess":"ajaxError",[w,l,k?s:t]),q.fireWith(m,[w,y]),i&&(o.trigger("ajaxComplete",[w,l]),--n.active||n.event.trigger("ajaxStop")))}return w},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}});function Yb(a){return a.style&&a.style.display||n.css(a,"display")}function Zb(a){if(!n.contains(a.ownerDocument||d,a))return!0;while(a&&1===a.nodeType){if("none"===Yb(a)||"hidden"===a.type)return!0;a=a.parentNode}return!1}n.expr.filters.hidden=function(a){return l.reliableHiddenOffsets()?a.offsetWidth<=0&&a.offsetHeight<=0&&!a.getClientRects().length:Zb(a)},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var $b=/%20/g,_b=/\[\]$/,ac=/\r?\n/g,bc=/^(?:submit|button|image|reset|file)$/i,cc=/^(?:input|select|textarea|keygen)/i;function dc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||_b.test(a)?d(a,e):dc(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)dc(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)dc(c,a[c],b,e);return d.join("&").replace($b,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&cc.test(this.nodeName)&&!bc.test(a)&&(this.checked||!Z.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(ac,"\r\n")}}):{name:b.name,value:c.replace(ac,"\r\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return this.isLocal?ic():d.documentMode>8?hc():/^(get|post|head|put|delete|options)$/i.test(this.type)&&hc()||ic()}:hc;var ec=0,fc={},gc=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in fc)fc[a](void 0,!0)}),l.cors=!!gc&&"withCredentials"in gc,gc=l.ajax=!!gc,gc&&n.ajaxTransport(function(b){if(!b.crossDomain||l.cors){var c;return{send:function(d,e){var f,g=b.xhr(),h=++ec;if(g.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(f in b.xhrFields)g[f]=b.xhrFields[f];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)void 0!==d[f]&&g.setRequestHeader(f,d[f]+"");g.send(b.hasContent&&b.data||null),c=function(a,d){var f,i,j;if(c&&(d||4===g.readyState))if(delete fc[h],c=void 0,g.onreadystatechange=n.noop,d)4!==g.readyState&&g.abort();else{j={},f=g.status,"string"==typeof g.responseText&&(j.text=g.responseText);try{i=g.statusText}catch(k){i=""}f||!b.isLocal||b.crossDomain?1223===f&&(f=204):f=j.text?200:404}j&&e(f,i,j,g.getAllResponseHeaders())},b.async?4===g.readyState?a.setTimeout(c):g.onreadystatechange=fc[h]=c:c()},abort:function(){c&&c(void 0,!0)}}}});function hc(){try{return new a.XMLHttpRequest}catch(b){}}function ic(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=d.head||n("head")[0]||d.documentElement;return{send:function(e,f){b=d.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||f(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var jc=[],kc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=jc.pop()||n.expando+"_"+Eb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(kc.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&kc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(kc,"$1"+e):b.jsonp!==!1&&(b.url+=(Fb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,jc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ja([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var lc=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&lc)return lc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h,a.length)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function mc(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,n.contains(b,e)?("undefined"!=typeof e.getBoundingClientRect&&(d=e.getBoundingClientRect()),c=mc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Qa})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return Y(this,function(a,d,e){var f=mc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ua(l.pixelPosition,function(a,c){return c?(c=Sa(a,b),Oa.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({
padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Y(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var nc=a.jQuery,oc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=oc),b&&a.jQuery===n&&(a.jQuery=nc),n},b||(a.jQuery=a.$=n),n});
jQuery.noConflict();

;/*! jQuery Migrate v1.4.1 | (c) jQuery Foundation and other contributors | jquery.org/license */
"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(a,b,c){function d(c){var d=b.console;f[c]||(f[c]=!0,a.migrateWarnings.push(c),d&&d.warn&&!a.migrateMute&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function e(b,c,e,f){if(Object.defineProperty)try{return void Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return d(f),e},set:function(a){d(f),e=a}})}catch(g){}a._definePropertyBroken=!0,b[c]=e}a.migrateVersion="1.4.1";var f={};a.migrateWarnings=[],b.console&&b.console.log&&b.console.log("JQMIGRATE: Migrate is installed"+(a.migrateMute?"":" with logging active")+", version "+a.migrateVersion),a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g=a("<input/>",{size:1}).attr("size")&&a.attrFn,h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g||{},"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,i){var j=e.toLowerCase(),o=b&&b.nodeType;return i&&(h.length<4&&d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(o)&&(g?e in g:a.isFunction(a.fn[e])))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[j]&&m.test(j)&&(a.attrHooks[j]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(j)&&d("jQuery.fn.attr('"+j+"') might use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?j.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value', val) no longer sets properties"),void(a.value=b))}};var o,p,q=a.fn.init,r=a.find,s=a.parseJSON,t=/^\s*</,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,v=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,w=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,e,f){var g,h;return b&&"string"==typeof b&&!a.isPlainObject(e)&&(g=w.exec(a.trim(b)))&&g[0]&&(t.test(b)||d("$(html) HTML strings must start with '<' character"),g[3]&&d("$(html) HTML text after last tag is ignored"),"#"===g[0].charAt(0)&&(d("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),e&&e.context&&e.context.nodeType&&(e=e.context),a.parseHTML)?q.call(this,a.parseHTML(g[2],e&&e.ownerDocument||e||document,!0),e,f):(h=q.apply(this,arguments),b&&b.selector!==c?(h.selector=b.selector,h.context=b.context):(h.selector="string"==typeof b?b:"",b&&(h.context=b.nodeType?b:e||document)),h)},a.fn.init.prototype=a.fn,a.find=function(a){var b=Array.prototype.slice.call(arguments);if("string"==typeof a&&u.test(a))try{document.querySelector(a)}catch(c){a=a.replace(v,function(a,b,c,d){return"["+b+c+'"'+d+'"]'});try{document.querySelector(a),d("Attribute selector with '#' must be quoted: "+b[0]),b[0]=a}catch(e){d("Attribute selector with '#' was not fixed: "+b[0])}}return r.apply(this,b)};var x;for(x in r)Object.prototype.hasOwnProperty.call(r,x)&&(a.find[x]=r[x]);a.parseJSON=function(a){return a?s.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a.browser||(o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p),e(a,"browser",a.browser,"jQuery.browser is deprecated"),a.boxModel=a.support.boxModel="CSS1Compat"===document.compatMode,e(a,"boxModel",a.boxModel,"jQuery.boxModel is deprecated"),e(a.support,"boxModel",a.support.boxModel,"jQuery.support.boxModel is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){var f=a.fn.init.call(this,d,e,c);return f instanceof b?f:b(f)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b},a.fn.size=function(){return d("jQuery.fn.size() is deprecated; use the .length property"),this.length};var y=!1;a.swap&&a.each(["height","width","reliableMarginRight"],function(b,c){var d=a.cssHooks[c]&&a.cssHooks[c].get;d&&(a.cssHooks[c].get=function(){var a;return y=!0,a=d.apply(this,arguments),y=!1,a})}),a.swap=function(a,b,c,e){var f,g,h={};y||d("jQuery.swap() is undocumented and deprecated");for(g in b)h[g]=a.style[g],a.style[g]=b[g];f=c.apply(a,e||[]);for(g in b)a.style[g]=h[g];return f},a.ajaxSetup({converters:{"text json":a.parseJSON}});var z=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?z.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),f)};var A=/\/(java|ecma)script/i;a.clean||(a.clean=function(b,c,e,f){c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,d("jQuery.clean() is deprecated");var g,h,i,j,k=[];if(a.merge(k,a.buildFragment(b,c).childNodes),e)for(i=function(a){return!a.type||A.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a):void 0},g=0;null!=(h=k[g]);g++)a.nodeName(h,"script")&&i(h)||(e.appendChild(h),"undefined"!=typeof h.getElementsByTagName&&(j=a.grep(a.merge([],h.getElementsByTagName("script")),i),k.splice.apply(k,[g+1,0].concat(j)),g+=j.length));return k});var B=a.event.add,C=a.event.remove,D=a.event.trigger,E=a.fn.toggle,F=a.fn.live,G=a.fn.die,H=a.fn.load,I="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",J=new RegExp("\\b(?:"+I+")\\b"),K=/(?:^|\s)hover(\.\S+|)\b/,L=function(b){return"string"!=typeof b||a.event.special.hover?b:(K.test(b)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(K,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&J.test(b)&&d("AJAX events should be attached to document: "+b),B.call(this,a,L(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){C.call(this,a,L(b)||"",c,d,e)},a.each(["load","unload","error"],function(b,c){a.fn[c]=function(){var a=Array.prototype.slice.call(arguments,0);return"load"===c&&"string"==typeof a[0]?H.apply(this,a):(d("jQuery.fn."+c+"() is deprecated"),a.splice(0,0,c),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this))}}),a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return E.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;g<e.length;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),F?F.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),G?G.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return c||J.test(a)||d("Global events are undocumented and deprecated"),D.call(this,a,b,c||document,e)},a.each(I.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,Array.prototype.slice.call(arguments,1),b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}}),a.event.special.ready={setup:function(){this===document&&d("'ready' event is deprecated")}};var M=a.fn.andSelf||a.fn.addBack,N=a.fn.find;if(a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)},a.fn.find=function(a){var b=N.apply(this,arguments);return b.context=this.context,b.selector=this.selector?this.selector+" "+a:a,b},a.Callbacks){var O=a.Deferred,P=[["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),"rejected"],["notify","progress",a.Callbacks("memory"),a.Callbacks("memory")]];a.Deferred=function(b){var c=O(),e=c.promise();return c.pipe=e.pipe=function(){var b=arguments;return d("deferred.pipe() is deprecated"),a.Deferred(function(d){a.each(P,function(f,g){var h=a.isFunction(b[f])&&b[f];c[g[1]](function(){var b=h&&h.apply(this,arguments);b&&a.isFunction(b.promise)?b.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[g[0]+"With"](this===e?d.promise():this,h?[b]:arguments)})}),b=null}).promise()},c.isResolved=function(){return d("deferred.isResolved is deprecated"),"resolved"===c.state()},c.isRejected=function(){return d("deferred.isRejected is deprecated"),"rejected"===c.state()},b&&b.call(c,c),c}}}(jQuery,window);
;(function($){$.fn.imageMapper=function(options){var defaults={itemOpenStyle:'click',itemDesignStyle:'fluid',pinScalingCoefficient:0,categories:!1,showAllCategory:!0,allCategoryText:'All',advancedPinOptions:!1,pinClickAction:'none',pinHoverAction:'content',lightboxGallery:!1,mapOverlay:!1,blurEffect:!1,slideAnimation:!1};var settings=$.extend({},defaults,options);if(settings.pinScalingCoefficient>0)
settings.pinScalingCoefficient=1;else if(settings.pinScalingCoefficient<=0)
pinScalingCoefficient=0;var map_original_width;var map_original_height;var my_debug=!0;var clicked;var tab_clicked;var map_width;var map_height;var pinType1='imapper-pin-type-1',pinType2='imapper-pin-type-2',pinType3='imapper-pin-type-3',pinType4='imapper-pin-type-4',pinType5='imapper-pin-type-5',pinTypeCustom='imapper-pin-type-custom';var parent_width;var contentWrapperOld;var contentOld;var contentHeaderOld;var contentTextOld;var contentTabOld;var contentAdditionalOld;var width;var height;var cHeight;var cWidth;var designStyle;var multiplier;var multiplierArea;var pluginHref=window.location.href;var pluginUrl=pluginHref.substring(0,pluginHref.lastIndexOf('/')+1);return this.each(function(){var id=$(this).attr('id').substring(11,$(this).attr('id').indexOf('-'));var my_transitions;var my_transforms_prefix="";var my_transitions_prefix="";var my_transform;my_transitions=(function(){var obj=document.createElement('div');var props=['transition','WebkitTransition','MozTransition','MsTransition','OTransition'];for(var i in props){if(obj.style[props[i]]!==undefined){if(props[i]=='transition'){my_transitions_prefix=""}else{var my_pref=props[i].replace('Transition','').toLowerCase();if(my_pref==""){my_transitions_prefix=""}else{my_transitions_prefix="-"+my_pref+"-"}}
my_admin_debug("TRansition Prefix ",my_transitions_prefix);return!0}}
return!1}());my_transform=(function(){var obj=document.createElement('div');var props=['transform','WebkitTransform','MozTransform','OTransform','msTransform'];for(var i in props){if(obj.style[props[i]]!==undefined){if(props[i]=='transform'){my_transforms_prefix=""}else{var my_pref=props[i].replace('Transform','').toLowerCase();if(my_pref==""){my_transforms_prefix=""}else{my_transforms_prefix="-"+my_pref+"-"}}
my_admin_debug("TRansform Prefix ",my_transforms_prefix);return!0}}
return!1}());my_admin_debug("Transitions",my_transitions);my_admin_debug("Transforms",my_transform);imapperInit(id,settings);width=$(this).find('.imapper-content').width();height=$(this).find('.imapper-content').height();map_width=$(this).find('#imapper'+id+'-map-image').width();map_height=$(this).find('#imapper'+id+'-map-image').height();var map_original_size=imapperGetOriginalSize('#imapper'+id+'-map-image');if(typeof map_original_size!='undefined'){map_original_width=map_original_size[0];map_original_height=map_original_size[1]}else{map_original_width=map_width;map_original_height=map_height}
var parent_width=($(this).parent().width()<map_original_width)?$(this).parent().width():map_original_width;multiplierArea=parent_width/map_original_width;if(settings.pinScalingCoefficient!=0){multiplier=settings.pinScalingCoefficient}
else{multiplier=multiplierArea}
cHeight=new Array();cWidth=new Array();designStyle=settings.itemDesignStyle;clicked=new Array();tab_clicked=new Array();contentWrapperOld=new Array();contentOld=new Array();contentHeaderOld=new Array();contentTextOld=new Array();contentTabOld=new Array();contentAdditionalOld=new Array();$(this).css('width',parent_width);$("#imagemapper"+id+"-wrapper .my_add_item a").click(function(e){e.preventDefault()});$("#imagemapper"+id+"-wrapper .my_add_item").click(function(e){e.preventDefault();e.stopPropagation();var product_id=$(this).data("my-product-id");var nonce=$(this).find("input[type='hidden']").val();var data={action:'my_woo_add_to_cart',nonce:nonce,id:product_id};my_admin_debug("Add to cart",data);$.ajax({url:my_woo_image_mapper_admin_url,dataType:'json',type:'POST',data:data,timeout:60000,success:function(data){alert(data.msg)},error:function(){}})});$(".imapper"+id+"-pin-wrapper .my_product_footer .my_view_item a").click(function(e){e.preventDefault();var href=$(this).find('a').attr('href');my_admin_debug("Click a view item",href)});$(".imapper"+id+"-pin-wrapper .my_product_footer .my_view_item_category a").click(function(e){e.preventDefault();var href=$(this).find('a').attr('href');my_admin_debug("Click a view item",href)});$(".imapper"+id+"-pin-wrapper .my_product_footer .my_view_item ,"+".imapper"+id+"-pin-wrapper .my_product_footer .my_view_item_category").click(function(e){e.preventDefault();e.stopPropagation();var href=$(this).find('a').attr('href');my_admin_debug("Click view item",href);var my_target=$(this).data('my-target');if(my_target=='new'){var win=window.open(href,'_blank');win.focus()}else if(my_target=='same'){window.location.href=href}});my_function_scalling_pins=function(id){my_admin_debug("Woo immaper scalling pins",id);var my_window_width=parseInt($(window).width());if(my_window_width<settings.responsiveWidth){var my_map_original_size=imapperGetOriginalSize('#imapper'+id+'-map-image');if(typeof my_map_original_size!='undefined'){var my_map_original_width=my_map_original_size[0];var my_map_original_height=my_map_original_size[1];var my_parent_width=($("#imagemapper"+id+"-wrapper").width()<map_original_width)?$("#imagemapper"+id+"-wrapper").parent().width():map_original_width}else{var my_parent_width=$("#imagemapper"+id+"-wrapper").width()*2;var my_map_original_width=$("#imagemapper"+id+"-wrapper").width();var my_map_original_height=$("#imagemapper"+id+"-wrapper").height()}
var my_multiplierArea=my_parent_width/my_map_original_width;if(my_multiplierArea<0.4){my_multiplierArea=0.4}
my_admin_debug("Scalling pins",{width:my_window_width,respo:settings.responsiveWidth});var my_mult_coeff=my_multiplierArea;var img_width=$('.imapper'+id+'-pin').outerWidth();var img_height=$('.imapper'+id+'-pin').outerHeight();var my_new_width=img_width*my_mult_coeff;var my_new_height=img_height*my_mult_coeff;my_admin_debug("Scalling pins",{img_width:img_height,img_width:img_width,coeff:my_mult_coeff,new_w:my_new_width,new_h:my_new_height});var my_scale_coeff_str='scale('+my_mult_coeff+')';my_admin_debug("Scalling str",my_scale_coeff_str);$(".imapper"+id+"-pin").each(function(i,v){var my_id=$(v).attr('id');my_admin_debug("Scalling id",my_id);$(v).data('my-scalling',my_mult_coeff);$(v).css('-webkit-transform',my_scale_coeff_str);$(v).css('-moz-transform',my_scale_coeff_str);$(v).css('-ms-transform',my_scale_coeff_str);$(v).css('-o-transform',my_scale_coeff_str);$(v).css({'transform':my_scale_coeff_str,'transform-origin':'50% 50%','-webkit-transform-origin':'50% 50%','-moz-transform-origin':'50% 50%','-ms-transform-origin':'50% 50%','-o-transform-origin':'50% 50%'});var my_scalle=$(this).data('my-scalling');var my_w=$(this).outerHeight()/2*my_scalle;var my_h=$(this).outerWidth()/2*my_scalle})}else{my_admin_debug("Widnow > responsive view");var my_mult_coeff=1;var my_scale_coeff_str='scale(1);';var my_def=$(".imapper"+id+"-pin").data('my-scalling');if(typeof my_def!='undefined'){$(".imapper"+id+"-pin").each(function(i,v){var my_scalle=$(this).data('my-scalling');my_admin_debug("Scalling",my_scalle);if(typeof my_scalle!='undefined'){var my_id=$(v).attr('id');my_admin_debug("Scalling id",my_id);$(v).data('my-scalling',my_mult_coeff);$(v).css('-webkit-transform',my_scale_coeff_str);$(v).css('-moz-transform',my_scale_coeff_str);$(v).css('-ms-transform',my_scale_coeff_str);$(v).css('-o-transform',my_scale_coeff_str);$(v).css({'transform':my_scale_coeff_str,'transform-origin':'50% 50%','-webkit-transform-origin':'50% 50%','-moz-transform-origin':'50% 50%','-ms-transform-origin':'50% 50%','-o-transform-origin':'50% 50%'});my_scalle=my_mult_coeff;var my_w=$(this).outerHeight()/2*my_scalle;var my_h=$(this).outerWidth()/2*my_scalle;$(this).css('top',-my_w+'px');$(this).css('left',-my_h+'px')}})}}};my_function_scalling_pins(id);$('.imapper'+id+'-pin').each(function(){var pinId=getPinId($(this));my_admin_debug("Array of pins pin",pinId);if($(this).attr('src')!==undefined){if($(this).attr('src').indexOf('images/icons/1/')>=0){$(this).addClass(pinType1)}else if($(this).attr('src').indexOf('images/icons/2/')>=0){$(this).addClass(pinType2)}else if($(this).attr('src').indexOf('images/icons/3/')>=0){$(this).addClass(pinType3)}else if($(this).attr('src').indexOf('images/icons/4/')>=0){$(this).addClass(pinType4)}else if($(this).attr('src').indexOf('images/icons/5/')>=0){$(this).addClass(pinType5)}else{$(this).addClass(pinTypeCustom)}}
clicked[pinId]=0;tab_clicked[pinId]=1;var img_width=$(this).width();var img_height=$(this).height();var radius=parseInt($(this).siblings('.imapper-content').css('border-bottom-left-radius'))/2+1;contentTabOld[pinId]=new Array();contentAdditionalOld[pinId]=new Array();var tNumber=1;var tabValueNumber=$(this).siblings('.imapper-value-tab-number');if(tabValueNumber.length>0)
tNumber=parseInt(tabValueNumber.html());cHeight[pinId]=($(window).width()<=600&&designStyle=='responsive')?map_original_height-((tNumber>1)?tNumber:0)*(75-radius):height;cWidth[pinId]=($(window).width()<=600&&designStyle=='responsive')?map_original_width-((tNumber>1)?tNumber:0)*(75-radius):width;if($(this).hasClass(pinType4))
$(this).addClass('pin-mini-style');else $(this).addClass('pin-style');if($(this).hasClass(pinType2)||$(this).hasClass(pinType1))
$(this).parent().find('.imapper-content').wrapInner('<div class="imapper-content-inner" style="width: '+width+'px; height: '+height+'px;" />');if($(this).hasClass(pinType5))
{$(this).parent().find('.imapper-pin-icon').css('left',-$(this).parent().find('.imapper-pin-icon').width()/2-1+'px')}
if($(this).find("img").length>0){var my_size=imapperGetOriginalSize($(this).find("img"));if(typeof my_size!='undefined'){$(this).css('width',my_size[0]+'px');$(this).css('height',my_size[1]+'px')}}
if(!($(this).hasClass(pinType1)||$(this).hasClass(pinType2)||$(this).hasClass(pinType3)||$(this).hasClass(pinType4)||$(this).hasClass(pinType5)))
{var my_scalle=$(this).data('my-scalling');if(typeof my_scalle=='undefined')my_scalle=1;var my_w=$(this).outerHeight()/2*my_scalle;var my_h=$(this).outerWidth()/2*my_scalle;$(this).css('top',-my_w+'px');$(this).css('left',-my_h+'px')}});$('.imapper'+id+'-pin').mouseenter(function(){if($(this).hasClass(pinType1))
{if(!$(this).is('span')){var position=$(this).attr('src').indexOf('/images/');pluginUrl=$(this).attr('src').substring(0,position);$(this).attr('src',pluginUrl+'/images/icons/1/1-1.png')}}
else if($(this).hasClass(pinType3))
{$(this).animate({marginTop:-10,'padding-bottom':10},{duration:200,queue:!1});$(this).parent().find('.imapper-pin-shadow').animate({marginTop:-80,marginLeft:-46},{duration:200,queue:!1})}
else if($(this).hasClass(pinTypeCustom)){var hoverPin=$(this).data('imapper-hover-pin');var standardPin=$(this).attr('src');$(this).data('imapper-standard-pin',$(this).attr('src'));if(hoverPin!==undefined)
$(this).attr('src',hoverPin)}});$('.imapper'+id+'-pin').mouseleave(function(){if($(this).hasClass(pinType1))
{if(!$(this).is('span')){var position=$(this).attr('src').indexOf('/images/');pluginUrl=$(this).attr('src').substring(0,position);$(this).attr('src',pluginUrl+'/images/icons/1/1.png')}}
else if($(this).hasClass(pinType3))
{$(this).animate({marginTop:0,'padding-bottom':0},{duration:200,queue:!1});$(this).parent().find('.imapper-pin-shadow').animate({marginTop:-75,marginLeft:-41},{duration:200,queue:!1})}
else if($(this).hasClass(pinTypeCustom)){var standardPin=$(this).data('imapper-standard-pin');if(standardPin!==undefined)
$(this).attr('src',standardPin)}});my_change_content_position=function(id,id_pin,position){var my_id="#imapper"+id+"-pin"+id_pin+"-content-wrapper";var my_obj=$(my_id);var width=parseInt(my_obj.data('width'));var height=parseInt(my_obj.data('height'));var my_width=width+20;var my_height=height+20;var img_width=my_obj.parent().find('.imapper'+id+'-pin').outerWidth();var img_height=my_obj.parent().find('.imapper'+id+'-pin').outerHeight();my_admin_debug("Change content position",{my_id:my_id,position:position,width:width,height:height,img_height:img_height,img_width:img_width});var my_hide=[];if(position=='right'){my_hide=['imapper-arrow-new-right','imapper-arrow-new-top','imapper-arrow-new-bottom']}else if(position=='left'){my_hide=['imapper-arrow-new','imapper-arrow-new-top','imapper-arrow-new-bottom']}else if(position=='top'){my_hide=['imapper-arrow-new-right','imapper-arrow-new','imapper-arrow-new-top']}else if(position=='bottom'){my_hide=['imapper-arrow-new-right','imapper-arrow-new-bottom','imapper-arrow-new']}
my_obj.find(".imapper-content .imapper-arrow-new-right").show();my_obj.find(".imapper-content .imapper-arrow-new").show();my_obj.find(".imapper-content .imapper-arrow-new-top").show();my_obj.find(".imapper-content .imapper-arrow-new-bottom").show();$.each(my_hide,function(i,v){my_obj.find("."+v).hide()});var my_width=width+20;var my_height=height+20;if(position=='top'){var my_right=my_width/2+img_width/2-3;my_right-=20;var my_bottom=my_height+img_height/2;my_bottom+=8;my_obj.css('width',my_width+'px');my_obj.css('height',my_height+'px');my_obj.css('right',my_right+'px');my_obj.css('bottom',my_bottom+'px')}else if(position=='bottom'){var my_right=my_width/2+img_width/2-3;my_right-=20;var my_bottom=-(img_height/2+20);my_bottom-=8;my_obj.css('width',my_width+'px');my_obj.css('height',my_height+'px');my_obj.css('right',my_right+'px');my_obj.css('bottom',my_bottom+'px')}else if(position=='right'){var my_right=-17;var my_bottom=height/2+2;my_right=-(img_width/2);my_right-=8;my_right-=20;my_obj.css('width',my_width+'px');my_obj.css('height',my_height+'px');my_obj.css('right',my_right+'px');my_obj.css('bottom',my_bottom+'px')}else if(position=='left'){var my_right=my_width+img_width/2+20;var my_bottom=height/2+2;my_right-=20;my_right+=7;my_obj.css('width',my_width+'px');my_obj.css('height',my_height+'px');my_obj.css('right',my_right+'px');my_obj.css('bottom',my_bottom+'px')}};my_add_transform_small=function(id,id_pin){if((settings.transformSmall)&&($(window).width()<=settings.responsiveWidth)&&designStyle=='responsive')
{my_admin_debug("my_add_transform_small",{id:id,id_pin:id_pin});var mapHeight=$('.imapper'+id+'-map-image').height();var my_map_h=$("#imapper"+id+"-map-image").height();var my_map_w=$("#imapper"+id+"-map-image").width();my_admin_debug("Rwponsive mapHeight",mapHeight);my_admin_debug("Map",{w:my_map_w,h:my_map_h});var my_transform_coeff=1;var my_id_pin="#imapper"+id+"-pin"+id_pin+"-content-wrapper";var my_orig_width=parseFloat($(my_id_pin).data('width'));var my_orig_height=parseFloat($(my_id_pin).data('height'));if((my_orig_width>my_map_w)||(my_orig_height>my_map_h)){var my_t_1=my_map_w/parseFloat(my_orig_width);var my_t_2=my_map_h/parseFloat(my_orig_height);if(my_t_1<my_t_2)my_transform_coeff=my_t_1;else my_transform_coeff=my_t_2}else return!1;my_admin_debug("Transform coeff",my_transform_coeff);var my_obj=$(my_id_pin);var my_left_p=parseFloat(my_obj.parent().css('left'));my_admin_debug("My left p",my_left_p);var positionLeft=-((parseFloat(my_obj.parent().css('left')))/my_transform_coeff);my_admin_debug("position left",positionLeft);var parentTopPercent=parseFloat(my_obj.parent().data('top'))/100;var my_parentLeftPercent=parseFloat(my_obj.parent().data('left'))/100;var mapHeight=parseInt(my_obj.closest('.imagemapper-wrapper').height());my_admin_debug("map height",mapHeight);var part1=mapHeight*parentTopPercent/my_transform_coeff;my_obj.parent().find(".my-imapper-arrow-new-1234").hide();positionTop=-(part1)+"px";my_admin_debug("position top",positionTop);var pinId=getPinId(my_obj);var position=my_obj.parent().data('open-position');my_obj.parent().find('.imapper-content-wrapper').css({'top':positionTop,'left':positionLeft,'width':map_original_width+'px','height':map_original_height+'px','z-index':'15'});my_obj.parent().find('.imapper-content').not('.imapper-content-additional').css({'top':'0px','left':'0px','width':map_original_width+'px','height':map_original_height+'px'});var my_enable_shadow=my_obj.parent().find(".imapper-content").data('my-enable-shadow');var my_shadow_width=parseInt(my_obj.parent().find(".imapper-content").data('my-shadow-width'));my_admin_debug("Shadow",{my_e:my_enable_shadow,my_shadow_width:my_shadow_width});var my_i_w=my_map_w/my_transform_coeff;var my_i_h=my_map_h/my_transform_coeff;var my_i_top=0;var my_i_left=0;var my_i_w_12345=(my_i_w-50);$("#imapper"+id+"-pin"+id_pin+"-content-wrapper .my_product_title_inner").attr('style','width:'+(my_i_w_12345)+'px !important;');my_admin_debug("New width height",{width:my_i_w,height:my_i_h});positionLeft=-(parseFloat(my_parentLeftPercent)*my_map_w);part1=my_map_h*parentTopPercent;positionTop=-(part1);my_admin_debug("Postions",{left:positionLeft,top:part1})
positionLeft-=(my_i_w-my_map_w)/2;positionTop-=(my_i_h-my_map_h)/2;positionLeft+='px';positionTop+='px';my_admin_debug("Postions after",{left:positionLeft,top:positionTop})
var my_transforms_prefix_new=my_transforms_prefix+'transform';my_obj.parent().find('.imapper-content-wrapper').css({'top':positionTop,'left':positionLeft,'width':my_i_w+'px','height':my_i_h+'px','z-index':'15'});my_obj.parent().find('.imapper-content-wrapper').css(my_transforms_prefix_new,'scale('+my_transform_coeff+')');my_obj.parent().find('.imapper-content').not('.imapper-content-additional').css({'top':my_i_top+'px','left':my_i_left+'px','width':my_i_w+'px','height':my_i_h+'px'});var my_h_1=my_obj.parent().find('.imapper-content .my_product_header').data('my-height');var my_h_2=my_obj.parent().find('.imapper-content .my_product_footer').data('my-height');my_h_1=parseInt(my_h_1);my_h_2=parseInt(my_h_2);my_admin_debug("My h 1",{my_h_1:my_h_1,my_h_2:my_h_2});var my_h_t=my_h_1+my_h_2;var my_h_t_2=my_i_h-my_h_t;var my_price_height_12345=my_obj.parent().find(".imapper-content .my_product_price").outerHeight();var my_descr_h_123345=my_h_t_2-my_price_height_12345;my_obj.parent().find(".imapper-content .my_product_description").css('height',my_descr_h_123345+'px');my_obj.parent().find('.imapper-content .my_product_main').height(my_h_t_2);var my_w_1=my_i_w/2;my_admin_debug("Width of add view items",my_w_1);my_obj.parent().find(".imapper-content .my_product_footer .my_view_item_category div").attr('style','width:'+my_i_w+'px !important;');my_obj.parent().find(".imapper-content .my_product_footer .my_view_item div").attr('style','width:'+my_w_1+'px !important;');my_obj.parent().find(".imapper-content .my_product_footer .my_add_item div").attr('style','width:'+my_w_1+'px !important;');return!0};return!1};my_slide_show_quick_box=function(id,pinId,animat_durat,direction){};my_scale_show_quick_box=function(id,pinId,animat_durat){var my_id='#imapper'+id+'-pin'+pinId+'-content-wrapper';$(my_id).finish();var my_image_height=$("#imapper"+id+"-pin"+pinId).outerHeight();var my_image_width=$("#imapper"+id+"-pin"+pinId).outerWidth();$(my_id).show();$(my_id).css('visiblity','visible');$(my_id).find('.imapper-content').css('opacity',0);$(my_id).find('.imapper-content').show();$(my_id).find('.imapper-content').each(function(){this.my_scale=0.5});var window_width=parseInt($(window).width());var my_position=$(my_id).data('my-new-position');my_admin_debug("Position",my_position);if(my_transform){if(window_width<settings.responsiveWidth){my_trans=my_transforms_prefix+'transform-origin';$(my_id).css(my_trans,'center center');$(my_id).find('.imapper-content').animate({my_scale:1,opacity:1},{step:function(now,fx){if(fx.prop=='my_scale'){my_trans=my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}},duration:animat_durat})}else{my_trans=my_transforms_prefix+'transform-origin';var my_top_pos='';var my_right_pos='';if(my_position=='left'){var my_right_pos;var my_right_c=$(my_id).offset().left;var my_right_i=$("#imapper"+id+"-pin"+pinId).offset().left;var my_diff=Math.abs(my_right_c-my_right_i);my_diff=my_image_width/2+18;my_admin_debug("Difference",{my_diff:my_diff,my_right_c:my_right_c,my_right_i:my_right_i});my_right_pos=parseFloat($(my_id).css('right'));$(my_id).data('my-right-pos',my_right_pos);var my_poc_pos=my_right_pos-my_diff;$(my_id).css('right',my_poc_pos+'px');$(my_id).find('.imapper-content').css(my_trans,'right center')}else if(my_position=='right'){var my_right_pos;var my_right_c=$(my_id).offset().left;var my_right_i=$("#imapper"+id+"-pin"+pinId).offset().left;var my_diff=Math.abs(my_right_c-my_right_i);my_admin_debug("Difference",{my_diff:my_diff,my_left_c:my_right_c,my_right_i:my_right_i});my_right_pos=parseFloat($(my_id).css('right'));my_diff=Math.abs(my_right_pos)-10;$(my_id).data('my-right-pos',my_right_pos);var my_poc_pos=my_right_pos+my_diff;$(my_id).css('right',my_poc_pos+'px');$(my_id).find('.imapper-content').css(my_trans,'left center')}else if(my_position=='top'){var my_diff=my_image_height/2+18;var my_bottom=parseFloat($(my_id).css('bottom'));var my_bottom_new=my_bottom-my_diff;my_admin_debug("Bottom",{my_diff:my_diff,my_bottom:my_bottom,my_bottom_new:my_bottom_new});$(my_id).data('my-new-bottom',my_bottom);$(my_id).css('bottom',my_bottom_new+'px');$(my_id).find('.imapper-content').css(my_trans,'center bottom')}else if(my_position=='bottom'){var my_diff=my_image_height/2+18;var my_bottom=parseFloat($(my_id).css('bottom'));var my_bottom_new=my_bottom+my_diff;my_admin_debug("Bottom",{my_diff:my_diff,my_bottom:my_bottom,my_bottom_new:my_bottom_new});$(my_id).data('my-new-bottom',my_bottom);$(my_id).css('bottom',my_bottom_new+'px');$(my_id).find('.imapper-content').css(my_trans,'center top')}
if((my_position=='left')||(my_position=='right')){$(my_id).animate({right:my_right_pos},{duration:animat_durat,complete:function(){var right=$(this).data('my-right-pos');$(this).css('right',right+'px');my_admin_debug("Show quick box Right",right)}});$(my_id).find('.imapper-content').animate({my_scale:1,opacity:1},{step:function(now,fx){if(fx.prop=='my_scale'){my_trans=my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}},duration:animat_durat,complete:function(){var right=$(this).css('right');my_admin_debug("Show quick box Right",right);$(this).css('right','');right=$(this).css('right');my_admin_debug("Show quick box after Right",right)}})}else{$(my_id).animate({bottom:my_bottom},{duration:animat_durat,complete:function(){var right=$(this).data('my-new-bottom');$(this).css('bottom',right+'px');my_admin_debug("Show quick box Bottom",right)}});$(my_id).find('.imapper-content').animate({my_scale:1,opacity:1,},{step:function(now,fx){if(fx.prop=='my_scale'){my_trans=my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}},duration:animat_durat,complete:function(){var top=$(this).css('bottom');my_admin_debug("Show quick box Bottom",top);$(this).css('bottom','');top=$(this).css('bottom');my_admin_debug("Show quick box Bottom after ",top)}})}}}};my_scale_hide_quick_box=function(id,pinId,animat_durat){var my_id='#imapper'+id+'-pin'+pinId+'-content-wrapper';$(my_id).finish();var my_image_height=$("#imapper"+id+"-pin"+pinId).outerHeight();var my_image_width=$("#imapper"+id+"-pin"+pinId).outerWidth();$(my_id).find('.imapper-content').each(function(){this.my_scale=1});$(my_id).find('.imapper-content').css('opacity',1);my_dont_set=0;var window_width=parseInt($(window).width());var my_position=$(my_id).data('my-new-position');my_admin_debug("Position",my_position);if(my_transform){if(window_width<settings.responsiveWidth){my_trans=my_transforms_prefix+'transform-origin';$(my_id).css(my_trans,'center center');$(my_id).find('.imapper-content').animate({my_scale:0.5,opacity:0},{step:function(now,fx){if(fx.prop=='my_scale'){my_trans=my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}},duration:animat_durat,complete:function(){$(this).hide();$(this).parent('.imapper-content-wrapper').hide();$(this).css('opacity','1')}})}else{my_trans=my_transforms_prefix+'transform-origin';var my_top_pos='';var my_right_pos='';if(my_position=='left'){var my_right_pos;var my_right_c=$(my_id).offset().left;var my_right_i=$("#imapper"+id+"-pin"+pinId).offset().left;var my_diff=Math.abs(my_right_c-my_right_i);my_admin_debug("Difference",{my_diff:my_diff,my_right_c:my_right_c,my_right_i:my_right_i});my_right_pos=parseFloat($(my_id).css('right'));my_diff=my_image_width/2+18;$(my_id).data('my-right-pos',my_right_pos);var my_poc_pos=my_right_pos-my_diff;$(my_id).find('.imapper-content').css(my_trans,'right center')}else if(my_position=='right'){var my_right_pos;var my_right_c=$(my_id).offset().left;var my_right_i=$("#imapper"+id+"-pin"+pinId).offset().left;var my_diff=Math.abs(my_right_c-my_right_i);my_admin_debug("Difference",{my_diff:my_diff,my_right_c:my_right_c,my_right_i:my_right_i});my_right_pos=parseFloat($(my_id).css('right'));my_diff=Math.abs(my_right_pos)-10;$(my_id).data('my-right-pos',my_right_pos);var my_poc_pos=my_right_pos+my_diff;$(my_id).find('.imapper-content').css(my_trans,'left center')}else if(my_position=='top'){var my_diff=my_image_height/2+18;var my_bottom=parseFloat($(my_id).css('bottom'));var my_bottom_new=my_bottom-my_diff;my_admin_debug("Bottom",{my_bottom:my_bottom,my_bottom_new:my_bottom_new});$(my_id).find('.imapper-content').css(my_trans,'center bottom')}else if(my_position=='bottom'){var my_diff=my_image_height/2+18;var my_bottom=parseFloat($(my_id).css('bottom'));var my_bottom_new=my_bottom+my_diff;my_admin_debug("Bottom",{my_bottom:my_bottom,my_bottom_new:my_bottom_new});$(my_id).data('my-new-bottom',my_bottom);$(my_id).find('.imapper-content').css(my_trans,'center top')}
if(my_position=='left'||my_position=='right'){$(my_id).animate({right:my_poc_pos},{duration:animat_durat,complete:function(){var right=$(this).data('my-right-pos');$(this).css('right',right+'px');my_admin_debug("Show quick box Right",right)}});$(my_id).find('.imapper-content').animate({my_scale:0.5,opacity:0,},{step:function(now,fx){if(fx.prop=='my_scale'&&my_dont_set){my_trans=my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}
my_dont_set=1},duration:animat_durat,complete:function(){var my_r=$(this).css('right');my_admin_debug("Hide quick box Right",my_r);$(this).css('right','');my_r=$(this).css('right');my_admin_debug("Hide quick box Right After",my_r);$(this).hide();$(this).parent('.imapper-content-wrapper').hide();$(this).css('opacity','1')}})}else{$(my_id).animate({bottom:my_bottom_new},{duration:animat_durat,complete:function(){var right=$(this).data('my-new-bottom');$(this).css('bottom',right+'px');my_admin_debug("Show quick box Bottom",right)}});$(my_id).find('.imapper-content').animate({my_scale:0.5,opacity:0,},{step:function(now,fx){if(fx.prop=='my_scale'&&my_dont_set){my_trans=my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}
my_dont_set=1},duration:animat_durat,complete:function(){var my_r=$(this).css('bottom');my_admin_debug("Hide quick box Bottom",my_r);$(this).css('bottom','');my_r=$(this).css('bottom');my_admin_debug("Hide quick box Bottom After",my_r);$(this).hide();$(this).parent('.imapper-content-wrapper').hide();$(this).css('opacity','1')}})}}}};my_scale_show_hover=function(id,pinId,animat_durat){var my_id="#imapper"+id+"-pin"+pinId+"-my-content-wrapper"
$(my_id).show();$(my_id).find(".my_hover_inner_1234").finish();var my_image_height=$("#imapper"+id+"-pin"+pinId).outerHeight();var my_image_width=$("#imapper"+id+"-pin"+pinId).outerWidth();$(my_id).each(function(){this.my_scale=0.5});if(my_transform){my_trans=my_transforms_prefix+'transform-origin';$(my_id).find('.my_hover_inner_1234').css(my_trans,'center bottom');$(my_id).find('.my_hover_inner_1234').css('opacity',0);$(my_id).find('.my_hover_inner_1234').each(function(){this.my_scale=0.5});var my_top_off=$(my_id).offset().top+12;var my_pin_off=$("#imapper"+id+"-pin"+pinId).offset().top;var my_height=$("#imapper"+id+"-pin"+pinId).outerHeight();my_pin_off-=my_height;var diff=my_top_off-my_pin_off;diff=my_image_height/2+12;my_admin_debug("Diff",{diff:diff,my_top_css:my_top_css});var my_top_css=parseFloat($(my_id).css('top'));var my_top_css_1;my_top_css_1=my_top_css+diff;$(my_id).data('my-top-css',my_top_css);$(my_id).css('top',my_top_css_1+'px');my_admin_debug("New position",{diff:diff,my_top_css:my_top_css,my_tops_css_1:my_top_css_1});$(my_id).animate({top:my_top_css},{duration:animat_durat,complete:function(){var my_top=$(this).data('my-top-css');$(this).css('top',my_top+'px');$(my_id).css('z-index',120)}});$(my_id).find(".my_hover_inner_1234").animate({my_scale:1,opacity:1,},{step:function(now,fx){if(fx.prop=='my_scale'){my_trans=my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}},duration:animat_durat})}};my_scale_hide_hover=function(id,pinId,animat_durat){var my_id="#imapper"+id+"-pin"+pinId+"-my-content-wrapper"
var my_image_height=$("#imapper"+id+"-pin"+pinId).outerHeight();var my_image_width=$("#imapper"+id+"-pin"+pinId).outerWidth();$(my_id).find('.my_hover_inner_1234').finish();$(my_id).css('z-index',12);if(my_transform){my_trans=my_transforms_prefix+'transform';my_trans=my_transforms_prefix+'transform-origin';$(my_id).find('.my_hover_inner_1234').css(my_trans,'center bottom');$(my_id).find('.my_hover_inner_1234').each(function(){this.my_scale=1});var my_top_off=$(my_id).offset().top+12;var my_pin_off=$("#imapper"+id+"-pin"+pinId).offset().top;var my_height=$("#imapper"+id+"-pin"+pinId).outerHeight();my_pin_off-=my_height;var diff=my_top_off-my_pin_off;diff=my_image_height/2+12;my_admin_debug("Diff",{diff:diff,my_top_css:my_top_css});var my_top_css=parseFloat($(my_id).css('top'));var my_top_css_1;my_top_css_1=my_top_css+diff;$(my_id).data('my-top-css',my_top_css);my_admin_debug("New position",{diff:diff,my_top_css:my_top_css,my_tops_css_1:my_top_css_1});$(my_id).animate({top:my_top_css_1},{duration:animat_durat,complete:function(){$(this).hide();var my_top=$(this).data('my-top-css');$(this).css('top',my_top+'px')}})
$(my_id).find('.my_hover_inner_1234').animate({my_scale:0.5,opacity:0,},{step:function(now,fx){if(fx.prop=='my_scale'){my_trans=my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}},duration:animat_durat,complete:function(){var my_top=$(this).data('my-top-css');my_admin_debug("Change top anim",my_top);$(this).css('top',my_top+'px')}})}};my_get_content_position=function(id,obj,pos){var my_pin_id=$(obj).parent(".imapper-pin-wrapper").data('pin-id');var my_width=parseInt($(obj).data('width'));var my_height=parseInt($(obj).data('height'));var img_width=$(obj).parent().find('.imapper'+id+'-pin').outerWidth();var img_height=$(obj).parent().find('.imapper'+id+'-pin').outerHeight();var borderColor=$(obj).data('border-color');var my_check_pos=['right','left','top','bottom'];var my_left=$(obj).offset().left;var my_window_width=parseInt($(window).width());var my_left=$(obj).parent(".imapper-pin-wrapper").offset().left;var my_top=$(obj).parent(".imapper-pin-wrapper").offset().top;if(typeof $("#imagemapper"+id+"-wrapper").data('my-slider')!='undefined'){var pos=$("#imagemapper"+id+"-wrapper").parent(".my_fotorama_item").css('position');if((typeof pos!='undefined')&&(pos=='absolute')){my_left+=10000;my_top+=10000;var ww=$("#imagemapper"+id+"-wrapper").width();var par=$("#imagemapper"+id+"-wrapper").parents(".my_fotorama_outter").width();if(ww<par){my_left+=(par-ww)/2}}else{}}
my_admin_debug("Position "+id+" pin id "+my_pin_id,{left:my_left,top:my_top});var my_check_pos_new=[pos];$.each(my_check_pos,function(i,v){if(v!=pos)my_check_pos_new[my_check_pos_new.length]=v});my_admin_debug("Check pos new",my_check_pos_new);var my_pos,my_found=!1;var my_add_width=20;var my_add_height=20;var my_bottom_pos=$(document).height();my_admin_debug("Window positions",{width:my_window_width,bottom:my_bottom_pos})
$.each(my_check_pos_new,function(i,v){my_pos=v;my_admin_debug("Checking position",v);if(v=='right'){var my_content_width=my_width+my_add_width;var my_content_height=(my_height+my_add_height)/2;var my_right=0;var my_right_pos=my_left+my_content_width-my_right+img_width/2;var my_top_pos=my_top-my_content_height;var my_bott_pos=my_top+my_content_height;my_admin_debug("Position",{my_right_pos:my_right_pos,my_width_cont:my_content_width});if(my_bottom_pos<my_bott_pos){my_admin_debug("Try oder position my_bott_pos="+my_bott_pos,{right:my_right_pos,top:my_top_pos})}
else if(my_right_pos>my_window_width){my_admin_debug("Try oder position my_right_pos="+my_right_pos,{right:my_right_pos,top:my_top_pos})}else if(my_top_pos<0){my_admin_debug("Try other position my_top_pos="+my_top_pos,{right:my_right_pos,top:my_top_pos})}else{my_found=!0;return!1}}else if(v=='left'){var my_content_width=my_width+my_add_width;var my_content_height=(my_height+my_add_height)/2;var my_right=0;var my_right_pos=my_left-my_content_width-my_right-img_width/2;var my_top_pos=my_top-my_content_height;my_admin_debug("Position",{my_right_pos:my_right_pos,my_width_cont:my_content_width});var my_bott_pos=my_top+my_content_height;if(my_bottom_pos<my_bott_pos){my_admin_debug("Try oder position my_bott_pos="+my_bott_pos,{right:my_right_pos,top:my_top_pos})}
else if(my_right_pos<0){my_admin_debug("Try other position right",{my_right:my_right_pos,my_top:my_top_pos})}else if(my_top_pos<0){my_admin_debug("Try other position top",{my_right:my_right_pos,my_top:my_top_pos})}else{my_found=!0;return!1}}else if(v=='top'){var my_content_width=my_add_width+(my_width)/2;var my_content_height=my_height+my_add_width+img_height/2;var my_right=0;var my_top_pos=my_top-my_content_height;var my_right_pos=my_left+my_content_width;var my_left_pos=my_left-my_content_width;my_admin_debug("Position",{my_top_pos:my_top_pos,my_height_cont:my_content_height});if(my_top_pos<0){my_admin_debug("Try other position my_top_pos"+my_top_pos,{my_right:my_right_pos,my_top:my_top_pos})}else if(my_window_width<my_right_pos){my_admin_debug("Try other position my_right_pos"+my_right_pos,{my_right:my_right_pos,my_top:my_top_pos})}else if(my_left_pos<0){my_admin_debug("Try other position my_left_pos"+my_left_pos,{my_right:my_right_pos,my_top:my_top_pos})}else{my_found=!0;return!1}}else if(v=='bottom'){var my_content_width=(my_width)/2+my_add_width;var my_content_height=my_height+my_add_width+img_height/2;var my_right=0;var my_top_pos=my_top+my_content_height;var my_right_pos=my_left+my_content_width;var my_left_pos=my_left-my_content_width;my_admin_debug("Position",{my_top_pos:my_top_pos,my_height_cont:my_content_height});if(my_left_pos<0){my_admin_debug("Try other position my_left_pos"+my_left_pos,{my_right:my_right_pos,my_top:my_top_pos})}
else if(my_top_pos>my_bottom_pos){my_admin_debug("Try other position my_top_pos"+my_top_pos,{my_right:my_right_pos,my_top:my_top_pos})}else if(my_window_width<my_right_pos){my_admin_debug("Try other position my_right_pos"+my_right_pos,{my_right:my_right_pos,my_top:my_top_pos})}else{my_found=!0;return!1}}});if(my_found){$(obj).data('my-new-position',my_pos);return my_pos}else{$(obj).data('my-new-position',pos);return pos}};my_imapper_content_position_function=function(id){$('.imapper'+id+'-pin-content-wrapper').each(function(i,v){var position=$(this).parent().data('open-position');var width=parseInt($(this).data('width'));var height=parseInt($(this).data('height'));var img_width=$(this).parent().find('.imapper'+id+'-pin').outerWidth();var img_height=$(this).parent().find('.imapper'+id+'-pin').outerHeight();var borderColor=$(this).data('border-color');var my_get_position=my_get_content_position(id,this,position);position=my_get_position;var my_hide=[];if(position=='right'){my_hide=['imapper-arrow-new-right','imapper-arrow-new-top','imapper-arrow-new-bottom']}else if(position=='left'){my_hide=['imapper-arrow-new','imapper-arrow-new-top','imapper-arrow-new-bottom']}else if(position=='top'){my_hide=['imapper-arrow-new-right','imapper-arrow-new','imapper-arrow-new-top']}else if(position=='bottom'){my_hide=['imapper-arrow-new-right','imapper-arrow-new-bottom','imapper-arrow-new']}
var my_obj=$(this);$.each(my_hide,function(i,v){my_obj.find(".imapper-content ."+v).hide()});my_admin_debug("Position",position);$(this).find(".imapper-arrow").hide();$(this).find(".imapper-arrow-border").hide();$(v).find(".imapper-content").css('display','none');$(v).css('display','none');var my_width=width+20;var my_height=height+20;if(position=='top'){var my_right=my_width/2+img_width/2-3;var my_bottom=my_height+img_height/2;my_bottom+=8;my_right-=20;$(this).find('.imapper-content').css('position','absolute');$(this).css('width',my_width+'px');$(this).css('height',my_height+'px');$(this).css('right',my_right+'px');$(this).css('bottom',my_bottom+'px')}else if(position=='bottom'){var my_right=my_width/2+img_width/2-3;var my_bottom=-(img_height/2+20);my_bottom-=8;my_right-=20;$(this).find('.imapper-content').css('position','absolute');$(this).css('width',my_width+'px');$(this).css('height',my_height+'px');$(this).css('right',my_right+'px');$(this).css('bottom',my_bottom+'px')}else if(position=='right'){var my_right=-17;my_right=-(img_width/2);my_right-=28;var my_bottom=height/2+2;$(this).find('.imapper-content').css('position','absolute');$(this).css('width',my_width+'px');$(this).css('height',my_height+'px');$(this).css('right',my_right+'px');$(this).css('bottom',my_bottom+'px')}else if(position=='left'){var my_right=my_width+img_width/2+20;my_right+=7;my_right-=20;var my_bottom=height/2+2;$(this).find('.imapper-content').css('position','absolute');$(this).css('width',my_width+'px');$(this).css('height',my_height+'px');$(this).css('right',my_right+'px');$(this).css('bottom',my_bottom+'px')}
return;if(!($(this).siblings('.imapper'+id+'-pin').hasClass(pinType2)))
{if(position=='top')
{$(this).find('.imapper-content').css('position','absolute');$(this).find('.imapper-content').css('right','0px');$(this).find('.arrow-top-border').css('top',height+1+'px');$(this).find('.arrow-top-border').css('left',width/2-11+'px');$(this).find('.arrow-top-border').css('border-top-color',borderColor);$(this).css('width',width+'px');$(this).css('height',height+img_height/4+35+'px');$(this).css('right',width/2+'px');$(this).css('bottom',height+img_height+40+'px');if($(this).siblings('.imapper'+id+'-pin').hasClass(pinType4))
{$(this).css('right',width/2-4+'px');$(this).css('bottom',height+50+'px')}
else if($(this).siblings('.imapper'+id+'-pin').hasClass(pinType5))
$(this).css('bottom',height+img_height+20+'px');$(this).find('.imapper-arrow').addClass('arrow-down');$(this).find('.imapper-arrow').css('top',height+'px')}
else if(position=='bottom')
{$(this).find('.imapper-content').css('position','absolute');$(this).find('.imapper-content').css('bottom','0px');$(this).find('.imapper-content').css('right','0px');$(this).find('.arrow-bottom-border').css('top',img_height/4+24+'px');$(this).find('.arrow-bottom-border').css('left',width/2-11+'px');$(this).find('.arrow-bottom-border').css('border-bottom-color',borderColor);$(this).css('width',width+'px');$(this).css('height',height+img_height/4+40+'px');$(this).css('right',width/2+'px');$(this).css('bottom',img_height/4-5+'px');if($(this).siblings('.imapper'+id+'-pin').hasClass(pinType4))
{$(this).css('right',width/2-4+'px');$(this).css('bottom','0px')}
else if($(this).siblings('.imapper'+id+'-pin').hasClass(pinType5))
$(this).css('bottom',img_height/4-10+'px');$(this).find('.imapper-arrow').addClass('arrow-up');var color=$(this).find('.imapper-arrow').css('border-top-color');$(this).find('.imapper-arrow').css('border-top-color','transparent');$(this).find('.imapper-arrow').css('border-bottom-color',color);$(this).find('.imapper-arrow').css('top',img_height/4+25+'px')}
else if(position=='right')
{$(this).find('.imapper-content').css('position','absolute');$(this).find('.imapper-content').css('right','0px');$(this).find('.imapper-content').css('bottom','0px');$(this).find('.arrow-right-border').css('top',height/2-11+'px');$(this).find('.arrow-right-border').css('left',img_width/4+24+'px');$(this).find('.arrow-right-border').css('border-right-color',borderColor);$(this).css('width',width+img_width/4+40+'px');$(this).css('height',height+'px');$(this).css('right','-15px');$(this).css('bottom',height/2+img_height/2+'px');if($(this).siblings('.imapper'+id+'-pin').hasClass(pinType4))
{$(this).css('right','0px');$(this).css('bottom',height/2+10+'px')}
else if($(this).siblings('.imapper'+id+'-pin').hasClass(pinType5))
$(this).css('right','-10px');$(this).find('.imapper-arrow').addClass('arrow-left');var color=$(this).find('.imapper-arrow').css('border-top-color');$(this).find('.imapper-arrow').css('border-top-color','transparent');$(this).find('.imapper-arrow').css('border-right-color',color);$(this).find('.imapper-arrow').css('top',height/2-10+'px');$(this).find('.imapper-arrow').css('left',img_width/4+25+'px')}
else if(position=='left')
{$(this).find('.imapper-content').css('position','absolute');$(this).find('.imapper-content').css('bottom','0px');$(this).find('.arrow-left-border').css('top',height/2-11+'px');$(this).find('.arrow-left-border').css('left',width+'px');$(this).find('.arrow-left-border').css('border-left-color',borderColor);$(this).css('width',width+img_width/4+40+'px');$(this).css('height',height+'px');$(this).css('right',width+img_width-2+'px');$(this).css('bottom',height/2+img_height/2+'px');if($(this).siblings('.imapper'+id+'-pin').hasClass(pinType4))
{$(this).css('right',width+44+'px');$(this).css('bottom',height/2+10+'px')}
else if($(this).siblings('.imapper'+id+'-pin').hasClass(pinType5))
$(this).css('right',width+img_width-12+'px');$(this).find('.imapper-arrow').addClass('arrow-right');var color=$(this).find('.imapper-arrow').css('border-top-color');$(this).find('.imapper-arrow').css('border-top-color','transparent');$(this).find('.imapper-arrow').css('border-left-color',color);$(this).find('.imapper-arrow').css('top',height/2-10+'px');$(this).find('.imapper-arrow').css('left',width+'px')}}
else if($(this).siblings('.imapper'+id+'-pin').hasClass(pinType2))
{$(this).find('.imapper-content-header').css('padding','0px 10px 0px 10px');if(position=='right')
{$(this).find('.imapper-content').css('position','absolute');$(this).find('.imapper-content').css('left','19px');$(this).find('.imapper-content').css('border-top-left-radius','0px');$(this).find('.imapper-content').css('border-bottom-left-radius','0px');$(this).find('.imapper-content').css('border-left','none');$(this).css('width',width+20+'px');$(this).css('height',height+'px');$(this).css('right','-2px');$(this).css('bottom','75px');$(this).find('.imapper-content').css('width','0px');$(this).find('.triangle-right-border').css('border-top-color',borderColor);$(this).find('.triangle-right-border').css('border-bottom-color',borderColor);$(this).find('.imapper-arrow').addClass('triangle-right');var color=$(this).find('.imapper-arrow').css('border-top-color');$(this).find('.imapper-arrow').css('border-bottom-color',color);$(this).find('.imapper-arrow').css('position','absolute');$(this).find('.imapper-arrow').css('top','1px')}
else if(position=='left')
{$(this).find('.imapper-content').css('position','absolute');$(this).find('.imapper-content').css('left','0px');$(this).find('.imapper-content').css('border-top-right-radius','0px');$(this).find('.imapper-content').css('border-bottom-right-radius','0px');$(this).find('.imapper-content').css('border-right','none');$(this).find('.imapper-content').css('width','0px');$(this).find('.imapper-content').css('margin-left',width+'px');$(this).find('.triangle-left-border').css('border-top-color',borderColor);$(this).find('.triangle-left-border').css('border-bottom-color',borderColor);$(this).css('width',width+20+'px');$(this).css('height',height+'px');$(this).css('right',width+18+'px');$(this).css('bottom','75px');$(this).find('.imapper-arrow').addClass('triangle-left');var color=$(this).find('.imapper-arrow').css('border-top-color');$(this).find('.imapper-arrow').css('border-bottom-color',color);$(this).find('.imapper-arrow').css('position','absolute');$(this).find('.imapper-arrow').css('right','0px');$(this).find('.imapper-arrow').css('top','1px')}}
if($(this).siblings('.imapper'+id+'-pin').hasClass(pinType1))
{var radius=(parseInt($(this).find('.imapper-content').css('border-top-left-radius'))/2+1);var zindextab=100;if(position=='left'||position=='right')
{var bottom=parseInt($(this).css('height'))+25-radius;var bottom_tab=parseInt($(this).css('height'));$(this).find('.imapper-content-additional').each(function(){$(this).css('height','0px');$(this).find('.imapper-content-inner').css('display','none');$(this).css('bottom',bottom+'px');bottom+=25-radius});$(this).find('.imapper-content-tab').each(function(index){$(this).css('height','25px');$(this).css('width',width+'px');$(this).css('border-top-left-radius',$(this).siblings('.imapper-content').css('border-top-left-radius'));$(this).css('border-top-right-radius',$(this).siblings('.imapper-content').css('border-top-right-radius'));$(this).css('border-style','solid');$(this).css('border-width','1px 1px 0 1px');$(this).css('border-color',borderColor);$(this).find('a').css('padding','0 0 0 10px');if(position=='right')
$(this).css('right','0px');$(this).css('bottom',bottom_tab+'px');bottom_tab+=25-radius;$(this).css('z-index',zindextab);zindextab--});$(this).find('.imapper-content').each(function(index){var tNumber=1;var tabValueNumber=$(this).parent().siblings('.imapper-value-tab-number');if(tabValueNumber.length>0)
tNumber=parseInt(tabValueNumber.html());if(tNumber!=1)
{if(index==0)
{$(this).css('border-top-left-radius','0px');$(this).css('border-top-right-radius','0px')}
else $(this).css('border-radius','0px');$(this).find('.imapper-content').css('border-width','0 1px 1px 1px')}})}
else if(position=='top'||position=='bottom')
{var right=parseInt($(this).css('width'))+25-radius;var right_tab=parseInt($(this).css('width'));$(this).find('.imapper-content-additional').each(function(){$(this).css('width','0px');$(this).find('.imapper-content-inner').css('display','none');$(this).css('right',right+'px');right+=25-radius});$(this).find('.imapper-content-tab').each(function(){$(this).css('width','25px');$(this).css('height',height+'px');$(this).find('a').css('height',height+'px');$(this).css('border-top-left-radius',$(this).parent().find('.imapper-content').css('border-top-left-radius'));$(this).css('border-bottom-left-radius',$(this).parent().find('.imapper-content').css('border-bottom-left-radius'));$(this).css('border-style','solid');$(this).css('border-width','1px 0 1px 1px');$(this).css('border-color',borderColor);$(this).find('a').css('padding','5px 0 0 5px');if(position=='bottom')
$(this).css('bottom','0px');$(this).css('right',right_tab+'px');right_tab+=25-radius;$(this).css('z-index',zindextab);zindextab--});$(this).find('.imapper-content').each(function(index){var tNumber=1;var tabValueNumber=$(this).parent().siblings('.imapper-value-tab-number');if(tabValueNumber.length>0)
tNumber=parseInt(tabValueNumber.html());if(tNumber!=1)
{if(index==0)
{$(this).css('border-top-left-radius','0px');$(this).css('border-bottom-left-radius','0px')}
else $(this).css('border-radius','0px');$(this).find('.imapper-content').css('border-width','1px 1px 1px 0')}})}}
if($(this).siblings('.imapper'+id+'-pin').attr('src')!==undefined){var indexPosition=$(this).siblings('.imapper'+id+'-pin').attr('src').indexOf('images/');var position=$(this).parent().find('.imapper'+id+'-pin').attr('src').indexOf('/images/');pluginUrl=$(this).parent().find('.imapper'+id+'-pin').attr('src').substring(0,position);$(this).siblings('.imapper-pin-color').css('behavior','url('+pluginUrl+'/pie/PIE.htc)')}})};my_imapper_content_position_function(id);my_content_position_function=function(id){$(".imapper"+id+"-pin-my-content-wrapper").each(function(i,v){var my_id=$(this).data('pin-id');my_admin_debug("Pin",my_id);var my_width_1=$(this).width();var my_height_1=$(this).height();var position='top';var borderColor=$(this).parent().data('my-hover-back-color');var img_width=$("#imapper"+id+"-pin"+my_id).outerWidth();var img_height=$("#imapper"+id+"-pin"+my_id).outerHeight();var my_new_left=$("#imapper"+id+"-pin"+my_id+"-wrapper").position().left;var my_new_top=$("#imapper"+id+"-pin"+my_id+"-wrapper").position().top;my_admin_debug("My new positions",{my_new_left:my_new_left,my_new_top:my_new_top,img_width:img_width,img_height:img_height});var my_top_pos=my_new_top-(img_height/2+22+my_height_1);var my_left_new=my_new_left-(my_width_1/2);$(v).css('position','absolute');$(v).css('top',my_top_pos+'px');$(v).css('left',my_left_new+'px');$(this).find('.arrow-top-border').css('left',my_width_1/2-11+'px');$(this).find('.arrow-top-border').css('border-top-color',borderColor);$(this).find('.imapper-arrow').hide();$(this).find('.imapper-arrow').addClass('arrow-down');$(this).hide();return;if($(window).width()<=600&&designStyle=='responsive')
{};var left_p=$("#imapper"+id+"-pin"+my_id+"-wrapper").data('left');var top_p=$("#imapper"+id+"-pin"+my_id+"-wrapper").data('top');if($("#imapper"+id+"-pin"+my_id+"-wrapper .my_inner_dot-front").length>0){var top_dot=$("#imapper"+id+"-pin"+my_id+"-wrapper .my_inner_dot-front").offset().top;var left_dot=$("#imapper"+id+"-pin"+my_id+"-wrapper .my_inner_dot-front").offset().left}
left_p=parseFloat(left_p);top_p=parseFloat(top_p);var top=top_p/100*$("#imapper"+id+"-map-image").height();var left=left_p/100*$("#imapper"+id+"-map-image").width();my_admin_debug("Position",{left:left,top:top,position:position,borderColor:borderColor,img_w:img_width,img_h:img_height,my_w:my_width_1,my_h:my_height_1});my_admin_debug("Immaper hover data",{pos:position,border:borderColor});$(v).css('position','absolute');var w=$(this).width();var l=left;if(position=='top'){$(this).find('.arrow-top-border').css('left',my_width_1/2-11+'px');$(this).find('.arrow-top-border').css('border-top-color',borderColor);var my_enable_shadow=$(this).data('my-enable-shadow');var my_shadow_width=parseInt($(this).data('my-shadow-width'));var top_new=top;$(this).css('top',top_p+'%');$(this).css('left',left_p+'%');var left_new=$(this).position().left;my_admin_debug("New positions",{left_new:left_new,top_new:top_new});top_new=top_new-my_height_1-img_height/2-20;left_new=left_new-(my_width_1/2)+2;my_admin_debug("Calculated positions",{left_new:left_new,top_new:top_new,img_w:img_width,img_h:img_height});$(this).css('top',top_new+'px');$(this).css('left',left_new+'px');var my_image_top=$("#imagemapper"+id+"-wrapper").offset().top;var my_image_left=$("#imagemapper"+id+"-wrapper").offset().left;var top_new_1=top_dot-my_image_top;var left_new_1;var dot_out_width;if($("#imapper"+id+"-pin"+my_id+"-wrapper .my_inner_dot-front").length==0){dot_out_width=$("#imapper"+id+"-pin"+my_id).outerWidth();left_dot=$("#imapper"+id+"-pin"+my_id).offset().left;left_new_1=left_dot-my_image_left+(dot_out_width/2)-(my_width_1/2)}
else{dot_out_width=$("#imapper"+id+"-pin"+my_id+"-wrapper .my_inner_dot-front").outerWidth();left_new_1=left_dot-my_image_left+(dot_out_width/2)-(my_width_1/2);my_admin_debug("New positions",{dor_w:dot_out_width,top:top_new_1,left:left_new_1})}
$(this).css('left',left_new_1+'px');$(this).find('.imapper-arrow').hide();$(this).find('.imapper-arrow').addClass('arrow-down')}
$(v).hide()})};my_content_position_function(id);var hheight;$(this).find('.imapper-content-text').each(function(index){if(index==0)
hheight=$(this).siblings('.imapper-content-header').height();if($(this).siblings('.imapper-content-header').html()!='')
{var dis=$(this).closest('.imapper-content-inner');if(dis.length==0)
dis=$(this);if($(dis).closest('.imapper-content-wrapper').siblings('img').hasClass(pinType2))
$(this).css('height',$(this).parent().height()-hheight-20+'px');else $(this).css('height',$(this).parent().height()-hheight-30+'px')}
else{$(this).siblings('.imapper-content-header').css('padding','0px');$(this).css('height',$(this).parent().height()-20+'px')}
$(this).mCustomScrollbar({'scrollInertia':300})});if((multiplier<=1)&&settings.oldResponsive)
{my_admin_debug("Multiplier",multiplier);$(this).find('.imapper'+id+'-pin-wrapper').css('transform','scale('+multiplier+')');var windowWidth=parseInt($(window).width());if(settings.pinScalingCoefficient!=0&&windowWidth<600&&settings.itemDesignStyle=='responsive'){var my_multi_var=multiplierArea/multiplier;my_admin_debug("Scalling",my_multi_var);$(this).find('.imapper-pin-wrapper-my-inner-front ~ .imapper-content-wrapper').css({'transform':'scale('+(multiplierArea/multiplier)+')','transform-origin':'0% 0%','-webkit-transform-origin':'0% 0%','-moz-transform-origin':'0% 0%','-ms-transform-origin':'0% 0%','-o-transform-origin':'0% 0%'})}}
$(this).find('.imapper-pin-wrapper > .imapper-area-pin').parent().css('transform','scale('+multiplierArea+')');var windowWidth=parseInt($(window).width());if(windowWidth>600||settings.itemDesignStyle=='fluid'){$(this).find('.imapper-pin-wrapper > img ~ .imapper-content-wrapper').each(function(){var openPosition=$(this).parent().data('open-position');switch(openPosition){case 'top':$(this).css({'transform':'scale('+(multiplier)+')','transform-origin':'center bottom','-webkit-transform-origin':'center bottom','-moz-transform-origin':'center bottom','-ms-transform-origin':'center bottom','-o-transform-origin':'center bottom'});break;case 'bottom':$(this).css({'transform':'scale('+(multiplier)+')','transform-origin':'center top','-webkit-transform-origin':'center top','-moz-transform-origin':'center top','-ms-transform-origin':'center top','-o-transform-origin':'center top'});break;case 'left':$(this).css({'transform':'scale('+(multiplier)+')','transform-origin':'right center','-webkit-transform-origin':'right center','-moz-transform-origin':'right center','-ms-transform-origin':'right center','-o-transform-origin':'right center'});break;case 'right':$(this).css({'transform':'scale('+(multiplier)+')','transform-origin':'left center','-webkit-transform-origin':'left center','-moz-transform-origin':'left center','-ms-transform-origin':'left center','-o-transform-origin':'left center'});break}})}
$(this).css('visibility','visible');$(".imapper-content .my_product_close").mouseenter(function(e){$(this).find(".my_font_size").finish();var c1=$(this).data('color');var c2=$(this).data('hover-color');my_admin_debug("Mouse enter",{c1:c1,c2:c2});$(this).find(".my_font_size").css('color',c1);$(this).find(".my_font_size").animate({color:c2},settings.animateOther)});$(".imapper-content .my_product_close").mouseleave(function(e){$(this).find(".my_font_size").finish();var c1=$(this).data('color');var c2=$(this).data('hover-color');my_admin_debug("Mouse leave",{c1:c1,c2:c2});$(this).find(".my_font_size").css('color',c2);$(this).find(".my_font_size").animate({color:c1},settings.animateOther)});$(".imapper-content .my_add_item").mouseenter(function(e){$(this).find("a").finish();$(this).finish();var c1=$(this).data('color');var c2=$(this).data('hover-color');var bc1=$(this).data('back-color');var bc2=$(this).data('hover-back-color');my_admin_debug("Mouse enter",{c1:c1,c2:c2,bc1:bc1,bc2:bc2});$(this).find("a").css('color',c1);$(this).find("a").animate({color:c2},settings.animateOther);$(this).css('background-color',bc1);$(this).animate({'background-color':bc2},settings.animateOther)});$(".imapper-content .my_add_item").mouseleave(function(e){$(this).find("a").finish();$(this).finish();var c1=$(this).data('color');var c2=$(this).data('hover-color');var bc1=$(this).data('back-color');var bc2=$(this).data('hover-back-color');my_admin_debug("Mouse enter",{c1:c1,c2:c2,bc1:bc1,bc2:bc2});$(this).find("a").css('color',c2);$(this).find("a").animate({color:c1},settings.animateOther);$(this).css('background-color',bc2);$(this).animate({'background-color':bc1},settings.animateOther)});$(".imapper-content .my_view_item , .imapper-content .my_view_item_category").mouseenter(function(e){$(this).find("a").finish();$(this).finish();var c1=$(this).data('color');var c2=$(this).data('hover-color');var bc1=$(this).data('back-color');var bc2=$(this).data('hover-back-color');my_admin_debug("Mouse enter",{c1:c1,c2:c2,bc1:bc1,bc2:bc2});$(this).find("a").css('color',c1);$(this).find("a").animate({color:c2},settings.animateOther);$(this).css('background-color',bc1);$(this).animate({'background-color':bc2},settings.animateOther)});$(".imapper-content .my_view_item ,.imapper-content .my_view_item_category").mouseleave(function(e){$(this).find("a").finish();$(this).finish();var c1=$(this).data('color');var c2=$(this).data('hover-color');var bc1=$(this).data('back-color');var bc2=$(this).data('hover-back-color');my_admin_debug("Mouse enter",{c1:c1,c2:c2,bc1:bc1,bc2:bc2});$(this).find("a").css('color',c2);$(this).find("a").animate({color:c1},settings.animateOther);$(this).css('background-color',bc2);$(this).animate({'background-color':bc1},settings.animateOther)});$(document).on('click','.imapper-content-tab a',function(e){e.preventDefault();var pinId=getPinId($(this).closest('.imapper-content-wrapper').siblings('.imapper-pin-type-1'));var newClick=parseInt($(this).html());var dis=$(this).parent().parent();var position=$(this).closest('.imapper-pin-wrapper').data('open-position');if(newClick!=tab_clicked[pinId])
{if(position=='left'||position=='right')
{if(newClick>tab_clicked[pinId])
{$(dis).find('.imapper-content').eq(newClick-1).stop(!0,!0);$(dis).find('.imapper-content').eq(tab_clicked[pinId]-1).find('.imapper-content-inner').fadeOut('fast');$(dis).find('.imapper-content').eq(tab_clicked[pinId]-1).animate({height:0},{duration:400});for(var i=tab_clicked[pinId];i<newClick;i++)
{var bottomNew=parseInt($(dis).find('.imapper-content-tab').eq(i-1).css('bottom'))-cHeight[pinId];$(dis).find('.imapper-content-tab').eq(i-1).animate({bottom:bottomNew},{duration:400});if(i!=tab_clicked[pinId])
$(dis).find('.imapper-content').eq(i-1).css('bottom',parseInt($(dis).find('.imapper-content').eq(i-1).css('bottom'))-cHeight[pinId])}
$(dis).find('.imapper-content').eq(newClick-1).find('.imapper-content-inner').fadeIn('fast');var bottomNew2=parseInt($(dis).find('.imapper-content').eq(newClick-1).css('bottom'))-cHeight[pinId];$(dis).find('.imapper-content').eq(newClick-1).animate({height:cHeight[pinId],bottom:bottomNew2},{duration:400})}
else{$(dis).find('.imapper-content').eq(newClick-1).stop(!0,!0);$(dis).find('.imapper-content').eq(tab_clicked[pinId]-1).find('.imapper-content-inner').fadeOut('fast');var bottomNew=parseInt($(dis).find('.imapper-content').eq(tab_clicked[pinId]-1).css('bottom'))+cHeight[pinId];$(dis).find('.imapper-content').eq(tab_clicked[pinId]-1).animate({height:0,bottom:bottomNew},{duration:400});$(dis).find('.imapper-content').eq(newClick-1).find('.imapper-content-inner').fadeIn('fast');$(dis).find('.imapper-content').eq(newClick-1).animate({height:cHeight[pinId]},{duration:400});for(var i=newClick;i<tab_clicked[pinId];i++)
{var bottomNew2=parseInt($(dis).find('.imapper-content-tab').eq(i-1).css('bottom'))+cHeight[pinId];$(dis).find('.imapper-content-tab').eq(i-1).stop(!0,!0).animate({bottom:bottomNew2},{duration:400});if(i!=newClick)
$(dis).find('.imapper-content').eq(i-1).css('bottom',parseInt($(dis).find('.imapper-content').eq(i-1).css('bottom'))+cHeight[pinId])}}}
else if(position=='top'||position=='bottom')
{if(newClick>tab_clicked[pinId])
{$(dis).find('.imapper-content').eq(newClick-1).stop(!0,!0);$(dis).find('.imapper-content').eq(tab_clicked[pinId]-1).find('.imapper-content-inner').fadeOut('fast');$(dis).find('.imapper-content').eq(tab_clicked[pinId]-1).animate({width:0},{duration:400});for(var i=tab_clicked[pinId];i<newClick;i++)
{var rightNew=parseInt($(dis).find('.imapper-content-tab').eq(i-1).css('right'))-cWidth[pinId];$(dis).find('.imapper-content-tab').eq(i-1).animate({right:rightNew},{duration:400});if(i!=tab_clicked[pinId])
$(dis).find('.imapper-content').eq(i-1).css('right',parseInt($(dis).find('.imapper-content').eq(i-1).css('right'))-cWidth[pinId])}
$(dis).find('.imapper-content').eq(newClick-1).find('.imapper-content-inner').fadeIn('fast');var rightNew2=parseInt($(dis).find('.imapper-content').eq(newClick-1).css('right'))-cWidth[pinId];$(dis).find('.imapper-content').eq(newClick-1).animate({width:cWidth[pinId],right:rightNew2},{duration:400})}
else{$(dis).find('.imapper-content').eq(newClick-1).stop(!0,!0);$(dis).find('.imapper-content').eq(tab_clicked[pinId]-1).find('.imapper-content-inner').fadeOut('fast');var rightNew=parseInt($(dis).find('.imapper-content').eq(tab_clicked[pinId]-1).css('right'))+cWidth[pinId];$(dis).find('.imapper-content').eq(tab_clicked[pinId]-1).animate({width:0,right:rightNew},{duration:400});$(dis).find('.imapper-content').eq(newClick-1).find('.imapper-content-inner').fadeIn('fast');$(dis).find('.imapper-content').eq(newClick-1).animate({width:cWidth[pinId]},{duration:400});for(var i=newClick;i<tab_clicked[pinId];i++)
{var rightNew2=parseInt($(dis).find('.imapper-content-tab').eq(i-1).stop(!0,!0).css('right'))+cWidth[pinId];$(dis).find('.imapper-content-tab').eq(i-1).animate({right:rightNew2},{duration:400});if(i!=newClick)
$(dis).find('.imapper-content').eq(i-1).css('right',parseInt($(dis).find('.imapper-content').eq(i-1).css('right'))+cWidth[pinId])}}}
$(dis).find('.imapper-content').eq(newClick-1).find('.imapper-content-text').mCustomScrollbar('update');tab_clicked[pinId]=newClick}});$(document).on('click','.my_product_close',function(){my_admin_debug("Close window");var el=$('#imapper'+id+'-map-image');if(settings.itemOpenStyle=='hover'||$(this).closest('.imapper-pin-wrapper').data('imapper-hover-action')=='content')
$(this).closest('.imapper-pin-wrapper').trigger('mouseleave');else $(this).parent().siblings('.imapper'+id+'-pin').trigger('click');imapperClearMap(el,id,clicked);my_immaper_this=this;setTimeout(function(){$(my_immaper_this).find(".my_font_size").finish();var c1=$(my_immaper_this).data('color');var c2=$(my_immaper_this).data('hover-color');my_admin_debug("Close pin change color",{c1:c1,c2:c2});$(my_immaper_this).find(".my_font_size").css('color',c1)},settings.animationDuration)});var my_mouse_leave_during={};var my_in_animations={};var my_out_animations={};$('.imapper'+id+'-pin-wrapper').each(function(){var itemClickAction;if(settings.itemOpenStyle=='click')
itemClickAction='content';else itemClickAction='none';if(settings.advancedPinOptions==!0&&settings.pinClickAction!='')
itemClickAction=settings.pinClickAction;if($(this).attr('data-imapper-click-action')!==undefined)
itemClickAction=$(this).attr('data-imapper-click-action');var itemHoverAction;if(settings.itemOpenStyle=='hover')
itemHoverAction='content';else itemHoverAction='none';if(settings.advancedPinOptions==!0&&settings.pinHoverAction!='')
itemHoverAction=settings.pinHoverAction;if($(this).attr('data-imapper-hover-action')!==undefined)
itemHoverAction=$(this).attr('data-imapper-hover-action');my_admin_debug("Hover Action",itemHoverAction);if(itemHoverAction=='my_content')
{$(this).children('.imapper'+id+'-pin').mouseenter(function(){var my_window_width=$(window).width();if(my_window_width<settings.responsiveWidth){return}
var my_pin_id=$(this).data('pin-id');my_admin_debug("Clicked pins",clicked);if(clicked[my_pin_id]==1)return;my_in_animations[my_pin_id]=1;my_admin_debug("Hover immaper Pin id",my_pin_id);$(this).siblings('.imapper-content-wrapper').stop(!0,!0);$(this).siblings('.imapper-content-wrapper').find('.imapper-content').stop(!0,!0);var properties2={};var contentOpenPosition=$(this).closest('.imapper-pin-wrapper').data('my-hover-open');var inAnimation=$(this).closest('.imapper-pin-wrapper').data('my-hover-in-animation');var outAnimation=$(this).closest('.imapper-pin-wrapper').data('my-hover-out-animation');my_admin_debug("Hover in ",{openPos:contentOpenPosition,in_a:inAnimation,out_a:outAnimation});if(inAnimation!=""){var rightPos=0;var bottomPos=0;switch(contentOpenPosition){case 'top':case 'bottom':bottomPos=parseInt($(this).siblings('.imapper-content-wrapper').css('bottom'));var duration={duration:400,queue:!0,always:function(){$(this).css({'bottom':bottomPos+'px'})}};break;case 'left':case 'right':rightPos=parseInt($(this).siblings('.imapper-content-wrapper').css('right'));var duration={duration:400,queue:!0,always:function(){$(this).css({'right':rightPos+"px"})}};break;default:var duration={duration:400,queue:!0}}}else{var duration={duration:400,queue:!0}}
var cpWidth=($(window).width()<=600&&designStyle=='responsive')?($(this).closest('.imagemapper-wrapper').width()/parseFloat($(this).parent().css('transform').substring($(this).parent().css('transform').indexOf('(')+1,$(this).parent().css('transform').indexOf(',')))):width;if($(window).width()>600&&designStyle=='responsive'||designStyle=='fluid')
{$(this).css('z-index','12');$(this).siblings('.imapper-value-tab-number').css('z-index','12');$(this).siblings('.imapper-content-wrapper').css('z-index','11')}
else{$(this).siblings('.imapper-content-wrapper').css('z-index','13')}
$(this).parent().css('z-index','100');if($(this).siblings('.imapper-content-wrapper').css('visibility')=='hidden')
$(this).siblings('.imapper-content-wrapper').css('visibility','visible');if($(this).hasClass(pinType2))
{if($(this).parent().data('open-position')=='right')
properties2={width:cpWidth};else properties2={width:cpWidth,marginLeft:0};$(this).siblings('.imapper-content-wrapper').find('.imapper-content').animate(properties2,duration)}
var my_hover_id='imapper'+id+'-pin'+my_pin_id+'-my-content-wrapper';var my_showed=$("#"+my_hover_id).data("my-showed");my_enable_shadow=$("#"+my_hover_id).data('my-enable-shadow');my_admin_debug("Enable shadow",my_enable_shadow);if(outAnimation=='slideOut'){my_admin_debug("Stop animation",outAnimation);$("#"+my_hover_id).stop(!0,!0)}
else{$("#"+my_hover_id).finish();$("#"+my_hover_id).find(".my_hover_inner_1234").finish()}
my_admin_debug("My showed",my_showed);if(typeof my_showed!='undefined'&&my_showed==1)return;my_admin_debug("Hover action id",my_hover_id);$("#"+my_hover_id).data('my-showed',1);if(my_transitions){$("#"+my_hover_id).css(my_transitions_prefix+'transition',"");$("#"+my_hover_id).css(my_transforms_prefix+'transform','')}
var my_transition_out=$("#"+my_hover_id).data("my-transition-out-1");my_admin_debug("Transition out",my_transition_out);if(typeof my_scale_out_timeout!='undefined')
clearTimeout(my_scale_out_timeout);if((typeof my_transition_out!='undefined')&&inAnimation!='scaleIn'){my_admin_debug("Sclae element to one",inAnimation);$("#"+my_hover_id).css("opacity",0);$("#"+my_hover_id).css('display','block');$("#"+my_hover_id).find('.my_hover_inner_1234').css(my_transitions_prefix+'transition','');$("#"+my_hover_id).find('.my_hover_inner_1234').css(my_transforms_prefix+'transform','scale(1)');$("#"+my_hover_id).css('display','none');$("#"+my_hover_id).css("opacity",1);$("#"+my_hover_id).find('.my_hover_inner_1234').css("opacity",1)}
if(inAnimation=="scaleIn"){if(my_transform){my_scale_show_hover(id,my_pin_id,settings.animationDuration)}
else if(my_transitions&&(settings.useTransitions==1)){my_admin_debug("Transition scalke in");$("#"+my_hover_id).data('my-transition-in-1','scaleIn');$("#"+my_hover_id).css('display','block');$("#"+my_hover_id).css("opacity",0);$("#"+my_hover_id).css(my_transitions_prefix+'transition','');$("#"+my_hover_id).css(my_transforms_prefix+'transform','scale(0)');setTimeout(function(){$("#"+my_hover_id).css('display','block');$("#"+my_hover_id).css("opacity",1);$("#"+my_hover_id).css(my_transitions_prefix+'transition',my_transforms_prefix+"transform "+settings.animationDuration+"ms ease 0s");$("#"+my_hover_id).css(my_transforms_prefix+'transform','scale(1)')},10)}
else{$("#"+my_hover_id).show('scale',{direction:"both",origin:["middle","center"]},settings.animationDuration,function(){$(this).css('z-index',120)});var my_hover_height=$("#"+my_hover_id).height();if(my_enable_shadow){var my_shadow_width=parseInt($("#"+my_hover_id).data('my-shadow-width'));my_admin_debug("Enable Shadow",my_shadow_width);var my_hover_width=$("#"+my_hover_id).width();my_hover_width+=my_shadow_width*2;$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding-top',my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding-left',my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-top','-'+my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-left','-'+my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").width(my_hover_width)}}}else if(inAnimation=="fadeIn"){$("#"+my_hover_id).fadeIn(settings.animationDuration,function(){$(this).css('z-index',120)})}else if(inAnimation=='slideIn'){var my_hover_height=$("#"+my_hover_id).height();my_hover_height+=20;$("#"+my_hover_id).show('slide',{direction:'right'},settings.animationDuration,function(){$(this).css('z-index',120)});$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('height',my_hover_height+'px');if(my_enable_shadow){var my_shadow_width=parseInt($("#"+my_hover_id).data('my-shadow-width'));my_admin_debug("Enable Shadow",my_shadow_width);var my_hover_width=$("#"+my_hover_id).width();my_hover_width+=my_shadow_width*2;$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding-top',my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding-left',my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-top','-'+my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-left','-'+my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").width(my_hover_width)}}});$(this).mouseleave(function(e){var my_window_width=$(window).width();if(my_window_width<settings.responsiveWidth){return}
var my_pin_id=$(this).data('pin-id');my_admin_debug("Mouse leave immaper Pin id",my_pin_id);var contentOpenPosition=$(this).closest('.imapper-pin-wrapper').data('my-hover-open');var my_class='imapper'+id+'-pin-my-content-wrapper';var contentOpenPosition=$(this).closest('.imapper-pin-wrapper').data('my-hover-open');var inAnimation=$(this).closest('.imapper-pin-wrapper').data('my-hover-in-animation');var outAnimation=$(this).closest('.imapper-pin-wrapper').data('my-hover-out-animation');var my_hover_id='imapper'+id+'-pin'+my_pin_id+'-my-content-wrapper';var my_showed=$("#"+my_hover_id).data("my-showed");my_admin_debug("My showed",my_showed);my_enable_shadow=$("#"+my_hover_id).data('my-enable-shadow');my_admin_debug("Enable shadow",my_enable_shadow);if((typeof my_showed!='undefined')&&(my_showed==0))return;if(my_transitions){$("#"+my_hover_id).css(my_transitions_prefix+'transition',"");$("#"+my_hover_id).css(my_transforms_prefix+'transform','')}
if(inAnimation=='slideIn'){my_admin_debug("Stop animation",inAnimation);$("#"+my_hover_id).stop(!0,!0);$("#"+my_hover_id).show()}else{$("#"+my_hover_id).finish();$("#"+my_hover_id).find(".my_hover_inner_1234").finish()}
$("#"+my_hover_id).data("my-showed",0);var my_transition_in=$("#"+my_hover_id).data("my-transition-in-1");if(outAnimation!=""){if(outAnimation=='scaleOut'){if(my_transform){$("#"+my_hover_id).data("my-transition-out-1",'scaleOut');my_scale_hide_hover(id,my_pin_id,settings.animationDuration)}
else if(my_transitions&&(settings.useTransitions==1)){$("#"+my_hover_id).data("my-transition-out-1",'scaleOut');$("#"+my_hover_id).css('display','block');$("#"+my_hover_id).css(my_transitions_prefix+'transition',my_transforms_prefix+"transform "+settings.animationDuration+"ms ease 0s");$("#"+my_hover_id).css(my_transforms_prefix+'transform','scale(0)');$("#"+my_hover_id).data('my-showed',0);my_scale_out_timeout=setTimeout(function(){$("#"+my_hover_id).hide()},settings.animationDuration)}else{$("#"+my_hover_id).hide('scale',{direction:'both',origin:['middle','center']},settings.animationDuration,function(){$(this).data('my-showed',0);$(this).css('z-index',12)});var my_hover_height=$("#"+my_hover_id).height();if(my_enable_shadow){var my_shadow_width=parseInt($("#"+my_hover_id).data('my-shadow-width'));my_admin_debug("Enable Shadow",my_shadow_width);var my_hover_width=$("#"+my_hover_id).width();my_hover_width+=my_shadow_width*2;$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding-top',my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding-left',my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-top','-'+my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-left','-'+my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").width(my_hover_width)}}}else if(outAnimation=='fadeOut'){$("#"+my_hover_id).fadeOut(settings.animationDuration,function(){$(this).data("my-showed",0);$(this).css('z-index',12)})}else if(outAnimation=='slideOut'){var my_hover_height=$("#"+my_hover_id).height();my_hover_height+=20;$("#"+my_hover_id).hide('slide',{direction:'left'},settings.animationDuration,function(){$(this).data('my-showed',0);$(this).css('z-index',12)});$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('height',my_hover_height+'px');if(my_enable_shadow){var my_shadow_width=parseInt($("#"+my_hover_id).data('my-shadow-width'));my_admin_debug("Enable Shadow",my_shadow_width);var my_hover_width=$("#"+my_hover_id).width();my_hover_width+=my_shadow_width*2;$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding-top',my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding-left',my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-top','-'+my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-left','-'+my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").width(my_hover_width)}}}
return;var pinId=getPinId($(this).children('.imapper'+id+'-pin'));var properties={opacity:0};var properties2={};var duration={};var cpWidth=($(window).width()<=600&&designStyle=='responsive')?($(this).parent().width()/parseFloat($(this).css('transform').substring($(this).css('transform').indexOf('(')+1,$(this).css('transform').indexOf(',')))):width;if($(this).children('.imapper'+id+'-pin').hasClass(pinType2))
{if($(this).data('open-position')=='right')
properties2={width:0};else properties2={width:0,marginLeft:cpWidth};duration={duration:300,queue:!0}}
else{duration={duration:300,queue:!0,complete:function(){$(this).find('.imapper-content').parent().css('visibility','hidden')}}}
$(this).find('.imapper-content-wrapper').delay(200).each(function(){if(!($(this).is(':hover'))){$(this).animate(properties,duration)}});if($(this).children('.imapper'+id+'-pin').hasClass(pinType2))
$(this).find('.imapper-content').delay(200).animate(properties2,{duration:300,queue:!1,complete:function(){$(this).parent().css('visibility','hidden')}});$(this).children('.imapper'+id+'-pin').css('z-index','10');$(this).children('.imapper-value-tab-number').css('z-index','10');$(this).children('.imapper-content-wrapper').css('z-index','9');$(this).css('z-index','');imapperClearMap($('#imapper'+id+'-map-image'),id,clicked)})}
if(itemClickAction!='none')
{my_admin_debug("Item Action",itemClickAction);if(itemClickAction=='content'){$(this).children('.imapper'+id+'-pin').click(function(){imapperClearMap($('#imapper'+id+'-map-image'),id,[]);if($(this).closest('.imagemapper-wrapper').siblings('.imapper-content-below').hasClass('imapper-cb-tabs-version'))
$(this).closest('.imagemapper-wrapper').siblings('.imapper-content-below').addClass('imapper-content-below-invisible').html('');else $(this).closest('.imagemapper-wrapper').siblings('.imapper-content-below').slideUp().addClass('imapper-content-below-invisible').html('');var pinId=getPinId($(this));if(clicked[pinId]===undefined){clicked[pinId]=0}
if(clicked[pinId]==0)
{var my_content_123456='#imapper'+id+'-pin'+pinId+'';my_admin_debug("Trigger mouse leave",my_content_123456);$(my_content_123456).trigger('mouseleave');$(".imapper"+id+"-pin-wrapper").css('z-index',1);var contentOpenPosition=$(this).closest('.imapper-pin-wrapper').data('open-position');var properties={opacity:1};var properties2={};var duration={duration:300,queue:!0};var rightPos=0;var bottomPos=0;if(settings.slideAnimation==!0){switch(contentOpenPosition){case 'top':case 'bottom':bottomPos=parseInt($(this).siblings('.imapper-content-wrapper').css('bottom'));var duration={duration:300,queue:!0,always:function(){$(this).css({'bottom':bottomPos+'px'})}};break;case 'left':case 'right':rightPos=parseInt($(this).siblings('.imapper-content-wrapper').css('right'));var duration={duration:300,queue:!0,always:function(){$(this).css({'right':rightPos+"px"})}};break}}
var clickedPinId=getPinId($(this));$('.imapper'+id+'-pin').each(function(){var pid=getPinId($(this));if(clicked[pid]==1){$(this).trigger('click')}});if(settings.mapOverlay)
addOverlay($(this),id);if(typeof my_click_out_scale_timeout!='undefined')
clearTimeout(my_click_out_scale_timeout);$(this).siblings('.imapper-content-wrapper').css('z-index','13');$(this).parent().css('z-index','100');var my_in_animation=$(this).parent('.imapper-pin-wrapper').data('my-in-animation');var my_out_animation=$(this).parent('.imapper-pin-wrapper').data('my-out-animation');my_admin_debug("In animation",my_in_animation);my_id_to="imapper"+id+"-pin"+pinId+"-content";my_id_to_wrapper="imapper"+id+"-pin"+pinId+"-content-wrapper";my_admin_debug("In animation",my_id_to);var my_transition_out=$("#"+my_id_to).data("my-transition-out-1");my_admin_debug("Transition out",my_transition_out);var my_enable_shadow=$("#"+my_id_to).data('my-enable-shadow');$("#"+my_id_to+" .my_product_description").mCustomScrollbar({'scrollInertia':300});if(my_out_animation=='slideOut'){my_admin_debug("Stop animation",my_out_animation);$("#"+my_id_to).stop(!0,!0)}
else{$("#"+my_id_to_wrapper).finish();$("#"+my_id_to).finish()}
if((typeof my_transition_out!='undefined')&&(my_in_animation!='scaleIn')){$("#"+my_id_to_wrapper).css('opacity',0);$("#"+my_id_to_wrapper).show();$("#"+my_id_to_wrapper).css('visibility','visible');$("#"+my_id_to).css('display','block');$("#"+my_id_to).css(my_transitions_prefix+'transition','');$("#"+my_id_to).css(my_transforms_prefix+'transform','scale(1)');setTimeout(function(){$("#"+my_id_to_wrapper).css('opacity',1);$("#"+my_id_to).css(my_transitions_prefix+"transition","");$("#"+my_id_to).css(my_transforms_prefix+"transform","")},50);$("#"+my_id_to).css('display','none')}
if(my_in_animation!=""){$("#"+my_id_to_wrapper).css('opacity',1);$("#"+my_id_to_wrapper).css('visibility','visible');$("#"+my_id_to_wrapper).show();if(my_in_animation=="scaleIn"){if(my_transform){$("#"+my_id_to_wrapper).css('visibility','visible');$("#"+my_id_to_wrapper).show();$("#"+my_id_to_wrapper).css('opacity',0);$("#"+my_id_to).show();var my_p_12=my_transforms_prefix+'transform-origin';$("#"+my_id_to).css(my_p_12,'50% 50%');$("#"+my_id_to).data('my-transition-in','scaleIn');if(typeof my_transition_out=='undefined'){$("#"+my_id_to).css(my_transforms_prefix+'transform','scale(0)')}
$("#"+my_id_to_wrapper).css('opacity',1);my_scale_show_quick_box(id,pinId,settings.animationDuration)}
else if(my_transitions&&(settings.useTransitions==1)){my_admin_debug("Transition scale in",my_transitions_prefix);$("#"+my_id_to_wrapper).css('opacity',0);$("#"+my_id_to_wrapper).css('visibility','visible');$("#"+my_id_to_wrapper).show();$("#"+my_id_to).show();$("#"+my_id_to).data('my-transition-in','scaleIn');$("#"+my_id_to).css('opacity','0');if(typeof my_transition_out=='undefined'){$("#"+my_id_to).css(my_transitions_prefix+'transition',"");$("#"+my_id_to).css(my_transforms_prefix+'transform','scale(0)')}
setTimeout(function(){$("#"+my_id_to_wrapper).css('opacity',1);$("#"+my_id_to).css('opacity',1);$("#"+my_id_to).css(my_transitions_prefix+'transition',my_transforms_prefix+"transform "+settings.animationDuration+"ms ease 0s");$("#"+my_id_to).css(my_transforms_prefix+'transform','scale(1)')},10)}
else{my_admin_debug("Normal ui scale");$("#"+my_id_to).show('scale',{direction:"both"},settings.animationDuration)}}else if(my_in_animation=="fadeIn"){$("#"+my_id_to).fadeIn(settings.animationDuration)}else if(my_in_animation=='slideIn'){$("#"+my_id_to).show('slide',{direction:'right'},settings.animationDuration,function(){});if(my_enable_shadow){var my_hover_id=my_id_to;var my_shadow_width=parseInt($("#"+my_id_to).data('my-shadow-width'));my_admin_debug("Enable Shadow",my_shadow_width);var my_hover_width=$("#"+my_id_to).width();my_hover_width+=my_shadow_width*4;var my_hover_height=$("#"+my_id_to).height();my_hover_height+=my_shadow_width*4;my_admin_debug("Shadow width",{w:my_hover_width,h:my_hover_height});$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('height',my_hover_height+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('width',my_hover_width+'px');var my_padding=my_shadow_width*2;$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding-top',my_padding+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding-left',my_padding+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-top','-'+my_padding+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-left','-'+my_padding+'px')}else{var my_hover_id=my_id_to;var my_hover_width=$("#"+my_id_to).width();my_hover_width+=30;$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('width',my_hover_width);$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-top','-'+'15px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-left','-'+'15px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding','15px')}}}
if($(this).hasClass(pinType2))
{if($(this).parent().data('open-position')=='right'){properties2={width:cpWidth}}
else properties2={width:cpWidth,marginLeft:0}}
if($(this).hasClass(pinType2))
$(this).siblings('.imapper-content-wrapper').find('.imapper-content').animate(properties2,{duration:400,queue:!1});$(this).siblings('.imapper-content-wrapper').find('.imapper-content-text').mCustomScrollbar('update');clicked[pinId]=1;$(this).addClass('imapper-no-overlay')}
else{$(".imapper"+id+"-pin-wrapper").css('z-index',13);var my_in_animation=$(this).parent('.imapper-pin-wrapper').data('my-out-animation');var my_in_animation_1=$(this).parent('.imapper-pin-wrapper').data('my-in-animation');my_admin_debug("Out animation",my_in_animation);my_id_to_wrapper="imapper"+id+"-pin"+pinId+"-content-wrapper";my_id_to="imapper"+id+"-pin"+pinId+"-content";$("#"+my_id_to+" .my_product_description").mCustomScrollbar("destroy");if(my_in_animation_1=='slideIn'){my_admin_debug("Stop animation",my_in_animation_1);$("#"+my_id_to).stop(!0,!0)}
else{$("#"+my_id_to_wrapper).finish();$("#"+my_id_to).finish()}
my_admin_debug("In animation",my_id_to);var my_enable_shadow=$("#"+my_id_to).data('my-enable-shadow');if(my_in_animation!=""){if(my_in_animation=="scaleOut"){if(my_transform){$("#"+my_id_to).data("my-transition-out-1",1);$("#"+my_id_to).css('display','block');var my_p_12=my_transforms_prefix+'transform-origin';$("#"+my_id_to).css(my_p_12,'50% 50%');my_scale_hide_quick_box(id,pinId,settings.animationDuration)}else if(my_transitions&&(settings.useTransitions==1)){$("#"+my_id_to).data("my-transition-out-1",1);$("#"+my_id_to).css('display','block');$("#"+my_id_to).css(my_transitions_prefix+'transition',my_transforms_prefix+"transform "+settings.animationDuration+"ms ease 0s");$("#"+my_id_to).css(my_transforms_prefix+'transform','scale(0)');my_click_out_scale_timeout=setTimeout(function(){$("#"+my_id_to_wrapper).hide()},settings.animationDuration)}else{$("#"+my_id_to).hide('scale',{direction:"both",origin:["middle","middle"]},settings.animationDuration,function(){$(this).parent(".imapper-content-wrapper").css('display','none')})}}else if(my_in_animation=="fadeOut"){$("#"+my_id_to).fadeOut(settings.animationDuration,function(){$(this).parent(".imapper-content-wrapper").css('display','none')})}else if(my_in_animation=='slideOut'){$("#"+my_id_to).hide('slide',{direction:'left'},settings.animationDuration,function(){$(this).parent(".imapper-content-wrapper").css('display','none')});if(my_enable_shadow){var my_hover_id=my_id_to;var my_shadow_width=parseInt($("#"+my_id_to).data('my-shadow-width'));my_admin_debug("Enable Shadow",my_shadow_width);var my_hover_width=$("#"+my_id_to).width();my_hover_width+=my_shadow_width*4;var my_hover_height=$("#"+my_id_to).height();my_hover_height+=my_shadow_width*4;my_admin_debug("Shadow width",{w:my_hover_width,h:my_hover_height});$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('height',my_hover_height+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('width',my_hover_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding-top',2*my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding-left',2*my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-top','-'+2*my_shadow_width+'px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-left','-'+2*my_shadow_width+'px')}else{var my_hover_id=my_id_to;var my_hover_width=$("#"+my_id_to).width();my_hover_width+=30;$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('width',my_hover_width);$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-top','-'+'15px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('margin-left','-'+'15px');$("#"+my_hover_id).parent(" .ui-effects-wrapper").css('padding','15px')}}}
var properties={opacity:0};var properties2={};var duration={};if($(this).hasClass(pinType2))
{if($(this).parent().data('open-position')=='right'){properties2={width:0}}
else properties2={width:0,marginLeft:cpWidth};duration={duration:400,queue:!1}}
else duration={duration:400,queue:!1,complete:function(){$(this).css('visibility','hidden')}};if($(this).hasClass(pinType2))
$(this).siblings('.imapper-content-wrapper').find('.imapper-content').animate(properties2,{duration:400,queue:!1,complete:function(){$(this).parent().css('visibility','hidden')}});$(this).siblings('.imapper-value-tab-number').css('z-index','10');clicked[pinId]=0;$('.imapper'+id+'-pin').removeClass('imapper-no-overlay')}});$('#imapper'+id+'-map-image').click(function(){imapperClearMap($(this),id,clicked)})}else if(itemClickAction=='link'){$(this).children('.imapper'+id+'-pin').click(function(){var link=$(this).parent().data('imapper-link');window.open(link)})}else if(itemClickAction=='lightboxImage'||itemClickAction=='lightboxIframe'){$(this).children('.imapper'+id+'-pin').click(function(){if($(this).closest('.imagemapper-wrapper').siblings('.imapper-content-below').hasClass('imapper-cb-tabs-version'))
$(this).closest('.imagemapper-wrapper').siblings('.imapper-content-below').addClass('imapper-content-below-invisible');else $(this).closest('.imagemapper-wrapper').siblings('.imapper-content-below').slideUp().addClass('imapper-content-below-invisible');setTimeout(function(){$('.imapper'+id+'-content-below').html('')},400);$(this).siblings('.imapper-pretty-photo').trigger('click')})}else if(itemClickAction=='contentBelow'){$(this).children('.imapper'+id+'-pin').click(function(){imapperClearMap($('#imapper'+id+'-map-image'),id,clicked);var pinId=getPinId($(this));var isPinOpen=$('.content-below-pin-'+pinId).length;if(isPinOpen==0){if(settings.mapOverlay)
addOverlay($(this),id);var contentHeader=$(this).siblings('.imapper-content-wrapper').find('.imapper-content-header').html();var contentText=$(this).siblings('.imapper-content-wrapper').find('.imapper-content-text').html();$(this).closest('.imagemapper-wrapper').siblings('.imapper'+id+'-content-below').css('display','block').addClass('imapper-content-below-invisible');if($(this).siblings('.imapper-content-wrapper').find('.imapper-content').length>1){var cbContent='<div class="imapper-cb-content-wrapper content-below-pin-'+pinId+'">';var cbTabs='<div class="imapper-cb-tabs">';var i=1;$(this).siblings('.imapper-content-wrapper').find('.imapper-content').each(function(){var cbHeader=$(this).find('.imapper-content-header').html();var cbText=$(this).find('.imapper-content-text').html();cbTabs+='<div class="imapper-cb-tab-wrapper '+(i==1?"imapper-cb-tab-active":"")+'"><a class="imapper-cb-tab" href="imapper'+id+'-pin'+pinId+'-cb-content-'+i+'">'+i+'</a><div class="imapper-category-arrow-bottom"></div></div>';cbContent+='<div class="imapper-cb-content '+(i==1?"imapper-cb-content-active":"")+'" id="imapper'+id+'-pin'+pinId+'-cb-content-'+i+'"><div class="content-below-header">'+cbHeader+'</div><div class="content-below-text">'+cbText+'</div></div>';i++});cbContent+='</div>';cbTabs+='</div>';$('.imapper'+id+'-content-below').html(cbTabs+cbContent).addClass('imapper-cb-tabs-version');$('.imapper'+id+'-content-below').removeClass('imapper-content-below-invisible')}
else{$('.imapper'+id+'-content-below').html('<div class="content-below-header content-below-pin-'+pinId+'">'+contentHeader+'</div><div class="content-below-text">'+contentText+'</div>');$('.imapper'+id+'-content-below').removeClass('imapper-content-below-invisible').css('display','none').slideDown()}
$('.imapper'+id+'-content-below .content-below-text *').removeClass()}else{$('#imapper'+id+'-map-image').trigger('click')}});$('#imapper'+id+'-map-image').click(function(){if($(this).closest('.imagemapper-wrapper').siblings('.imapper-content-below').hasClass('imapper-cb-tabs-version'))
$(this).closest('.imagemapper-wrapper').siblings('.imapper-content-below').addClass('imapper-content-below-invisible');else $(this).closest('.imagemapper-wrapper').siblings('.imapper-content-below').slideUp().addClass('imapper-content-below-invisible');setTimeout(function(){$('.imapper'+id+'-content-below ').html('')},400);imapperClearMap($(this),id,clicked)});$(document).on('click','.imapper-cb-tab-wrapper',function(e){e.preventDefault();var contentId=$(this).children('.imapper-cb-tab').attr('href');$(this).addClass('imapper-cb-tab-active').siblings().removeClass('imapper-cb-tab-active');$('#'+contentId).addClass('imapper-cb-content-active').siblings().removeClass('imapper-cb-content-active')})}}
$(document).on('click','.imapper-close-button',function(){var el=$('#imapper'+id+'-map-image');if(settings.itemOpenStyle=='hover'||$(this).closest('.imapper-pin-wrapper').data('imapper-hover-action')=='content')
$(this).closest('.imapper-pin-wrapper').trigger('mouseleave');else $(this).parent().siblings('.imapper'+id+'-pin').trigger('click');imapperClearMap(el,id,clicked)});initAreaPinsBlur(settings,id)});$(document).on('click','.imapper-category-item-wrapper',function(e){e.preventDefault();var catName=$(this).children('.imapper-category-button').attr('href');$(this).addClass('imapper-category-active').siblings().removeClass('imapper-category-active');if(catName!='All'){var pinWrappers=$(this).closest('.imapper-categories-wrapper').nextAll('.imagemapper-wrapper').first().children('.imapper-pin-wrapper');pinWrappers.addClass('imapper-category-hidden').filter('[data-category=\''+catName+'\']').removeClass('imapper-category-hidden').addClass('imapper-category-visible');var catPins=pinWrappers.filter(':not(.imapper-category-hidden) > .imapper'+id+'-pin');var pinVisibleFlag=!1;var pinId;catPins.each(function(){pinId=getPinId($(this));if(clicked[pinId]==1)
pinVisibleFlag=!0;if($('.content-below-pin-'+pinId).length>0)
pinVisibleFlag=!0});if(!pinVisibleFlag){imapperClearMap($('#imapper'+id+'-map-image'),id,clicked);$('#imapper'+id+'-map-image').trigger('click')}}else{$('.imapper'+id+'-pin-wrapper').removeClass('imapper-category-hidden').addClass('imapper-category-visible')}});$('.imapper'+id+'-pin').each(function(){var pinId=getPinId($(this));contentWrapperOld[pinId]=[$(this).parent().find('.imapper-content-wrapper').css('top'),$(this).parent().find('.imapper-content-wrapper').css('left'),$(this).parent().find('.imapper-content-wrapper').css('width'),$(this).parent().find('.imapper-content-wrapper').css('height'),$(this).parent().find('.imapper-content-wrapper').css('z-index')];contentOld[pinId]=[$(this).parent().find('.imapper-content').not('.imapper-content-additional').css('top'),$(this).parent().find('.imapper-content').not('.imapper-content-additional').css('left'),$(this).parent().find('.imapper-content').not('.imapper-content-additional').css('width'),$(this).parent().find('.imapper-content').not('.imapper-content-additional').css('height'),$(this).parent().find('.imapper-content').not('.imapper-content-additional').css('bottom'),$(this).parent().find('.imapper-content').not('.imapper-content-additional').css('right')];contentHeaderOld[pinId]=[$(this).parent().find('.imapper-content-header').css('width'),$(this).parent().find('.imapper-content-header').css('font-size'),$(this).parent().find('.imapper-content-header').css('padding-left')];contentTextOld[pinId]=[$(this).parent().find('.imapper-content-text').css('width'),$(this).parent().find('.imapper-content-text').css('height'),$(this).parent().find('.imapper-content-text').css('margin-top'),$(this).parent().find('.imapper-content-text').css('font-size'),$(this).parent().find('.imapper-content-text').css('padding-left')];$(this).parent().find('.imapper-content-tab').each(function(index){contentTabOld[pinId][index]=[$(this).css('width'),$(this).css('height'),$(this).css('bottom'),$(this).css('right')]});$(this).parent().find('.imapper-content-additional').each(function(index){contentAdditionalOld[pinId][index]=[$(this).css('width'),$(this).css('height'),$(this).css('bottom'),$(this).css('right')]})});my_position_of_pin_window=function(id){if($(window).width()<=settings.responsiveWidth&&designStyle=='responsive')
{$("#imagemapper"+id+"-wrapper").data('my-small',1);var mapHeight=$('.imapper'+id+'-map-image').height();var my_map_h=$("#imapper"+id+"-map-image").height();var my_map_w=$("#imapper"+id+"-map-image").width();my_admin_debug("Rwponsive mapHeight",mapHeight);my_admin_debug("Map",{w:my_map_w,h:my_map_h});var my_transform_coeff=1;$('.imapper'+id+'-pin').each(function(){var pinId=getPinId($(this));var my_do_small=!1;if(my_transform){my_do_small=my_add_transform_small(id,pinId)}
if(!my_do_small){$(this).parent().find(".imapper-content-wrapper").css(my_transforms_prefix+'transform','scale(1)');var my_left_p=parseFloat($(this).parent().css('left'));my_admin_debug("My left p",my_left_p);var positionLeft=-((parseFloat($(this).parent().css('left')))/my_transform_coeff)+'px';my_admin_debug("position left",positionLeft);var parentTopPercent=parseInt($(this).parent().data('top'))/100;var mapHeight=parseInt($(this).closest('.imagemapper-wrapper').height());my_admin_debug("map height",mapHeight);var part1=mapHeight*parentTopPercent/my_transform_coeff;$(this).parent().find(".my-imapper-arrow-new-1234").hide();positionTop=-(part1)+"px";my_admin_debug("position top",positionTop);var position=$(this).parent().data('open-position');var radius=parseInt($(this).parent().find('.imapper-content').css('border-bottom-right-radius'))/2+1;if(my_map_h<200){var old_map_h=my_map_h}
$(this).parent().find('.imapper-content-wrapper').css({'top':positionTop,'left':positionLeft,'width':map_original_width+'px','height':map_original_height+'px','z-index':'15'});$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'top':'0px','left':'0px','width':map_original_width+'px','height':map_original_height+'px'});var my_enable_shadow=$(this).parent().find(".imapper-content").data('my-enable-shadow');var my_shadow_width=parseInt($(this).parent().find(".imapper-content").data('my-shadow-width'));my_admin_debug("Shadow",{my_e:my_enable_shadow,my_shadow_width:my_shadow_width});var my_i_w=my_map_w;var my_i_h=my_map_h;var my_i_top=0;var my_i_left=0;var my_i_w_12345=my_i_w-50;$(this).parent().find(".imapper-content .my_product_title_inner").attr('style','width:'+(my_i_w_12345)+'px !important;');$(this).parent().find('.imapper-content-wrapper').css({'top':positionTop,'left':positionLeft,'width':my_map_w+'px','height':my_map_h+'px','z-index':'15'});$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'top':my_i_top+'px','left':my_i_left+'px','width':my_i_w+'px','height':my_i_h+'px'});var my_h_1=$(this).parent().find('.imapper-content .my_product_header').data('my-height');var my_h_2=$(this).parent().find('.imapper-content .my_product_footer').data('my-height');my_h_1=parseInt(my_h_1);my_h_2=parseInt(my_h_2);my_admin_debug("My h 1",{my_h_1:my_h_1,my_h_2:my_h_2});var my_h_t=my_h_1+my_h_2;var my_h_t_2=my_map_h-my_h_t;var my_height_price=$(this).parent().find('.imapper-content-wrapper .my_product_price').outerHeight();var my_descr_height=my_h_t_2-my_height_price;$(this).parent().find(".imapper-content-wrapper .my_product_description").height(my_descr_height+'px');$(this).parent().find('.imapper-content .my_product_main').height(my_h_t_2);var my_w_1=my_map_w/2;$(this).parent().find(".imapper-content .my_product_footer .my_view_item_category div").attr('style','width:'+my_map_w+'px !important;');$(this).parent().find(".imapper-content .my_product_footer .my_view_item div").attr('style','width:'+my_w_1+'px !important;');$(this).parent().find(".imapper-content .my_product_footer .my_add_item div").attr('style','width:'+my_w_1+'px !important;');return}
if(position=='left'||position=='right')
{$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'height':cHeight[pinId],'top':'','bottom':'0px'});var bottom=cHeight[pinId];var bottom_content=cHeight[pinId]+(75-radius);$(this).parent().find('.imapper-content-tab').each(function(){$(this).css({'width':map_original_width,'height':'75px','bottom':bottom});$(this).find('a').css({'height':'75px','font-size':'24px'});bottom+=75-radius});$(this).parent().find('.imapper-content-additional').each(function(){$(this).css({'width':map_original_width,'bottom':bottom_content});bottom_content+=75-radius})}
if(position=='top'||position=='bottom')
{$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'width':cWidth[pinId],'left':'','right':'0px'});var right=cWidth[pinId];var right_content=cWidth[pinId]+(75-radius);$(this).parent().find('.imapper-content-tab').each(function(){$(this).css({'height':map_original_height,'width':'75px','right':right});$(this).find('a').css({'width':'75px','font-size':'24px','height':map_original_height});right+=75-radius});$(this).parent().find('.imapper-content-additional').each(function(){$(this).css({'height':map_original_height,'right':right_content});right_content+=75-radius})}
$(this).parent().find('.imapper-content-header').css({'width':map_original_width-30+'px','font-size':parseInt($(this).parent().find('.imapper-content-header').css('font-size'))*2+'px','padding-left':'20px'});var textHeight=$(this).parent().find('.imapper-content').height()-$(this).parent().find('.imapper-content-header').height()-50;$(this).parent().find('.imapper-content-text').css({'width':map_original_width-30+'px','height':textHeight,'margin-top':'70px','font-size':parseInt($(this).parent().find('.imapper-content-text').css('font-size'))*2+'px','padding-left':'20px'});$(this).parent().find('.imapper-content-text').each(function(){$(this).mCustomScrollbar('update')});$(this).parent().find('.imapper-arrow').css('display','none');$(this).parent().find('.imapper-arrow-border').css('display','none');$(this).parent().find('.imapper-triangle-border').css('display','none')})}else{var my_small=$("#imagemapper"+id+"-wrapper").data('my-small');my_admin_debug("My small",my_small);if(typeof my_small!='undefined'){$('.imapper'+id+'-pin').each(function(){$(this).parent().find(".imapper-content .my_product_title_inner").attr('style','')});return;var my_map_h=$("#imapper"+id+"-map-image").height();var my_map_w=$("#imapper"+id+"-map-image").width();my_admin_debug("Rwponsive mapHeight",mapHeight);my_admin_debug("Map",{w:my_map_w,h:my_map_h});var my_transform_coeff=1;$('.imapper'+id+'-pin').each(function(){var pinId=getPinId($(this));var position=$(this).parent().data('open-position');cHeight[pinId]=height;cWidth[pinId]=width;$(this).parent().find('.imapper-content-wrapper').css({'top':contentWrapperOld[pinId][0],'left':contentWrapperOld[pinId][1],'width':contentWrapperOld[pinId][2],'height':contentWrapperOld[pinId][3],'z-index':contentWrapperOld[pinId][4]});$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'top':contentOld[pinId][0],'left':contentOld[pinId][1],'width':contentOld[pinId][2],'height':contentOld[pinId][3]});if($(this).hasClass(pinType2)&&position=='left')
{if(clicked[pinId]==0)
$(this).parent().find('.imapper-content').not('.imapper-content-additional').css('margin-left',width);else $(this).parent().find('.imapper-content').not('.imapper-content-additional').css('margin-left','0px')}
else if($(this).hasClass(pinType1))
{tab_clicked[pinId]=1;if(position=='left'||position=='right')
{$(this).parent().find('.imapper-content').not('.imapper-content-additional').css('top','');$(this).parent().find('.imapper-content-tab').each(function(index){$(this).css({'width':contentTabOld[pinId][index][0],'height':contentTabOld[pinId][index][1],'bottom':contentTabOld[pinId][index][2]});$(this).find('a').css({'height':'','font-size':'12px'})});$(this).parent().find('.imapper-content-additional').each(function(index){$(this).css({'width':contentAdditionalOld[pinId][index][0],'height':contentAdditionalOld[pinId][index][1],'bottom':contentAdditionalOld[pinId][index][2]})})}
else if(position=='top'||position=='bottom')
{$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'top':'','left':''});$(this).parent().find('.imapper-content-tab').each(function(index){$(this).css({'width':contentTabOld[pinId][index][0],'height':contentTabOld[pinId][index][1],'right':contentTabOld[pinId][index][3]});$(this).find('a').css({'width':'','font-size':'12px','height':contentTabOld[pinId][index][1]})});$(this).parent().find('.imapper-content-additional').each(function(index){$(this).css({'width':contentAdditionalOld[pinId][index][0],'height':contentAdditionalOld[pinId][index][1],'right':contentAdditionalOld[pinId][index][3]})})}}
$(this).parent().find('.imapper-content-header').css({'width':contentHeaderOld[pinId][0],'font-size':contentHeaderOld[pinId][1],'padding-left':contentHeaderOld[pinId][2]});$(this).parent().find('.imapper-content-text').css({'width':contentTextOld[pinId][0],'height':contentTextOld[pinId][1],'margin-top':contentTextOld[pinId][2],'font-size':contentTextOld[pinId][3],'padding-left':contentTextOld[pinId][4]});$(this).parent().find('.imapper-content-text').each(function(){$(this).mCustomScrollbar('update')});$(this).parent().find('.imapper-close-button').remove();my_map_h=parseInt($(this).parent().find(".imapper-content-wrapper").data('height'));var my_h_1=$(this).parent().find('.imapper-content .my_product_header').data('my-height');var my_h_2=$(this).parent().find('.imapper-content .my_product_footer').data('my-height');my_h_1=parseInt(my_h_1);my_h_2=parseInt(my_h_2);my_admin_debug("My h 1",{my_h_1:my_h_1,my_h_2:my_h_2});var my_h_t=my_h_1+my_h_2;var my_h_t_2=my_map_h-my_h_t;$(this).parent().find('.imapper-content .my_product_main').height(my_h_t_2);var my_w_1=my_map_w/2;$(this).parent().find(".my_product_footer .my_view_item_category div").attr('style','width:'+my_map_w+'px !important;');$(this).parent().find(".my_product_footer .my_view_item div").attr('style','width:'+my_w_1+'px !important;');$(this).parent().find(".my_product_footer .my_add_item div").attr('style','width:'+my_w_1+'px !important;')})}}};my_position_of_pin_window(id);if($(window).width()<=600&&designStyle=='responsive'&&(settings.oldResponsive==1))
{var mapHeight=$('.imapper'+id+'-map-image').height();var my_map_h=$("#imapper"+id+"-map-image").height();var my_map_w=$("#imapper"+id+"-map-image").width();my_admin_debug("Rwponsive mapHeight",mapHeight);var my_transform_coeff=1;$('.imapper'+id+'-pin').each(function(){var positionLeft=(-parseInt($(this).parent().css('left'))/parseFloat($(this).parent().css('transform').substring($(this).parent().css('transform').indexOf('(')+1,$(this).parent().css('transform').indexOf(','))))+'px';positionLeft=(-parseInt($(this).parent().css('left'))/parseFloat($(this).css('transform').substring($(this).css('transform').indexOf('(')+1,$(this).css('transform').indexOf(','))))+'px';my_admin_debug("position left",positionLeft);var parentTopPercent=parseInt($(this).parent().data('top'))/100;var mapHeight=parseInt($(this).closest('.imagemapper-wrapper').height());my_admin_debug("map height",mapHeight);var part1=mapHeight*parentTopPercent/parseFloat($(this).css('transform').substring($(this).css('transform').indexOf('(')+1,$(this).css('transform').indexOf(',')));var iconHeight=parseInt($(this).outerHeight())*parseFloat($(this).css('transform').substring($(this).css('transform').indexOf('(')+1,$(this).css('transform').indexOf(',')));$(this).parent().find(".imapper-arrow-new").hide();positionTop=-(part1)+"px";my_admin_debug("position top",positionTop);var pinId=getPinId($(this));var position=$(this).parent().data('open-position');var radius=parseInt($(this).parent().find('.imapper-content').css('border-bottom-right-radius'))/2+1;$(this).parent().find('.imapper-content-wrapper').css({'top':positionTop,'left':positionLeft,'width':map_original_width+'px','height':map_original_height+'px','z-index':'15'});$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'top':'0px','left':'0px','width':map_original_width+'px','height':map_original_height+'px'});var my_enable_shadow=$(this).parent().find(".imapper-content").data('my-enable-shadow');var my_shadow_width=parseInt($(this).parent().find(".imapper-content").data('my-shadow-width'));my_admin_debug("Shadow",{my_e:my_enable_shadow,my_shadow_width:my_shadow_width});var my_i_w=my_map_w;var my_i_h=my_map_h;var my_i_top=0;var my_i_left=0;$(this).parent().find('.imapper-content-wrapper').css({'top':positionTop,'left':positionLeft,'width':my_map_w+'px','height':my_map_h+'px','z-index':'15'});$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'top':my_i_top+'px','left':my_i_left+'px','width':my_i_w+'px','height':my_i_h+'px'});var my_h_1=$(this).parent().find('.imapper-content .my_product_header').data('my-height');var my_h_2=$(this).parent().find('.imapper-content .my_product_footer').data('my-height');my_h_1=parseInt(my_h_1);my_h_2=parseInt(my_h_2);my_admin_debug("My h 1",{my_h_1:my_h_1,my_h_2:my_h_2});var my_h_t=my_h_1+my_h_2;var my_h_t_2=my_map_h-my_h_t;$(this).parent().find('.imapper-content .my_product_main').height(my_h_t_2);var my_w_1=my_map_w/2;$(".my_product_footer .my_view_item div").attr('style','width:'+my_w_1+'px !important;');$(".my_product_footer .my_add_item div").attr('style','width:'+my_w_1+'px !important;');if(position=='left'||position=='right')
{$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'height':cHeight[pinId],'top':'','bottom':'0px'});var bottom=cHeight[pinId];var bottom_content=cHeight[pinId]+(75-radius);$(this).parent().find('.imapper-content-tab').each(function(){$(this).css({'width':map_original_width,'height':'75px','bottom':bottom});$(this).find('a').css({'height':'75px','font-size':'24px'});bottom+=75-radius});$(this).parent().find('.imapper-content-additional').each(function(){$(this).css({'width':map_original_width,'bottom':bottom_content});bottom_content+=75-radius})}
if(position=='top'||position=='bottom')
{$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'width':cWidth[pinId],'left':'','right':'0px'});var right=cWidth[pinId];var right_content=cWidth[pinId]+(75-radius);$(this).parent().find('.imapper-content-tab').each(function(){$(this).css({'height':map_original_height,'width':'75px','right':right});$(this).find('a').css({'width':'75px','font-size':'24px','height':map_original_height});right+=75-radius});$(this).parent().find('.imapper-content-additional').each(function(){$(this).css({'height':map_original_height,'right':right_content});right_content+=75-radius})}
$(this).parent().find('.imapper-content-header').css({'width':map_original_width-30+'px','font-size':parseInt($(this).parent().find('.imapper-content-header').css('font-size'))*2+'px','padding-left':'20px'});var textHeight=$(this).parent().find('.imapper-content').height()-$(this).parent().find('.imapper-content-header').height()-50;$(this).parent().find('.imapper-content-text').css({'width':map_original_width-30+'px','height':textHeight,'margin-top':'70px','font-size':parseInt($(this).parent().find('.imapper-content-text').css('font-size'))*2+'px','padding-left':'20px'});$(this).parent().find('.imapper-content-text').each(function(){$(this).mCustomScrollbar('update')});$(this).parent().find('.imapper-arrow').css('display','none');$(this).parent().find('.imapper-arrow-border').css('display','none');$(this).parent().find('.imapper-triangle-border').css('display','none')})}
$(window).resize(function(){$("#imagemapper"+id+"-wrapper").each(function(){var my_small=$("#imagemapper"+id+"-wrapper").data('my-small');my_admin_debug("My small",my_small);var id=$(this).attr('id').substring(11,$(this).attr('id').indexOf('-'));my_admin_debug("Window resize Pin id",id);var wrapperWidth=$('#imapper'+id+'-map-image').css('width');$('.imapper'+id+'-content-below').css('maxWidth',wrapperWidth);var parent_width=($(this).parent().width()<map_original_width)?$(this).parent().width():map_original_width;my_admin_debug("Parent width "+id,{parent_width:parent_width,map_w:map_original_width});if(typeof $(this).data('my-slider')!=='undefined'){my_w_12345_1234=$(this).parents(".my_fotorama_outter").width();if(my_w_12345_1234<map_original_width){parent_width=my_w_12345_1234}else{parent_width=map_original_width}}
$(this).css('width',parent_width);var my_window_width=parseInt($(window).width());my_function_scalling_pins(id);my_position_of_pin_window(id);if(my_window_width<=settings.responsiveWidth){var my_obj_1234_os=$(this).find(".my_product_description");if($(this).is(":visible")){$(my_obj_1234_os).mCustomScrollbar('update')}}else{var my_obj_1234_os=$(this).find(".my_product_description");if($(this).is(":visible")){$(my_obj_1234_os).mCustomScrollbar('update')}
my_content_position_function(id);$('.imapper'+id+'-pin-content-wrapper').each(function(i,v){var my_small=$("#imagemapper"+id+"-wrapper").data('my-small');var my_id_123=$(this).attr('id');my_id_123=my_id_123.replace('imapper'+id+'-pin','');my_id_123=my_id_123.replace('-content-wrapper','');my_admin_debug("Go throufh pins Id",{immaper_id:id,pin_id:my_id_123});var position=$(this).parent().data('open-position');var width=parseInt($(this).data('width'));var height=parseInt($(this).data('height'));var my_add_width=20;var my_add_height=20;var my_width=width+my_add_width;var my_height=height+my_add_height;var img_width=$(this).parent().find('.imapper'+id+'-pin').outerWidth();var img_height=$(this).parent().find('.imapper'+id+'-pin').outerHeight();var borderColor=$(this).data('border-color');my_admin_debug("Data of resize",{width:width,height:height,img_width:img_width,img_height:img_height});var old_pos=$(this).data('my-new-position');var my_get_position=my_get_content_position(id,this,position);position=my_get_position;my_admin_debug("Change position",{position:position,old_pos:old_pos});if((old_pos!=position)||(typeof my_small!='undefined')){if(typeof my_small!='undefined'){$(this).css('left','');$(this).css('top','');$(this).width(my_width);$(this).height(my_height);if(my_transform){var my_transforms_prefix_new=my_transforms_prefix+'transform';$(this).css(my_transforms_prefix_new,'scale(1)')}
$(this).find('.imapper-content').width(width);$(this).find('.imapper-content').height(height);$(this).find('.imapper-content').css('left','');var my_h_1=$(this).find('.imapper-content .my_product_header').data('my-height');var my_h_2=$(this).find('.imapper-content .my_product_footer').data('my-height');my_h_1=parseInt(my_h_1);my_h_2=parseInt(my_h_2);my_admin_debug("My h 1",{my_h_1:my_h_1,my_h_2:my_h_2});var my_h_t=my_h_1+my_h_2;var my_h_t_2=height-my_h_t;var my_height_price=$(this).find(".my_product_price").outerHeight();var my_descr_height=my_h_t_2-my_height_price;$(this).find(".my_product_description").height(my_descr_height+'px');$(this).find('.imapper-content .my_product_main').height(my_h_t_2);var my_w_1=width/2;$(this).find(".my_product_footer .my_view_item_category div").attr('style','width:'+width+'px !important;');$(this).find(".my_product_footer .my_view_item div").attr('style','width:'+my_w_1+'px !important;');$(this).find(".my_product_footer .my_add_item div").attr('style','width:'+my_w_1+'px !important;')}
var my_right_pos=$(this).css('right');var my_bottom_pos=$(this).css('bottom');my_change_content_position(id,my_id_123,position);$(this).data('my-new-position',position)}})}})});if(settings.oldResponsive){$(window).resize(function(){my_function_scalling_pins();$("div[id*='imagemapper']").each(function(){var id=$(this).attr('id').substring(11,$(this).attr('id').indexOf('-'));var wrapperWidth=$('#imapper'+id+'-map-image').css('width');$('.imapper'+id+'-content-below').css('maxWidth',wrapperWidth);var parent_width=($(this).parent().width()<map_original_width)?$(this).parent().width():map_original_width;multiplierArea=parent_width/map_original_width;if(settings.pinScalingCoefficient!=0){multiplier=settings.pinScalingCoefficient}
else{multiplier=multiplierArea}
$(this).css('width',parent_width);if(multiplier<=1)
{$(this).find('.imapper-pin-wrapper > img').parent().css('transform','scale('+multiplier+')');$(this).find('.imapper-pin-wrapper').css('transform','scale('+multiplier+')');var windowWidth=parseInt($(window).width());if(settings.pinScalingCoefficient!=0&&windowWidth<600&&settings.itemDesignStyle=='responsive'){$(this).find('.imapper-pin-wrapper > img ~ .imapper-content-wrapper').css({'transform':'scale('+(multiplierArea/multiplier)+')','transform-origin':'0% 0%','-webkit-transform-origin':'0% 0%','-moz-transform-origin':'0% 0%','-ms-transform-origin':'0% 0%','-o-transform-origin':'0% 0%'})}}
var windowWidth=parseInt($(window).width());if(windowWidth>600||settings.itemDesignStyle=='fluid'){$(this).find('.imapper-pin-wrapper > img ~ .imapper-content-wrapper').each(function(){var openPosition=$(this).parent().data('open-position');switch(openPosition){case 'top':$(this).css({'transform':'scale('+(multiplier)+')','transform-origin':'center bottom','-webkit-transform-origin':'center bottom','-moz-transform-origin':'center bottom','-ms-transform-origin':'center bottom','-o-transform-origin':'center bottom'});break;case 'bottom':$(this).css({'transform':'scale('+(multiplier)+')','transform-origin':'center top','-webkit-transform-origin':'center top','-moz-transform-origin':'center top','-ms-transform-origin':'center top','-o-transform-origin':'center top'});break;case 'left':$(this).css({'transform':'scale('+(multiplier)+')','transform-origin':'right center','-webkit-transform-origin':'right center','-moz-transform-origin':'right center','-ms-transform-origin':'right center','-o-transform-origin':'right center'});break;case 'right':$(this).css({'transform':'scale('+(multiplier)+')','transform-origin':'left center','-webkit-transform-origin':'left center','-moz-transform-origin':'left center','-ms-transform-origin':'left center','-o-transform-origin':'left center'});break}})}
$(this).find('.imapper-pin-wrapper > .imapper-area-pin').parent().css('transform','scale('+multiplierArea+')');$(this).find('.imapper-content-text').each(function(){$(this).mCustomScrollbar('update')});if($(window).width()<=600&&designStyle=='responsive')
{$('.imapper'+id+'-pin').each(function(){var pinId=getPinId($(this));var positionLeft=(-parseInt($(this).parent().css('left'))/parseFloat($(this).parent().css('transform').substring($(this).parent().css('transform').indexOf('(')+1,$(this).parent().css('transform').indexOf(','))))+'px';var positionTop=(-parseInt($(this).parent().css('top'))/parseFloat($(this).parent().css('transform').substring($(this).parent().css('transform').indexOf('(')+1,$(this).parent().css('transform').indexOf(','))))+'px';var parentTopPercent=parseInt($(this).parent().data('top'))/100;var mapHeight=parseInt($(this).closest('.imagemapper-wrapper').height());var part1=mapHeight*parentTopPercent/parseFloat($(this).parent().css('transform').substring($(this).parent().css('transform').indexOf('(')+1,$(this).parent().css('transform').indexOf(',')));var iconHeight=parseInt($(this).height())*parseFloat($(this).parent().css('transform').substring($(this).parent().css('transform').indexOf('(')+1,$(this).parent().css('transform').indexOf(',')));positionTop=-(part1)+"px";var position=$(this).parent().data('open-position');var radius=parseInt($(this).parent().find('.imapper-content').not('.imapper-content-additional').css('border-bottom-right-radius'))/2+1;var tNumber=parseInt($(this).siblings('.imapper-value-tab-number').html());cHeight[pinId]=map_original_height-((tNumber>1)?tNumber:0)*(75-radius);cWidth[pinId]=map_original_width-((tNumber>1)?tNumber:0)*(75-radius);$(this).parent().find('.imapper-content-wrapper').css({'top':positionTop,'left':positionLeft,'width':map_original_width+'px','height':map_original_height+'px','z-index':'15'});$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'top':'0px','left':'0px','width':map_original_width+'px','height':map_original_height+'px'});if($(this).hasClass(pinType2))
{if(clicked[pinId]==0)
{$(this).parent().find('.imapper-content').css('width','0px');if(position=='left')
$(this).parent().find('.imapper-content').css('margin-left',map_original_width+'px')}
else{$(this).parent().find('.imapper-content').css('width',map_original_width+'px');if(position=='left')
$(this).parent().find('.imapper-content').css('margin-left','0px')}}
else if($(this).hasClass(pinType1))
{tab_clicked[pinId]=1;if(position=='left'||position=='right')
{$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'height':cHeight[pinId],'top':'','bottom':'0px'});var bottom=cHeight[pinId];var bottom_content=cHeight[pinId]+(75-radius);$(this).parent().find('.imapper-content-tab').each(function(){$(this).css({'width':map_original_width,'height':'75px','bottom':bottom});$(this).find('a').css({'height':'75px','font-size':'24px'});bottom+=75-radius});$(this).parent().find('.imapper-content-additional').each(function(){$(this).css({'width':map_original_width,'height':'0px','bottom':bottom_content});bottom_content+=75-radius})}
else if(position=='top'||position=='bottom')
{$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'width':cWidth[pinId],'left':'','right':'0px'});var right=cWidth[pinId];var right_content=cWidth[pinId]+(75-radius);$(this).parent().find('.imapper-content-tab').each(function(){$(this).css({'height':map_original_height,'width':'75px','right':right});$(this).find('a').css({'width':'75px','font-size':'24px','height':map_original_height});right+=75-radius});$(this).parent().find('.imapper-content-additional').each(function(){$(this).css({'height':map_original_height,'width':'0px','right':right_content});right_content+=75-radius})}}
$(this).parent().find('.imapper-content-header').css({'width':map_original_width-30+'px','font-size':parseInt(contentHeaderOld[pinId][1])*2+'px','padding-left':'20px'});var textHeight=$(this).parent().find('.imapper-content').height()-$(this).parent().find('.imapper-content-header').height()-50;$(this).parent().find('.imapper-content-text').css({'width':map_original_width-30+'px','height':textHeight,'margin-top':'70px','font-size':parseInt(contentTextOld[pinId][3])*2+'px','padding-left':'20px'});$(this).parent().find('.imapper-content-text').each(function(){$(this).mCustomScrollbar('update')});$(this).parent().find('.imapper-arrow').css('display','none');$(this).parent().find('.imapper-arrow-border').css('display','none');$(this).parent().find('.imapper-triangle-border').css('display','none');var pos=$(this).attr('src').indexOf('/images/');pluginUrl=$(this).attr('src').substring(0,pos);$(this).parent().find('.imapper-content-wrapper').append('<img class="imapper-close-button" src="'+pluginUrl+'/images/close.jpg">');$(this).parent().find('.imapper-close-button').css({'position':'absolute','right':'30px','top':'25px','z-index':'100','transform':'scale(2.3)','cursor':'pointer','box-shadow':'none'})})}
else if($(window).width()>600&&designStyle=='responsive')
{$('.imapper'+id+'-pin').each(function(){var pinId=getPinId($(this));var position=$(this).parent().data('open-position');cHeight[pinId]=height;cWidth[pinId]=width;$(this).parent().find('.imapper-content-wrapper').css({'top':contentWrapperOld[pinId][0],'left':contentWrapperOld[pinId][1],'width':contentWrapperOld[pinId][2],'height':contentWrapperOld[pinId][3],'z-index':contentWrapperOld[pinId][4]});$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'top':contentOld[pinId][0],'left':contentOld[pinId][1],'width':contentOld[pinId][2],'height':contentOld[pinId][3]});if($(this).hasClass(pinType2)&&position=='left')
{if(clicked[pinId]==0)
$(this).parent().find('.imapper-content').not('.imapper-content-additional').css('margin-left',width);else $(this).parent().find('.imapper-content').not('.imapper-content-additional').css('margin-left','0px')}
else if($(this).hasClass(pinType1))
{tab_clicked[pinId]=1;if(position=='left'||position=='right')
{$(this).parent().find('.imapper-content').not('.imapper-content-additional').css('top','');$(this).parent().find('.imapper-content-tab').each(function(index){$(this).css({'width':contentTabOld[pinId][index][0],'height':contentTabOld[pinId][index][1],'bottom':contentTabOld[pinId][index][2]});$(this).find('a').css({'height':'','font-size':'12px'})});$(this).parent().find('.imapper-content-additional').each(function(index){$(this).css({'width':contentAdditionalOld[pinId][index][0],'height':contentAdditionalOld[pinId][index][1],'bottom':contentAdditionalOld[pinId][index][2]})})}
else if(position=='top'||position=='bottom')
{$(this).parent().find('.imapper-content').not('.imapper-content-additional').css({'top':'','left':''});$(this).parent().find('.imapper-content-tab').each(function(index){$(this).css({'width':contentTabOld[pinId][index][0],'height':contentTabOld[pinId][index][1],'right':contentTabOld[pinId][index][3]});$(this).find('a').css({'width':'','font-size':'12px','height':contentTabOld[pinId][index][1]})});$(this).parent().find('.imapper-content-additional').each(function(index){$(this).css({'width':contentAdditionalOld[pinId][index][0],'height':contentAdditionalOld[pinId][index][1],'right':contentAdditionalOld[pinId][index][3]})})}}
$(this).parent().find('.imapper-content-header').css({'width':contentHeaderOld[pinId][0],'font-size':contentHeaderOld[pinId][1],'padding-left':contentHeaderOld[pinId][2]});$(this).parent().find('.imapper-content-text').css({'width':contentTextOld[pinId][0],'height':contentTextOld[pinId][1],'margin-top':contentTextOld[pinId][2],'font-size':contentTextOld[pinId][3],'padding-left':contentTextOld[pinId][4]});$(this).parent().find('.imapper-content-text').each(function(){$(this).mCustomScrollbar('update')});$(this).parent().find('.imapper-arrow').css('display','block');$(this).parent().find('.imapper-arrow-border').css('display','block');$(this).parent().find('.imapper-triangle-border').css('display','block');$(this).parent().find('.imapper-close-button').remove()})}})})}})};my_admin_debug=function(t,o){return;if(window.console){console.log('Wizard 1 \n'+t+' : '+JSON.stringify(o))}};function getPinId(obj){return obj.attr('id').substring(obj.attr('id').indexOf('-pin')+4)}
function imapperGetOriginalSize(image)
{if(navigator.userAgent.match('CriOS')){var original_size=new Array();original_size[0]=1000;original_size[1]=1000;return original_size}else{var img=new Image();if(typeof img!='undefined'){img.src=$(image).attr('src');var original_size=new Array();original_size[0]=img.naturalWidth;original_size[1]=img.naturalHeight;my_admin_debug("image original size",original_size);return original_size}else{var original_size=new Array();original_size[0]=1000;original_size[1]=1000;return original_size}}}
function addOverlay(obj,id)
{obj.addClass('imapper-no-overlay').closest('.imapper-pin-wrapper').siblings('#imapper'+id+'-map-image').wrap('<div class="my_imapper_overlay_'+id+' imapper-overlay-wrapper"></div>')}
function imapperClearMap(obj,id,clicked){$('.imapper'+id+'-pin').each(function(){var pid=getPinId($(this));if(clicked[pid]==1)
$(this).trigger('click')});if($('#imapper'+id+'-map-image').parent().hasClass('imapper-overlay-wrapper')){$('#imapper'+id+'-map-image').unwrap().siblings('.imapper-pin-wrapper').children().removeClass('imapper-no-overlay')}}
function initAreaPinsBlur(settings,id){$('.imapper'+id+'-pin-wrapper').each(function(){if(settings.mapOverlay&&$(this).children('.imapper-area-pin').length>0){var img=$('#imapper'+id+'-map-image');var original_size=imapperGetOriginalSize(img);var imgWidth=parseFloat(img.css('width'));var imgHeight=parseFloat(img.css('height'));var pinWrapperLeft=parseFloat($(this).position().left)*original_size[0]/imgWidth;var pinWrapperTop=Math.abs(parseFloat($(this).position().top))*original_size[1]/imgHeight;var areaPin=$(this).children('.imapper-area-pin');var areaPinLeft=parseFloat($(this).children('.imapper-area-pin').css('width'))/2;var areaPinTop=Math.abs(parseFloat($(this).children('.imapper-area-pin').css('height')));var areaPinBorderLeft=parseFloat(areaPin.css('border-left-width'));var areaPinBorderTop=parseFloat(areaPin.css('border-top-width'));$(this).children('.imapper-area-pin').find('img').css({'left':-pinWrapperLeft+areaPinLeft-areaPinBorderLeft+'px','top':-pinWrapperTop+areaPinTop-areaPinBorderTop+'px'})}})}
function imapperInit(id,settings)
{var itemOpenStyle=settings.itemOpenStyle,itemDesignStyle=settings.itemDesignStyle,pinClickAction=settings.pinClickAction,showAllCategory=settings.showAllCategory,allCategoryText=settings.allCategoryText,lightboxGallery=settings.lightboxGallery,itemClickAction='';cats='';var tempCat;$('#imapper'+id+'-map-image').css('max-width','100%');if(settings.blurEffect)
$('#imapper'+id+'-map-image').addClass('imapper-blur-effect');if(settings.mapOverlay){$('#imagemapper'+id+'-wrapper .imapper-area-pin').append($('#imapper'+id+'-map-image').clone());$('#imagemapper'+id+'-wrapper .imapper-area-pin img').removeAttr('id').removeClass()}
$('#imagemapper'+id+'-wrapper').after('<div class="imapper-content-below imapper-content-below-invisible imapper'+id+'-content-below"></div>');var wrapperWidth=$('#imapper'+id+'-map-image').css('width');$('.imapper'+id+'-content-below').css({'maxWidth':wrapperWidth,'display':'none'});$('#imagemapper'+id+'-wrapper').children('.imapper-pin-wrapper').each(function(){var pinId='';var pinSrc='';if(typeof pinImg!='undefined'){pinId=getPinId(pinImg);pinSrc=pinImg.attr('src')}
var my_pin_id=$(this).data('pin-id');var dataLeft=($(this).attr('data-left')!==undefined)?$(this).attr('data-left'):'50%';var dataTop=($(this).attr('data-top')!==undefined)?$(this).attr('data-top'):'50%';var dataOpenPosition=($(this).attr('data-open-position')!==undefined)?$(this).attr('data-open-position'):'left';var dataPinColor=($(this).attr('data-pin-color')!==undefined)?$(this).attr('data-pin-color'):'#0000ff';var dataPinIcon=($(this).attr('data-pin-icon')!==undefined)?$(this).attr('data-pin-icon'):'icon-plane';var dataImapperLink=($(this).attr('data-imapper-link')!==undefined)?$(this).attr('data-imapper-link'):'';var itemClickAction=($(this).attr('data-imapper-click-action')!==undefined)?$(this).attr('data-imapper-click-action'):pinClickAction;var prettyPhotoWidth=($(this).attr('data-imapper-lightbox-width')!==undefined)?$(this).attr('data-imapper-lightbox-width'):'100%';var prettyPhotoHeight=($(this).attr('data-imapper-lightbox-height')!==undefined)?$(this).attr('data-imapper-lightbox-height'):'100%';var imapperContentWrapper=$(this).children('.imapper-content-wrapper');var my_imapperHoverWrapper=$(this).parents("#imagemapper"+id+"-wrapper").find("#imapper"+id+"-pin"+my_pin_id+"-my-content-wrapper");var dataTextColor=(imapperContentWrapper.attr('data-text-color')!==undefined)?imapperContentWrapper.attr('data-text-color'):'#dbdbdb';var dataBackColor=(imapperContentWrapper.attr('data-back-color')!==undefined)?imapperContentWrapper.attr('data-back-color'):'#1fb896';var dataBorderColor=(imapperContentWrapper.attr('data-border-color')!==undefined)?imapperContentWrapper.attr('data-border-color'):'#1fb896';var dataBorderRadius=(imapperContentWrapper.attr('data-border-radius')!==undefined)?imapperContentWrapper.attr('data-border-radius'):'10px';var dataWidth=(imapperContentWrapper.attr('data-width')!==undefined)?imapperContentWrapper.attr('data-width'):'200px';var dataHeight=(imapperContentWrapper.attr('data-height')!==undefined)?imapperContentWrapper.attr('data-height'):'150px';var dataFont=(imapperContentWrapper.attr('data-font')!==undefined)?imapperContentWrapper.attr('data-font'):'Arial';var imapperContent=imapperContentWrapper.children('.imapper-content');var dataTabNumber=imapperContent.length;if(typeof pinImg!='undefined'){if(pinImg.hasClass('iMapper-pin-1')){pinImg.addClass('imapper-pin-type-1');pinImg.css({'color':dataPinColor})}}
if(itemClickAction=='lightboxImage'){if(lightboxGallery)
pinImg.after('<a class="imapper-pretty-photo" style="display:none;" rel="prettyPhoto[imapper-gallery-'+id+']" alt=""  href="'+dataImapperLink+'?width='+prettyPhotoWidth+'&height='+prettyPhotoHeight+'"><img href="'+dataImapperLink+'" style="display:none !important;" alt=" " /></a>');else pinImg.after('<a class="imapper-pretty-photo" style="display:none;" rel="prettyPhoto" alt="altText"  href="'+dataImapperLink+'?width='+prettyPhotoWidth+'&height='+prettyPhotoHeight+'"><img href="'+dataImapperLink+'" alt=" " style="display:none !important;" /></a>')}else if(itemClickAction=='lightboxIframe'){if(lightboxGallery)
pinImg.after('<a class="imapper-pretty-photo" rel="prettyPhoto[imapper-gallery-'+id+']"  href="'+dataImapperLink+'?iframe=true&width='+prettyPhotoWidth+'&height='+prettyPhotoHeight+'"><img alt=" " style="display:none !important;" /></a>');else pinImg.after('<a class="imapper-pretty-photo" rel="prettyPhoto"  href="'+dataImapperLink+'?iframe=true&width='+prettyPhotoWidth+'&height='+prettyPhotoHeight+'"><img alt=" " style="display:none !important;" /></a>')}
$(this).css({'position':'absolute','left':dataLeft,'top':dataTop});if(dataTabNumber>1)
$(this).append('<div id="imapper'+id+'-value-item'+pinId+'-tab-number" class="imapper-value-tab-number" >'+dataTabNumber+'</div>');var my_immaperHoverOpenPosition=$(this).data('my-hover-open');var my_imapperHoverBackColor=my_imapperHoverWrapper.data('back-color');my_imapperHoverWrapper.find(".my_hover_inner_1234").append('<div class="imapper-arrow my_arrow_new_test" style="border-color: '+my_imapperHoverBackColor+' transparent transparent transparent;"></div>');my_imapperHoverWrapper.find(".my_hover_inner_1234").append('<div class="my_arror_top_hover arrow-'+my_immaperHoverOpenPosition+'-border imapper-arrow-border" style="border-color:'+my_imapperHoverBackColor+' transparent transparent transparent"></div>');var my_width_12345_os=my_imapperHoverWrapper.width();var my_width_12345_parent=my_width_12345_os+10;my_imapperHoverWrapper.find(".my_hover_inner_1234").css('width',my_width_12345_os+'px');my_imapperHoverWrapper.find(".my_hover_title").css('width',my_width_12345_os+'px');my_admin_debug("Immaper",{id:id,backColor:my_imapperHoverBackColor});imapperContentWrapper.css('color',dataTextColor);imapperContentWrapper.append('<div class="imapper-arrow" style="border-color:'+dataBackColor+'transparent transparent transparent;"></div>');imapperContentWrapper.find(".imapper-content").append('<div class="my-imapper-arrow-new-1234 imapper-arrow-new arrow-left" style="border-color: transparent '+dataBackColor+' transparent transparent ;"></div>');imapperContentWrapper.find(".imapper-content").append('<div class="my-imapper-arrow-new-1234 imapper-arrow-new-right arrow-right" style="border-color: transparent transparent transparent '+dataBackColor+'"></div>');imapperContentWrapper.find(".imapper-content").append('<div class="my-imapper-arrow-new-1234 imapper-arrow-new-top arrow-up" style="border-color:  transparent transparent '+dataBackColor+' transparent"></div>');imapperContentWrapper.find(".imapper-content").append('<div class="my-imapper-arrow-new-1234 imapper-arrow-new-bottom arrow-down" style="border-color:'+dataBackColor+'  transparent transparent transparent"></div>');tempCat=$(this).data('category')
if(cats.indexOf(tempCat)==-1&&tempCat!==undefined){cats+='<div class="imapper-category-item-wrapper"><a class="imapper-category-button" href="'+tempCat+'">'+tempCat+'</a><div class="imapper-category-arrow-bottom"></div></div>'}
imapperContent.css({'background-color':dataBackColor,'border-color':dataBorderColor,'border-radius':dataBorderRadius,'width':dataWidth,'height':dataHeight,'font-family':'"'+dataFont+'"'});if(pinSrc!==undefined){if(pinSrc.indexOf('images/icons/2')>=0)
{imapperContent.css('height','75px');if(dataOpenPosition!='left'&&dataOpenPosition!='right')
{dataOpenPosition=left;$(this).attr('data-open-position','left')}
imapperContentWrapper.append('<div class="triangle-'+dataOpenPosition+'-border imapper-triangle-border"></div>')}
else imapperContentWrapper.append('<div class="arrow-'+dataOpenPosition+'-border imapper-arrow-border"></div>')}
var my_product_header_height=$(this).find(".my_product_header").outerHeight();var my_product_footer_height=$(this).find(".my_product_footer").outerHeight();my_admin_debug("Header height",my_product_header_height);my_admin_debug("Footer height",my_product_footer_height);$(this).find(".my_product_header").data('my-height',my_product_header_height);$(this).find(".my_product_footer").data('my-height',my_product_footer_height);var my_height_1=parseFloat(dataHeight)-(my_product_footer_height+my_product_header_height);var my_height_price=$(this).find(".my_product_price").outerHeight();var my_descr_height=my_height_1-my_height_price;$(this).find(".my_product_description").height(my_descr_height+'px');my_admin_debug("Height",my_height_1);$(this).find(".my_product_main").height(my_height_1);var l_h_1=parseInt($(this).find(".my_product_price").data('my-line-height'));var f_s_1=parseInt($(this).find(".my_product_price").data('my-font-size'));var rem=(l_h_1-f_s_1)/2;var p=15-rem;if(p>0){$(this).find(".my_product_price").css('padding-top',p+'px');$(this).find(".my_product_price").css('padding-bottom',p+'px')}else{p=0;$(this).find(".my_product_price").css('padding-top',p+'px');$(this).find(".my_product_price").css('padding-bottom',p+'px')}
if(dataTabNumber>1)
for(var i=1;i<=dataTabNumber;i++)
{if(i==1)
{var after='#imapper'+id+'-pin'+pinId+'-content';var contentTab='-content'}
else{var after='#imapper'+id+'-pin'+pinId+'-content-'+i;var contentTab='-content-'+i}}
if(pinSrc!==undefined){if(pinSrc.indexOf('images/icons/3/')>=0)
$(this).prepend('<img id="imapper'+id+'-pin'+pinId+'" class="imapper-pin-shadow" src="'+pinSrc.substring(0,pinSrc.length-5)+'1-1.png">')
if(pinSrc.indexOf('images/icons/5/')>=0)
{$(this).children('.imapper'+id+'-pin').after('<i id="imapper'+id+'-pin'+pinId+'-icon" class="imapper-pin-icon fawesome icon-large '+dataPinIcon+'"></i>');$(this).children('.imapper'+id+'-pin').after('<div id="imapper'+id+'-pin'+pinId+'-color" class="imapper-pin-color" style="background-color: '+dataPinColor+';"></div>')}}});if(cats.length!=0&&settings.categories==!0){if(showAllCategory)
cats='<div class="imapper-category-item-wrapper imapper-category-active"><a class="imapper-category-button" href="All">'+allCategoryText+'</a><div class="imapper-category-arrow-bottom"></div></div>'+cats;cats='<div class="imapper'+id+'-categories-wrapper imapper-categories-wrapper">'+cats;$('#imagemapper'+id+'-wrapper').before(cats)}
$('.imapper-pretty-photo').prettyPhoto({social_tools:!1,theme:'pp_default'})}})(jQuery)
;/*! Copyright (c) 2011 Brandon Aaron (//brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: //adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(//www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery)

;/*
== malihu jquery custom scrollbar plugin == 
Version: 3.0.2 
Plugin URI: //manos.malihu.gr/jquery-custom-content-scroller 
Author: malihu
Author URI: //manos.malihu.gr
License: MIT License (MIT)
*/

/*
Copyright 2010 Manos Malihutsakis (email: manos@malihu.gr)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

/*
The code below is fairly long, fully commented and should be normally used in development. 
For production, use either the minified jquery.mCustomScrollbar.min.js script or 
the production-ready jquery.mCustomScrollbar.concat.min.js which contains the plugin 
and dependencies (minified). 
*/

;(function($,window,document,undefined){
	
	/* 
	----------------------------------------
	PLUGIN NAMESPACE, PREFIX, DEFAULT SELECTOR(S) 
	----------------------------------------
	*/
	
	var pluginNS="mCustomScrollbar",
		pluginPfx="mCS",
		defaultSelector=".mCustomScrollbar",
	
	
		
	
	
	/* 
	----------------------------------------
	DEFAULT OPTIONS 
	----------------------------------------
	*/
	
		defaults={
			/* 
			set element/content width programmatically 
			values: boolean, pixels, percentage 
			*/
			setWidth:false,
			/* 
			set element/content height programmatically 
			values: boolean, pixels, percentage 
			*/
			setHeight:false,
			/*
			set the initial css top property of content  
			values: string (e.g. "-100px", "10%" etc.)
			*/
			setTop:0,
			/*
			set the initial css left property of content  
			values: string (e.g. "-100px", "10%" etc.)
			*/
			setLeft:0,
			/* 
			scrollbar axis (vertical and/or horizontal scrollbars) 
			values (string): "y", "x", "yx"
			*/
			axis:"y",
			/*
			position of scrollbar relative to content  
			values (string): "inside", "outside" ("outside" requires elements with position:relative)
			*/
			scrollbarPosition:"inside",
			/*
			scrolling inertia
			values: integer (milliseconds)
			*/
			scrollInertia:950,
			/* 
			auto-adjust scrollbar dragger length
			values: boolean
			*/
			autoDraggerLength:true,
			/*
			auto-hide scrollbar when idle 
			values: boolean
			*/
			autoHideScrollbar:false,
			/*
			auto-expands scrollbar on mouse-over and dragging
			*/
			autoExpandScrollbar:false,
			/*
			always show scrollbar, even when there's nothing to scroll 
			values: integer (0=disable, 1=always show dragger rail, 2=always show dragger rail, dragger and buttons), boolean
			*/
			alwaysShowScrollbar:0,
			/*
			scrolling always snaps to a multiple of this number in pixels
			values: integer
			*/
			snapAmount:null,
			/*
			when snapping, snap with this number in pixels as an offset 
			values: integer
			*/
			snapOffset:0,
			/* 
			mouse-wheel scrolling
			*/
			mouseWheel:{
				/* 
				enable mouse-wheel scrolling
				values: boolean
				*/
				enable:true,
				/* 
				scrolling amount in pixels
				values: "auto", integer 
				*/
				scrollAmount:"auto",
				/* 
				mouse-wheel scrolling axis 
				the default scrolling direction when both vertical and horizontal scrollbars are present 
				values (string): "y", "x" 
				*/
				axis:"y",
				/* 
				prevent the default behaviour which automatically scrolls the parent element(s) 
				when end of scrolling is reached 
				values: boolean
				*/
				preventDefault:false,
				/*
				the reported mouse-wheel delta value. The number of lines (translated to pixels) one wheel notch scrolls.  
				values: "auto", integer 
				"auto" uses the default OS/browser value 
				*/
				deltaFactor:"auto",
				/*
				normalize mouse-wheel delta to -1 or 1 (disables mouse-wheel acceleration) 
				values: boolean
				*/
				normalizeDelta:false,
				/*
				invert mouse-wheel scrolling direction 
				values: boolean
				*/
				invert:false,
				/*
				the tags that disable mouse-wheel when cursor is over them
				*/
				disableOver:["select","option","keygen","datalist","textarea"]
			},
			/* 
			scrollbar buttons
			*/
			scrollButtons:{ 
				/*
				enable scrollbar buttons
				values: boolean
				*/
				enable:false,
				/*
				scrollbar buttons scrolling type 
				values (string): "stepless", "stepped"
				*/
				scrollType:"stepless",
				/*
				scrolling amount in pixels
				values: "auto", integer 
				*/
				scrollAmount:"auto"
			},
			/* 
			keyboard scrolling
			*/
			keyboard:{ 
				/*
				enable scrolling via keyboard
				values: boolean
				*/
				enable:true,
				/*
				keyboard scrolling type 
				values (string): "stepless", "stepped"
				*/
				scrollType:"stepless",
				/*
				scrolling amount in pixels
				values: "auto", integer 
				*/
				scrollAmount:"auto"
			},
			/*
			enable content touch-swipe scrolling 
			values: boolean, integer, string (number)
			integer values define the axis-specific minimum amount required for scrolling momentum
			*/
			contentTouchScroll:25,
			/*
			advanced option parameters
			*/
			advanced:{
				/*
				auto-expand content horizontally (for "x" or "yx" axis) 
				values: boolean
				*/
				autoExpandHorizontalScroll:false,
				/*
				auto-scroll to elements with focus
				*/
				autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
				/*
				auto-update scrollbars on content, element or viewport resize 
				should be true for fluid layouts/elements, adding/removing content dynamically, hiding/showing elements, content with images etc. 
				values: boolean
				*/
				updateOnContentResize:true,
				/*
				auto-update scrollbars each time each image inside the element is fully loaded 
				values: boolean
				*/
				updateOnImageLoad:true,
				/*
				auto-update scrollbars based on the amount and size changes of specific selectors 
				useful when you need to update the scrollbar(s) automatically, each time a type of element is added, removed or changes its size 
				values: boolean, string (e.g. "ul li" will auto-update scrollbars each time list-items inside the element are changed) 
				a value of true (boolean) will auto-update scrollbars each time any element is changed
				*/
				updateOnSelectorChange:false
			},
			/* 
			scrollbar theme 
			values: string 
			ready-to-use themes: "light", "dark", "light-2", "dark-2", "light-3", "dark-3", "light-thick", "dark-thick", "light-thin", "dark-thin", 
			"rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "minimal", "minimal-dark", 
			"inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"
			*/
			theme:"light",
			/*
			user defined callback functions
			*/
			callbacks:{
				/*
				function to call when a scroll event starts 
				values (function): function(){}
				*/
				onScrollStart:false,
				/*
				function to call when a scroll event is complete 
				values (function): function(){}
				*/
				onScroll:false,
				/*
				function to call when a scroll event is complete and content is scrolled all the way to the end (bottom/right)
				values (function): function(){}
				*/
				onTotalScroll:false,
				/*
				function to call when a scroll event is complete and content is scrolled back to the beginning (top/left)
				values (function): function(){}
				*/
				onTotalScrollBack:false,
				/*
				function to call when a scroll event is running 
				values (function): function(){}
				*/
				whileScrolling:false,
				/*
				onTotalScroll offset value
				values: integer (pixels)
				*/
				onTotalScrollOffset:0,
				/*
				onTotalScrollBack offset value
				values: integer (pixels)
				*/
				onTotalScrollBackOffset:0,
				/*
				callback offsets will trigger even if content is already scrolled to the end or beginning
				values: boolean
				*/
				alwaysTriggerOffsets:true
			},
			/*
			add scrollbar(s) on all elements matching the current selector, now and in the future 
			values: boolean, string 
			string values: "on" (enable), "once" (disable after first invocation), "off" (disable)
			*/
			live:false,
			/*
			the matching set of elements (instead of the current selector) to add scrollbar(s), now and in the future
			values: string (selector)
			*/
			liveSelector:null
		},
	
	
	
	
	
	/* 
	----------------------------------------
	VARS, CONSTANTS 
	----------------------------------------
	*/
	
		totalInstances=0, /* plugin instances amount */
		liveTimers={}, /* live option timers */
		/* live option timers removal */
		removeLiveTimers=function(selector){
			if(liveTimers[selector]){
				clearTimeout(liveTimers[selector]);
				functions._delete.call(null,liveTimers[selector]);
			}
		},
		oldIE=(window.attachEvent && !window.addEventListener) ? 1 : 0, /* detect IE < 9 */
		touchActive=false, /* global touch state (for touch and pointer events) */
		
	
	
	
	
	/* 
	----------------------------------------
	METHODS 
	----------------------------------------
	*/
	
		methods={
			
			/* 
			plugin initialization method 
			creates the scrollbar(s), plugin data object and options
			----------------------------------------
			*/
			
			init:function(options){
				
				var options=$.extend(true,{},defaults,options),
					selector=functions._selector.call(this); /* validate selector */
				
				/* 
				if live option is enabled, monitor for elements matching the current selector and 
				apply scrollbar(s) when found (now and in the future) 
				*/
				if(options.live){
					var liveSelector=options.liveSelector || this.selector || defaultSelector, /* live selector(s) */
						$liveSelector=$(liveSelector); /* live selector(s) as jquery object */
					if(options.live==="off"){
						/* 
						disable live if requested 
						usage: $(selector).mCustomScrollbar({live:"off"}); 
						*/
						removeLiveTimers(liveSelector);
						return;
					}
					liveTimers[liveSelector]=setTimeout(function(){
						/* call mCustomScrollbar fn on live selector(s) every half-second */
						$liveSelector.mCustomScrollbar(options);
						if(options.live==="once" && $liveSelector.length){
							/* disable live after first invocation */
							removeLiveTimers(liveSelector);
						}
					},500);
				}else{
					removeLiveTimers(liveSelector);
				}
				
				/* options backward compatibility (for versions < 3.0.0) and normalization */
				options.setWidth=(options.set_width) ? options.set_width : options.setWidth;
				options.setHeight=(options.set_height) ? options.set_height : options.setHeight;
				options.axis=(options.horizontalScroll) ? "x" : functions._findAxis.call(null,options.axis);
				options.scrollInertia=options.scrollInertia<17 ? 17 : options.scrollInertia;
				if(typeof options.mouseWheel!=="object" &&  options.mouseWheel==true){ /* old school mouseWheel option (non-object) */
					options.mouseWheel={enable:true,scrollAmount:"auto",axis:"y",preventDefault:false,deltaFactor:"auto",normalizeDelta:false,invert:false}
				}
				options.mouseWheel.scrollAmount=!options.mouseWheelPixels ? options.mouseWheel.scrollAmount : options.mouseWheelPixels;
				options.mouseWheel.normalizeDelta=!options.advanced.normalizeMouseWheelDelta ? options.mouseWheel.normalizeDelta : options.advanced.normalizeMouseWheelDelta;
				options.scrollButtons.scrollType=functions._findScrollButtonsType.call(null,options.scrollButtons.scrollType); 
				
				functions._theme.call(null,options); /* theme-specific options */
				
				/* plugin constructor */
				return $(selector).each(function(){
					
					var $this=$(this);
					
					if(!$this.data(pluginPfx)){ /* prevent multiple instantiations */
					
						/* store options and create objects in jquery data */
						$this.data(pluginPfx,{
							idx:++totalInstances, /* instance index */
							opt:options, /* options */
							scrollRatio:{y:null,x:null}, /* scrollbar to content ratio */
							overflowed:null, /* overflowed axis */
							bindEvents:false, /* object to check if events are bound */
							tweenRunning:false, /* object to check if tween is running */
							sequential:{}, /* sequential scrolling object */
							langDir:$this.css("direction"), /* detect/store direction (ltr or rtl) */
							cbOffsets:null, /* object to check whether callback offsets always trigger */
							/* 
							object to check how scrolling events where last triggered 
							"internal" (default - triggered by this script), "external" (triggered by other scripts, e.g. via scrollTo method) 
							usage: object.data("mCS").trigger
							*/
							trigger:null
						});
						
						/* HTML data attributes */
						var o=$this.data(pluginPfx).opt,
							htmlDataAxis=$this.data("mcs-axis"),htmlDataSbPos=$this.data("mcs-scrollbar-position"),htmlDataTheme=$this.data("mcs-theme");
						if(htmlDataAxis){o.axis=htmlDataAxis;} /* usage example: data-mcs-axis="y" */
						if(htmlDataSbPos){o.scrollbarPosition=htmlDataSbPos;} /* usage example: data-mcs-scrollbar-position="outside" */
						if(htmlDataTheme){ /* usage example: data-mcs-theme="minimal" */
							o.theme=htmlDataTheme;
							functions._theme.call(null,o); /* theme-specific options */
						}
						
						functions._pluginMarkup.call(this); /* add plugin markup */
						
						methods.update.call(null,$this); /* call the update method */
					
					}
					
				});
				
			},
			/* ---------------------------------------- */
			
			
			
			/* 
			plugin update method 
			updates content and scrollbar(s) values, events and status 
			----------------------------------------
			usage: $(selector).mCustomScrollbar("update");
			*/
			
			update:function(el){
				
				var selector=el || functions._selector.call(this); /* validate selector */
				
				return $(selector).each(function(){
					
					var $this=$(this);
					
					if($this.data(pluginPfx)){ /* check if plugin has initialized */
						
						var d=$this.data(pluginPfx),o=d.opt,
							mCSB_container=$("#mCSB_"+d.idx+"_container"),
							mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")];
						
						if(!mCSB_container.length){return;}
						
						if(d.tweenRunning){functions._stop.call(null,$this);} /* stop any running tweens while updating */
						
						/* if element was disabled or destroyed, remove class(es) */
						if($this.hasClass("mCS_disabled")){$this.removeClass("mCS_disabled");}
						if($this.hasClass("mCS_destroyed")){$this.removeClass("mCS_destroyed");}
						
						functions._maxHeight.call(this); /* detect/set css max-height value */
						
						functions._expandContentHorizontally.call(this); /* expand content horizontally */
						
						if(o.axis!=="y" && !o.advanced.autoExpandHorizontalScroll){
							mCSB_container.css("width",functions._contentWidth(mCSB_container.children()));
						}
						
						d.overflowed=functions._overflowed.call(this); /* determine if scrolling is required */
						
						functions._scrollbarVisibility.call(this); /* show/hide scrollbar(s) */
						
						/* auto-adjust scrollbar dragger length analogous to content */
						if(o.autoDraggerLength){functions._setDraggerLength.call(this);}
						
						functions._scrollRatio.call(this); /* calculate and store scrollbar to content ratio */
						
						functions._bindEvents.call(this); /* bind scrollbar events */
						
						/* reset scrolling position and/or events */
						var to=[Math.abs(mCSB_container[0].offsetTop),Math.abs(mCSB_container[0].offsetLeft)];
						if(o.axis!=="x"){ /* y/yx axis */
							if(!d.overflowed[0]){ /* y scrolling is not required */
								functions._resetContentPosition.call(this); /* reset content position */
								if(o.axis==="y"){
									functions._unbindEvents.call(this);
								}else if(o.axis==="yx" && d.overflowed[1]){
									functions._scrollTo.call(this,$this,to[1].toString(),{dir:"x",dur:0,overwrite:"none"});
								}
							}else if(mCSB_dragger[0].height()>mCSB_dragger[0].parent().height()){
								functions._resetContentPosition.call(this); /* reset content position */
							}else{ /* y scrolling is required */
								functions._scrollTo.call(this,$this,to[0].toString(),{dir:"y",dur:0,overwrite:"none"});
							}
						}
						if(o.axis!=="y"){ /* x/yx axis */
							if(!d.overflowed[1]){ /* x scrolling is not required */
								functions._resetContentPosition.call(this); /* reset content position */
								if(o.axis==="x"){
									functions._unbindEvents.call(this);
								}else if(o.axis==="yx" && d.overflowed[0]){
									functions._scrollTo.call(this,$this,to[0].toString(),{dir:"y",dur:0,overwrite:"none"});
								}
							}else if(mCSB_dragger[1].width()>mCSB_dragger[1].parent().width()){
								functions._resetContentPosition.call(this); /* reset content position */
							}else{ /* x scrolling is required */
								functions._scrollTo.call(this,$this,to[1].toString(),{dir:"x",dur:0,overwrite:"none"});
							}
						}
						
						functions._autoUpdate.call(this); /* initialize automatic updating (for dynamic content, fluid layouts etc.) */
						
					}
					
				});
				
			},
			/* ---------------------------------------- */
			
			
			
			/* 
			plugin scrollTo method 
			triggers a scrolling event to a specific value
			----------------------------------------
			usage: $(selector).mCustomScrollbar("scrollTo",value,options);
			*/
		
			scrollTo:function(val,options){
				
				/* prevent silly things like $(selector).mCustomScrollbar("scrollTo",undefined); */
				if(typeof val=="undefined" || val==null){return;}
				
				var selector=functions._selector.call(this); /* validate selector */
				
				return $(selector).each(function(){
					
					var $this=$(this);
					
					if($this.data(pluginPfx)){ /* check if plugin has initialized */
					
						var d=$this.data(pluginPfx),o=d.opt,
							/* method default options */
							methodDefaults={
								trigger:"external", /* method is by default triggered externally (e.g. from other scripts) */
								scrollInertia:o.scrollInertia, /* scrolling inertia (animation duration) */
								scrollEasing:"mcsEaseInOut", /* animation easing */
								moveDragger:false, /* move dragger instead of content */
								callbacks:true, /* enable/disable callbacks */
								onStart:true,
								onUpdate:true,
								onComplete:true
							},
							methodOptions=$.extend(true,{},methodDefaults,options),
							to=functions._arr.call(this,val),dur=methodOptions.scrollInertia < 17 ? 17 : methodOptions.scrollInertia;
						
						/* translate yx values to actual scroll-to positions */
						to[0]=functions._to.call(this,to[0],"y");
						to[1]=functions._to.call(this,to[1],"x");
						
						/* 
						check if scroll-to value moves the dragger instead of content. 
						Only pixel values apply on dragger (e.g. 100, "100px", "-=100" etc.) 
						*/
						if(methodOptions.moveDragger){
							to[0]*=d.scrollRatio.y;
							to[1]*=d.scrollRatio.x;
						}
						
						methodOptions.dur=dur;
						
						setTimeout(function(){ 
							/* do the scrolling */
							if(to[0]!==null && typeof to[0]!=="undefined" && o.axis!=="x" && d.overflowed[0]){ /* scroll y */
								methodOptions.dir="y";
								methodOptions.overwrite="all";
								functions._scrollTo.call(this,$this,to[0].toString(),methodOptions);
							}
							if(to[1]!==null && typeof to[1]!=="undefined" && o.axis!=="y" && d.overflowed[1]){ /* scroll x */
								methodOptions.dir="x";
								methodOptions.overwrite="none";
								functions._scrollTo.call(this,$this,to[1].toString(),methodOptions);
							}
						},60);
						
					}
					
				});
				
			},
			/* ---------------------------------------- */
			
			
			
			/*
			plugin stop method 
			stops scrolling animation
			----------------------------------------
			usage: $(selector).mCustomScrollbar("stop");
			*/
			stop:function(){
				
				var selector=functions._selector.call(this); /* validate selector */
				
				return $(selector).each(function(){
					
					var $this=$(this);
					
					if($this.data(pluginPfx)){ /* check if plugin has initialized */
										
						functions._stop.call(null,$this);
					
					}
					
				});
				
			},
			/* ---------------------------------------- */
			
			
			
			/*
			plugin disable method 
			temporarily disables the scrollbar(s) 
			----------------------------------------
			usage: $(selector).mCustomScrollbar("disable",reset); 
			reset (boolean): resets content position to 0 
			*/
			disable:function(r){
				
				var selector=functions._selector.call(this); /* validate selector */
				
				return $(selector).each(function(){
					
					var $this=$(this);
					
					if($this.data(pluginPfx)){ /* check if plugin has initialized */
						
						var d=$this.data(pluginPfx),o=d.opt;
						
						functions._autoUpdate.call(this,"remove"); /* remove automatic updating */
						
						functions._unbindEvents.call(this); /* unbind events */
						
						if(r){functions._resetContentPosition.call(this);} /* reset content position */
						
						functions._scrollbarVisibility.call(this,true); /* show/hide scrollbar(s) */
						
						$this.addClass("mCS_disabled"); /* add disable class */
					
					}
					
				});
				
			},
			/* ---------------------------------------- */
			
			
			
			/*
			plugin destroy method 
			completely removes the scrollbar(s) and returns the element to its original state
			----------------------------------------
			usage: $(selector).mCustomScrollbar("destroy"); 
			*/
			destroy:function(){
				
				var selector=functions._selector.call(this); /* validate selector */
				
				return $(selector).each(function(){
					
					var $this=$(this);
					
					if($this.data(pluginPfx)){ /* check if plugin has initialized */
					
						var d=$this.data(pluginPfx),o=d.opt,
							mCustomScrollBox=$("#mCSB_"+d.idx),
							mCSB_container=$("#mCSB_"+d.idx+"_container"),
							scrollbar=$(".mCSB_"+d.idx+"_scrollbar");
					
						if(o.live){removeLiveTimers(selector);} /* remove live timer */
						
						functions._autoUpdate.call(this,"remove"); /* remove automatic updating */
						
						functions._unbindEvents.call(this); /* unbind events */
						
						functions._resetContentPosition.call(this); /* reset content position */
						
						$this.removeData(pluginPfx); /* remove plugin data object */
						
						functions._delete.call(null,this.mcs); /* delete callbacks object */
						
						/* remove plugin markup */
						scrollbar.remove(); /* remove scrollbar(s) first (those can be either inside or outside plugin's inner wrapper) */
						mCustomScrollBox.replaceWith(mCSB_container.contents()); /* replace plugin's inner wrapper with the original content */
						/* remove plugin classes from the element and add destroy class */
						$this.removeClass(pluginNS+" _"+pluginPfx+"_"+d.idx+" mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed");
					
					}
					
				});
				
			}
			/* ---------------------------------------- */
			
		},
	
	
	
	
		
	/* 
	----------------------------------------
	FUNCTIONS
	----------------------------------------
	*/
	
		functions={
			
			/* validates selector (if selector is invalid or undefined uses the default one) */
			_selector:function(){
				return (typeof $(this)!=="object" || $(this).length<1) ? defaultSelector : this;
			},
			/* -------------------- */
			
			/* changes options according to theme */
			_theme:function(obj){
				var fixedSizeScrollbarThemes=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],
					nonExpandedScrollbarThemes=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],
					disabledScrollButtonsThemes=["minimal","minimal-dark"],
					enabledAutoHideScrollbarThemes=["minimal","minimal-dark"],
					scrollbarPositionOutsideThemes=["minimal","minimal-dark"];
				obj.autoDraggerLength=$.inArray(obj.theme,fixedSizeScrollbarThemes) > -1 ? false : obj.autoDraggerLength;
				obj.autoExpandScrollbar=$.inArray(obj.theme,nonExpandedScrollbarThemes) > -1 ? false : obj.autoExpandScrollbar;
				obj.scrollButtons.enable=$.inArray(obj.theme,disabledScrollButtonsThemes) > -1 ? false : obj.scrollButtons.enable;
				obj.autoHideScrollbar=$.inArray(obj.theme,enabledAutoHideScrollbarThemes) > -1 ? true : obj.autoHideScrollbar;
				obj.scrollbarPosition=$.inArray(obj.theme,scrollbarPositionOutsideThemes) > -1 ? "outside" : obj.scrollbarPosition;
			},
			/* -------------------- */
			
			
			/* normalizes axis option to valid values: "y", "x", "yx" */
			_findAxis:function(val){
				return (val==="yx" || val==="xy" || val==="auto") ? "yx" : (val==="x" || val==="horizontal") ? "x" : "y";
			},
			/* -------------------- */
			
			
			/* normalizes scrollButtons.scrollType option to valid values: "stepless", "stepped" */
			_findScrollButtonsType:function(val){
				return (val==="stepped" || val==="pixels" || val==="step" || val==="click") ? "stepped" : "stepless";
			},
			/* -------------------- */
			
			
			/* generates plugin markup */
			_pluginMarkup:function(){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
					expandClass=o.autoExpandScrollbar ? " mCSB_scrollTools_onDrag_expand" : "",
					scrollbar=["<div id='mCSB_"+d.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+d.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_vertical"+expandClass+"'><div class='mCSB_draggerContainer'><div id='mCSB_"+d.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+d.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+d.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_horizontal"+expandClass+"'><div class='mCSB_draggerContainer'><div id='mCSB_"+d.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],
					wrapperClass=o.axis==="yx" ? "mCSB_vertical_horizontal" : o.axis==="x" ? "mCSB_horizontal" : "mCSB_vertical",
					scrollbars=o.axis==="yx" ? scrollbar[0]+scrollbar[1] : o.axis==="x" ? scrollbar[1] : scrollbar[0],
					contentWrapper=o.axis==="yx" ? "<div id='mCSB_"+d.idx+"_container_wrapper' class='mCSB_container_wrapper' />" : "",
					autoHideClass=o.autoHideScrollbar ? " mCS-autoHide" : "",
					scrollbarDirClass=(o.axis!=="x" && d.langDir==="rtl") ? " mCS-dir-rtl" : "";
				if(o.setWidth){$this.css("width",o.setWidth);} /* set element width */
				if(o.setHeight){$this.css("height",o.setHeight);} /* set element height */
				o.setLeft=(o.axis!=="y" && d.langDir==="rtl") ? "989999px" : o.setLeft; /* adjust left position for rtl direction */
				$this.addClass(pluginNS+" _"+pluginPfx+"_"+d.idx+autoHideClass+scrollbarDirClass).wrapInner("<div id='mCSB_"+d.idx+"' class='mCustomScrollBox mCS-"+o.theme+" "+wrapperClass+"'><div id='mCSB_"+d.idx+"_container' class='mCSB_container' style='position:relative; top:"+o.setTop+"; left:"+o.setLeft+";' dir="+d.langDir+" /></div>");
				var mCustomScrollBox=$("#mCSB_"+d.idx),
					mCSB_container=$("#mCSB_"+d.idx+"_container");
				if(o.axis!=="y" && !o.advanced.autoExpandHorizontalScroll){
					mCSB_container.css("width",functions._contentWidth(mCSB_container.children()));
				}
				if(o.scrollbarPosition==="outside"){
					if($this.css("position")==="static"){ /* requires elements with non-static position */
						$this.css("position","relative");
					}
					$this.css("overflow","visible");
					mCustomScrollBox.addClass("mCSB_outside").after(scrollbars);
				}else{
					mCustomScrollBox.addClass("mCSB_inside").append(scrollbars);
					mCSB_container.wrap(contentWrapper);
				}
				functions._scrollButtons.call(this); /* add scrollbar buttons */
				/* minimum dragger length */
				var mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")];
				mCSB_dragger[0].css("min-height",mCSB_dragger[0].height());
				mCSB_dragger[1].css("min-width",mCSB_dragger[1].width());
			},
			/* -------------------- */
			
			
			/* calculates content width */
			_contentWidth:function(el){
				return Math.max.apply(Math,el.map(function(){return $(this).outerWidth(true);}).get());
			},
			/* -------------------- */
			
			
			/* expands content horizontally */
			_expandContentHorizontally:function(){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
					mCSB_container=$("#mCSB_"+d.idx+"_container");
				if(o.advanced.autoExpandHorizontalScroll && o.axis!=="y"){
					/* 
					wrap content with an infinite width div and set its position to absolute and width to auto. 
					Setting width to auto before calculating the actual width is important! 
					We must let the browser set the width as browser zoom values are impossible to calculate.
					*/
					mCSB_container.css({"position":"absolute","width":"auto"})
						.wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />")
						.css({ /* set actual width, original position and un-wrap */
							/* 
							get the exact width (with decimals) and then round-up. 
							Using jquery outerWidth() will round the width value which will mess up with inner elements that have non-integer width
							*/
							"width":(Math.ceil(mCSB_container[0].getBoundingClientRect().right+0.4)-Math.floor(mCSB_container[0].getBoundingClientRect().left)),
							"position":"relative"
						}).unwrap();
				}
			},
			/* -------------------- */
			
			
			/* adds scrollbar buttons */
			_scrollButtons:function(){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
					mCSB_scrollTools=$(".mCSB_"+d.idx+"_scrollbar:first"),
					btnHTML=[
						"<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />",
						"<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"
					],
					btn=[(o.axis==="x" ? btnHTML[2] : btnHTML[0]),(o.axis==="x" ? btnHTML[3] : btnHTML[1]),btnHTML[2],btnHTML[3]];
				if(o.scrollButtons.enable){
					mCSB_scrollTools.prepend(btn[0]).append(btn[1]).next(".mCSB_scrollTools").prepend(btn[2]).append(btn[3]);
				}
			},
			/* -------------------- */
			
			
			/* detects/sets css max-height value */
			_maxHeight:function(){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
					mCustomScrollBox=$("#mCSB_"+d.idx),
					mh=$this.css("max-height"),pct=mh.indexOf("%")!==-1,
					bs=$this.css("box-sizing");
				if(mh!=="none"){
					var val=pct ? $this.parent().height()*parseInt(mh)/100 : parseInt(mh);
					/* if element's css box-sizing is "border-box", subtract any paddings and/or borders from max-height value */
					if(bs==="border-box"){val-=(($this.innerHeight()-$this.height())+($this.outerHeight()-$this.innerHeight()));}
					mCustomScrollBox.css("max-height",Math.round(val));
				}
			},
			/* -------------------- */
			
			
			/* auto-adjusts scrollbar dragger length */
			_setDraggerLength:function(){
				var $this=$(this),d=$this.data(pluginPfx),
					mCustomScrollBox=$("#mCSB_"+d.idx),
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")],
					ratio=[mCustomScrollBox.height()/mCSB_container.outerHeight(false),mCustomScrollBox.width()/mCSB_container.outerWidth(false)],
					l=[
						parseInt(mCSB_dragger[0].css("min-height")),Math.round(ratio[0]*mCSB_dragger[0].parent().height()),
						parseInt(mCSB_dragger[1].css("min-width")),Math.round(ratio[1]*mCSB_dragger[1].parent().width())
					],
					h=oldIE && (l[1]<l[0]) ? l[0] : l[1],w=oldIE && (l[3]<l[2]) ? l[2] : l[3];
				mCSB_dragger[0].css({
					"height":h,"max-height":(mCSB_dragger[0].parent().height()-10)
				}).find(".mCSB_dragger_bar").css({"line-height":l[0]+"px"});
				mCSB_dragger[1].css({
					"width":w,"max-width":(mCSB_dragger[1].parent().width()-10)
				});
			},
			/* -------------------- */
			
			
			/* calculates scrollbar to content ratio */
			_scrollRatio:function(){
				var $this=$(this),d=$this.data(pluginPfx),
					mCustomScrollBox=$("#mCSB_"+d.idx),
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")],
					scrollAmount=[mCSB_container.outerHeight(false)-mCustomScrollBox.height(),mCSB_container.outerWidth(false)-mCustomScrollBox.width()],
					ratio=[
						scrollAmount[0]/(mCSB_dragger[0].parent().height()-mCSB_dragger[0].height()),
						scrollAmount[1]/(mCSB_dragger[1].parent().width()-mCSB_dragger[1].width())
					];
				d.scrollRatio={y:ratio[0],x:ratio[1]};
			},
			/* -------------------- */
			
			
			/* toggles scrolling classes */
			_onDragClasses:function(el,action,xpnd){
				var expandClass=xpnd ? "mCSB_dragger_onDrag_expanded" : "",classes=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag"],
					scrollbar=el.closest(".mCSB_scrollTools");
				if(action==="active"){
					el.toggleClass(classes[0]+" "+expandClass); scrollbar.toggleClass(classes[1]); 
					el[0]._draggable=el[0]._draggable ? 0 : 1;
				}else{
					if(!el[0]._draggable){
						if(action==="hide"){
							el.removeClass(classes[0]); scrollbar.removeClass(classes[1]);
						}else{
							el.addClass(classes[0]); scrollbar.addClass(classes[1]);
						}
					}
				}
			},
			/* -------------------- */
			
			
			/* checks if content overflows its container to determine if scrolling is required */
			_overflowed:function(){
				var $this=$(this),d=$this.data(pluginPfx),
					mCustomScrollBox=$("#mCSB_"+d.idx),
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					contentHeight=d.overflowed==null ? mCSB_container.height() : mCSB_container.outerHeight(false),
					contentWidth=d.overflowed==null ? mCSB_container.width() : mCSB_container.outerWidth(false);
				return [contentHeight>mCustomScrollBox.height(),contentWidth>mCustomScrollBox.width()];
			},
			/* -------------------- */
			
			
			/* resets content position to 0 */
			_resetContentPosition:function(){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
					mCustomScrollBox=$("#mCSB_"+d.idx),
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")];
				functions._stop($this); /* stop any current scrolling before resetting */
				if((o.axis!=="x" && !d.overflowed[0]) || (o.axis==="y" && d.overflowed[0])){mCSB_dragger[0].add(mCSB_container).css("top",0);} /* reset y */
				if((o.axis!=="y" && !d.overflowed[1]) || (o.axis==="x" && d.overflowed[1])){ /* reset x */
					var cx=dx=0;
					if(d.langDir==="rtl"){ /* adjust left position for rtl direction */
						cx=mCustomScrollBox.width()-mCSB_container.outerWidth(false);
						dx=Math.abs(cx/d.scrollRatio.x);
					}
					mCSB_container.css("left",cx);
					mCSB_dragger[1].css("left",dx);
				}
			},
			/* -------------------- */
			
			
			/* binds scrollbar events */
			_bindEvents:function(){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt;
				if(!d.bindEvents){ /* check if events are already bound */
					functions._draggable.call(this);
					if(o.contentTouchScroll){functions._contentDraggable.call(this);}
					if(o.mouseWheel.enable){ /* bind mousewheel fn when plugin is available */
						function _mwt(){
							mousewheelTimeout=setTimeout(function(){
								if(!$.event.special.mousewheel){
									_mwt();
								}else{
									clearTimeout(mousewheelTimeout);
									functions._mousewheel.call($this[0]);
								}
							},1000);
						}
						var mousewheelTimeout;
						_mwt();
					}
					functions._draggerRail.call(this);
					functions._wrapperScroll.call(this);
					if(o.advanced.autoScrollOnFocus){functions._focus.call(this);}
					if(o.scrollButtons.enable){functions._buttons.call(this);}
					if(o.keyboard.enable){functions._keyboard.call(this);}
					d.bindEvents=true;
				}
			},
			/* -------------------- */
			
			
			/* unbinds scrollbar events */
			_unbindEvents:function(){
				var $this=$(this),d=$this.data(pluginPfx),
					namespace=pluginPfx+"_"+d.idx,
					sb=".mCSB_"+d.idx+"_scrollbar",
					sel=$("#mCSB_"+d.idx+",#mCSB_"+d.idx+"_container,#mCSB_"+d.idx+"_container_wrapper,"+sb+" .mCSB_draggerContainer,#mCSB_"+d.idx+"_dragger_vertical,#mCSB_"+d.idx+"_dragger_horizontal,"+sb+">a"),
					mCSB_container=$("#mCSB_"+d.idx+"_container");
				if(d.bindEvents){ /* check if events are bound */
					/* unbind namespaced events from document/selectors */
					$(document).unbind("."+namespace);
					sel.each(function(){
						$(this).unbind("."+namespace);
					});
					/* clear and delete timeouts/objects */
					clearTimeout($this[0]._focusTimeout); functions._delete.call(null,$this[0]._focusTimeout);
					clearTimeout(d.sequential.step); functions._delete.call(null,d.sequential.step);
					clearTimeout(mCSB_container[0].onCompleteTimeout); functions._delete.call(null,mCSB_container[0].onCompleteTimeout);
					d.bindEvents=false;
				}
			},
			/* -------------------- */
			
			
			/* toggles scrollbar visibility */
			_scrollbarVisibility:function(disabled){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
					contentWrapper=$("#mCSB_"+d.idx+"_container_wrapper"),
					content=contentWrapper.length ? contentWrapper : $("#mCSB_"+d.idx+"_container"),
					scrollbar=[$("#mCSB_"+d.idx+"_scrollbar_vertical"),$("#mCSB_"+d.idx+"_scrollbar_horizontal")],
					mCSB_dragger=[scrollbar[0].find(".mCSB_dragger"),scrollbar[1].find(".mCSB_dragger")];
				if(o.axis!=="x"){
					if(d.overflowed[0] && !disabled){
						scrollbar[0].add(mCSB_dragger[0]).add(scrollbar[0].children("a")).css("display","block");
						content.removeClass("mCS_no_scrollbar_y mCS_y_hidden");
					}else{
						if(o.alwaysShowScrollbar){
							if(o.alwaysShowScrollbar!==2){mCSB_dragger[0].add(scrollbar[0].children("a")).css("display","none");}
							content.removeClass("mCS_y_hidden");
						}else{
							scrollbar[0].css("display","none");
							content.addClass("mCS_y_hidden");
						}
						content.addClass("mCS_no_scrollbar_y");
					}
				}
				if(o.axis!=="y"){
					if(d.overflowed[1] && !disabled){
						scrollbar[1].add(mCSB_dragger[1]).add(scrollbar[1].children("a")).css("display","block");
						content.removeClass("mCS_no_scrollbar_x mCS_x_hidden");
					}else{
						if(o.alwaysShowScrollbar){
							if(o.alwaysShowScrollbar!==2){mCSB_dragger[1].add(scrollbar[1].children("a")).css("display","none");}
							content.removeClass("mCS_x_hidden");
						}else{
							scrollbar[1].css("display","none");
							content.addClass("mCS_x_hidden");
						}
						content.addClass("mCS_no_scrollbar_x");
					}
				}
				if(!d.overflowed[0] && !d.overflowed[1]){
					$this.addClass("mCS_no_scrollbar");
				}else{
					$this.removeClass("mCS_no_scrollbar");
				}
			},
			/* -------------------- */
			
			
			/* returns input coordinates of pointer, touch and mouse events (relative to document) */
			_coordinates:function(e){
				var t=e.type;
				switch(t){
					case "pointerdown": case "MSPointerDown": case "pointermove": case "MSPointerMove": case "pointerup": case "MSPointerUp":
						return [e.originalEvent.pageY,e.originalEvent.pageX];
						break;
					case "touchstart": case "touchmove": case "touchend":
						var touch=e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];
						return [touch.pageY,touch.pageX];
						break;
					default:
						return [e.pageY,e.pageX];
				}
			},
			/* -------------------- */
			
			
			/* 
			SCROLLBAR DRAG EVENTS
			scrolls content via scrollbar dragging 
			*/
			_draggable:function(){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
					namespace=pluginPfx+"_"+d.idx,
					draggerId=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					mCSB_dragger=$("#"+draggerId[0]+",#"+draggerId[1]),
					draggable,dragY,dragX;
				mCSB_dragger.bind("mousedown."+namespace+" touchstart."+namespace+" pointerdown."+namespace+" MSPointerDown."+namespace,function(e){
					e.stopImmediatePropagation();
					e.preventDefault();
					if(!functions._mouseBtnLeft(e)){return;} /* left mouse button only */
					touchActive=true;
					if(oldIE){document.onselectstart=function(){return false;}} /* disable text selection for IE < 9 */
					_iframe(false); /* enable scrollbar dragging over iframes by disabling their events */
					functions._stop($this);
					draggable=$(this);
					var offset=draggable.offset(),y=functions._coordinates(e)[0]-offset.top,x=functions._coordinates(e)[1]-offset.left,
						h=draggable.height()+offset.top,w=draggable.width()+offset.left;
					if(y<h && y>0 && x<w && x>0){
						dragY=y; 
						dragX=x;
					}
					functions._onDragClasses(draggable,"active",o.autoExpandScrollbar); 
				}).bind("touchmove."+namespace,function(e){
					e.stopImmediatePropagation();
					e.preventDefault();
					var offset=draggable.offset(),y=functions._coordinates(e)[0]-offset.top,x=functions._coordinates(e)[1]-offset.left;
					_drag(dragY,dragX,y,x);
				});
				$(document).bind("mousemove."+namespace+" pointermove."+namespace+" MSPointerMove."+namespace,function(e){
					if(draggable){
						var offset=draggable.offset(),y=functions._coordinates(e)[0]-offset.top,x=functions._coordinates(e)[1]-offset.left;
						if(dragY===y){return;} /* has it really moved? */
						_drag(dragY,dragX,y,x);
					}
				}).add(mCSB_dragger).bind("mouseup."+namespace+" touchend."+namespace+" pointerup."+namespace+" MSPointerUp."+namespace,function(e){
					if(draggable){
						functions._onDragClasses(draggable,"active",o.autoExpandScrollbar); 
						draggable=null;
					}
					touchActive=false;
					if(oldIE){document.onselectstart=null;} /* enable text selection for IE < 9 */
					_iframe(true); /* enable iframes events */
				});
				function _iframe(evt){
					var el=mCSB_container.find("iframe");
					if(!el.length){return;} /* check if content contains iframes */
					var val=!evt ? "none" : "auto";
					el.css("pointer-events",val); /* for IE11, iframe's display property should not be "block" */
				}
				function _drag(dragY,dragX,y,x){
					mCSB_container[0].idleTimer=o.scrollInertia<233 ? 250 : 0;
					if(draggable.attr("id")===draggerId[1]){
						var dir="x",to=((draggable[0].offsetLeft-dragX)+x)*d.scrollRatio.x;
					}else{
						var dir="y",to=((draggable[0].offsetTop-dragY)+y)*d.scrollRatio.y;
					}
					functions._scrollTo($this,to.toString(),{dir:dir,drag:true});
				}
			},
			/* -------------------- */
			
			
			/* 
			TOUCH SWIPE EVENTS
			scrolls content via touch swipe 
			Emulates the native touch-swipe scrolling with momentum found in iOS, Android and WP devices 
			*/
			_contentDraggable:function(){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
					namespace=pluginPfx+"_"+d.idx,
					mCustomScrollBox=$("#mCSB_"+d.idx),
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")],
					dragY,dragX,touchStartY,touchStartX,touchMoveY=[],touchMoveX=[],startTime,runningTime,endTime,distance,speed,amount,
					durA=0,durB,overwrite=o.axis==="yx" ? "none" : "all";
				mCSB_container.bind("touchstart."+namespace+" pointerdown."+namespace+" MSPointerDown."+namespace,function(e){
					if(!functions._pointerTouch(e) || touchActive){return;}
					var offset=mCSB_container.offset();
					dragY=functions._coordinates(e)[0]-offset.top;
					dragX=functions._coordinates(e)[1]-offset.left;
				}).bind("touchmove."+namespace+" pointermove."+namespace+" MSPointerMove."+namespace,function(e){
					if(!functions._pointerTouch(e) || touchActive){return;}
					e.stopImmediatePropagation();
					runningTime=functions._getTime();
					var offset=mCustomScrollBox.offset(),y=functions._coordinates(e)[0]-offset.top,x=functions._coordinates(e)[1]-offset.left,
						easing="mcsLinearOut";
					touchMoveY.push(y);
					touchMoveX.push(x);
					if(d.overflowed[0]){
						var limit=mCSB_dragger[0].parent().height()-mCSB_dragger[0].height(),
							prevent=((dragY-y)>0 && (y-dragY)>-(limit*d.scrollRatio.y));
					}
					if(d.overflowed[1]){
						var limitX=mCSB_dragger[1].parent().width()-mCSB_dragger[1].width(),
							preventX=((dragX-x)>0 && (x-dragX)>-(limitX*d.scrollRatio.x));
					}
					if(prevent || preventX){e.preventDefault();} /* prevent native document scrolling */
					amount=o.axis==="yx" ? [(dragY-y),(dragX-x)] : o.axis==="x" ? [null,(dragX-x)] : [(dragY-y),null];
					mCSB_container[0].idleTimer=250;
					if(d.overflowed[0]){_drag(amount[0],durA,easing,"y","all",true);}
					if(d.overflowed[1]){_drag(amount[1],durA,easing,"x",overwrite,true);}
				});
				mCustomScrollBox.bind("touchstart."+namespace+" pointerdown."+namespace+" MSPointerDown."+namespace,function(e){
					if(!functions._pointerTouch(e) || touchActive){return;}
					e.stopImmediatePropagation();
					functions._stop($this);
					startTime=functions._getTime();
					var offset=mCustomScrollBox.offset();
					touchStartY=functions._coordinates(e)[0]-offset.top;
					touchStartX=functions._coordinates(e)[1]-offset.left;
					touchMoveY=[]; touchMoveX=[];
				}).bind("touchend."+namespace+" pointerup."+namespace+" MSPointerUp."+namespace,function(e){
					if(!functions._pointerTouch(e) || touchActive){return;}
					e.stopImmediatePropagation();
					endTime=functions._getTime();
					var offset=mCustomScrollBox.offset(),y=functions._coordinates(e)[0]-offset.top,x=functions._coordinates(e)[1]-offset.left;
					if((endTime-runningTime)>30){return;}
					speed=1000/(endTime-startTime);
					var easing="mcsEaseOut",slow=speed<2.5,
						diff=slow ? [touchMoveY[touchMoveY.length-2],touchMoveX[touchMoveX.length-2]] : [0,0];
					distance=slow ? [(y-diff[0]),(x-diff[1])] : [y-touchStartY,x-touchStartX];
					var absDistance=[Math.abs(distance[0]),Math.abs(distance[1])];
					speed=slow ? [Math.abs(distance[0]/4),Math.abs(distance[1]/4)] : [speed,speed];
					var a=[
						Math.abs(mCSB_container[0].offsetTop)-(distance[0]*_m((absDistance[0]/speed[0]),speed[0])),
						Math.abs(mCSB_container[0].offsetLeft)-(distance[1]*_m((absDistance[1]/speed[1]),speed[1]))
					];
					amount=o.axis==="yx" ? [a[0],a[1]] : o.axis==="x" ? [null,a[1]] : [a[0],null];
					durB=[(absDistance[0]*4)+o.scrollInertia,(absDistance[1]*4)+o.scrollInertia];
					var md=parseInt(o.contentTouchScroll) || 0; /* absolute minimum distance required */
					amount[0]=absDistance[0]>md ? amount[0] : 0;
					amount[1]=absDistance[1]>md ? amount[1] : 0;
					if(d.overflowed[0]){_drag(amount[0],durB[0],easing,"y",overwrite,false);}
					if(d.overflowed[1]){_drag(amount[1],durB[1],easing,"x",overwrite,false);}
				});
				function _m(ds,s){
					var r=[s*1.5,s*2,s/1.5,s/2];
					if(ds>90){
						return s>4 ? r[0] : r[3];
					}else if(ds>60){
						return s>3 ? r[3] : r[2];
					}else if(ds>30){
						return s>8 ? r[1] : s>6 ? r[0] : s>4 ? s : r[2];
					}else{
						return s>8 ? s : r[3];
					}
				}
				function _drag(amount,dur,easing,dir,overwrite,drag){
					if(!amount){return;}
					functions._scrollTo($this,amount.toString(),{dur:dur,scrollEasing:easing,dir:dir,overwrite:overwrite,drag:drag});
				}
			},
			/* -------------------- */
			
			
			/* 
			MOUSE WHEEL EVENT
			scrolls content via mouse-wheel 
			via mouse-wheel plugin (//github.com/brandonaaron/jquery-mousewheel)
			*/
			_mousewheel:function(){
				/**
				 * Added dragan
				 */
				if(typeof $(this).data(pluginPfx)=='undefined')return;
				
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
					namespace=pluginPfx+"_"+d.idx,
					mCustomScrollBox=$("#mCSB_"+d.idx),
					mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")];
				mCustomScrollBox.bind("mousewheel."+namespace,function(e,delta){
					functions._stop($this);
					if(functions._disableMousewheel($this,e.target)){return;} /* disables mouse-wheel when hovering specific elements */
					var deltaFactor=o.mouseWheel.deltaFactor!=="auto" ? parseInt(o.mouseWheel.deltaFactor) : (oldIE && e.deltaFactor<100) ? 100 : e.deltaFactor<40 ? 40 : e.deltaFactor || 100;
					if(o.axis==="x" || o.mouseWheel.axis==="x"){
						var dir="x",
							px=[Math.round(deltaFactor*d.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],
							amount=o.mouseWheel.scrollAmount!=="auto" ? px[1] : px[0]>=mCustomScrollBox.width() ? mCustomScrollBox.width()*0.9 : px[0],
							contentPos=Math.abs($("#mCSB_"+d.idx+"_container")[0].offsetLeft),
							draggerPos=mCSB_dragger[1][0].offsetLeft,
							limit=mCSB_dragger[1].parent().width()-mCSB_dragger[1].width(),
							dlt=e.deltaX || e.deltaY || delta;
					}else{
						var dir="y",
							px=[Math.round(deltaFactor*d.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],
							amount=o.mouseWheel.scrollAmount!=="auto" ? px[1] : px[0]>=mCustomScrollBox.height() ? mCustomScrollBox.height()*0.9 : px[0],
							contentPos=Math.abs($("#mCSB_"+d.idx+"_container")[0].offsetTop),
							draggerPos=mCSB_dragger[0][0].offsetTop,
							limit=mCSB_dragger[0].parent().height()-mCSB_dragger[0].height(),
							dlt=e.deltaY || delta;
					}
					if((dir==="y" && !d.overflowed[0]) || (dir==="x" && !d.overflowed[1])){return;}
					if(o.mouseWheel.invert){dlt=-dlt;}
					if(o.mouseWheel.normalizeDelta){dlt=dlt<0 ? -1 : 1;}
					if((dlt>0 && draggerPos!==0) || (dlt<0 && draggerPos!==limit) || o.mouseWheel.preventDefault){
						e.stopImmediatePropagation();
						e.preventDefault();
					}
					functions._scrollTo($this,(contentPos-(dlt*amount)).toString(),{dir:dir});
				});
			},
			/* -------------------- */
			
			
			/* disables mouse-wheel when hovering specific elements like select, datalist etc. */
			_disableMousewheel:function(el,target){
				var tag=target.nodeName.toLowerCase(),
					tags=el.data(pluginPfx).opt.mouseWheel.disableOver,
					/* elements that require focus */
					focusTags=["select","textarea"];
				return $.inArray(tag,tags) > -1 && !($.inArray(tag,focusTags) > -1 && !$(target).is(":focus"));
			},
			/* -------------------- */
			
			
			/* 
			DRAGGER RAIL CLICK EVENT
			scrolls content via dragger rail 
			*/
			_draggerRail:function(){
				var $this=$(this),d=$this.data(pluginPfx),
					namespace=pluginPfx+"_"+d.idx,
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					wrapper=mCSB_container.parent(),
					mCSB_draggerContainer=$(".mCSB_"+d.idx+"_scrollbar .mCSB_draggerContainer");
				mCSB_draggerContainer.bind("touchstart."+namespace+" pointerdown."+namespace+" MSPointerDown."+namespace,function(e){
					touchActive=true;
				}).bind("touchend."+namespace+" pointerup."+namespace+" MSPointerUp."+namespace,function(e){
					touchActive=false;
				}).bind("click."+namespace,function(e){
					if($(e.target).hasClass("mCSB_draggerContainer") || $(e.target).hasClass("mCSB_draggerRail")){
						functions._stop($this);
						var el=$(this),mCSB_dragger=el.find(".mCSB_dragger");
						if(el.parent(".mCSB_scrollTools_horizontal").length>0){
							if(!d.overflowed[1]){return;}
							var dir="x",
								clickDir=e.pageX>mCSB_dragger.offset().left ? -1 : 1,
								to=Math.abs(mCSB_container[0].offsetLeft)-(clickDir*(wrapper.width()*0.9));
						}else{
							if(!d.overflowed[0]){return;}
							var dir="y",
								clickDir=e.pageY>mCSB_dragger.offset().top ? -1 : 1,
								to=Math.abs(mCSB_container[0].offsetTop)-(clickDir*(wrapper.height()*0.9));
						}
						functions._scrollTo($this,to.toString(),{dir:dir,scrollEasing:"mcsEaseInOut"});
					}
				});
			},
			/* -------------------- */
			
			
			/* 
			FOCUS EVENT
			scrolls content via element focus (e.g. clicking an input, pressing TAB key etc.)
			*/
			_focus:function(){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
					namespace=pluginPfx+"_"+d.idx,
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					wrapper=mCSB_container.parent();
				mCSB_container.bind("focusin."+namespace,function(e){
					var el=$(document.activeElement),
						nested=mCSB_container.find(".mCustomScrollBox").length,
						dur=0;
					if(!el.is(o.advanced.autoScrollOnFocus)){return;}
					functions._stop($this);
					clearTimeout($this[0]._focusTimeout);
					$this[0]._focusTimer=nested ? (dur+17)*nested : 0;
					$this[0]._focusTimeout=setTimeout(function(){
						var	to=[el.offset().top-mCSB_container.offset().top,el.offset().left-mCSB_container.offset().left],
							contentPos=[mCSB_container[0].offsetTop,mCSB_container[0].offsetLeft],
							isVisible=[
								(contentPos[0]+to[0]>=0 && contentPos[0]+to[0]<wrapper.height()-el.outerHeight(false)),
								(contentPos[1]+to[1]>=0 && contentPos[0]+to[1]<wrapper.width()-el.outerWidth(false))
							],
							overwrite=(o.axis==="yx" && !isVisible[0] && !isVisible[1]) ? "none" : "all";
						if(o.axis!=="x" && !isVisible[0]){
							functions._scrollTo($this,to[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:overwrite,dur:dur});
						}
						if(o.axis!=="y" && !isVisible[1]){
							functions._scrollTo($this,to[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:overwrite,dur:dur});
						}
					},$this[0]._focusTimer);
				});
			},
			/* -------------------- */
			
			
			/* sets content wrapper scrollTop/scrollLeft always to 0 */
			_wrapperScroll:function(){
				var $this=$(this),d=$this.data(pluginPfx),
					namespace=pluginPfx+"_"+d.idx,
					wrapper=$("#mCSB_"+d.idx+"_container").parent();
				wrapper.bind("scroll."+namespace,function(e){
					wrapper.scrollTop(0).scrollLeft(0);
				});
			},
			/* -------------------- */
			
			
			/* 
			BUTTONS EVENTS
			scrolls content via up, down, left and right buttons 
			*/
			_buttons:function(){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,seq=d.sequential,
					namespace=pluginPfx+"_"+d.idx,
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					sel=".mCSB_"+d.idx+"_scrollbar",
					btn=$(sel+">a");
				btn.bind("mousedown."+namespace+" touchstart."+namespace+" pointerdown."+namespace+" MSPointerDown."+namespace+" mouseup."+namespace+" touchend."+namespace+" pointerup."+namespace+" MSPointerUp."+namespace+" mouseout."+namespace+" pointerout."+namespace+" MSPointerOut."+namespace+" click."+namespace,function(e){
					e.preventDefault();
					if(!functions._mouseBtnLeft(e)){return;} /* left mouse button only */
					var btnClass=$(this).attr("class");
					seq.type=o.scrollButtons.scrollType;
					switch(e.type){
						case "mousedown": case "touchstart": case "pointerdown": case "MSPointerDown":
							if(seq.type==="stepped"){return;}
							touchActive=true;
							d.tweenRunning=false;
							_seq("on",btnClass);
							break;
						case "mouseup": case "touchend": case "pointerup": case "MSPointerUp":
						case "mouseout": case "pointerout": case "MSPointerOut":
							if(seq.type==="stepped"){return;}
							touchActive=false;
							if(seq.dir){_seq("off",btnClass);}
							break;
						case "click":
							if(seq.type!=="stepped" || d.tweenRunning){return;}
							_seq("on",btnClass);
							break;
					}
					function _seq(a,c){
						seq.scrollAmount=o.snapAmount || o.scrollButtons.scrollAmount;
						functions._sequentialScroll.call(this,$this,a,c);
					}
				});
			},
			/* -------------------- */
			
			
			/* 
			KEYBOARD EVENTS
			scrolls content via keyboard 
			Keys: up arrow, down arrow, left arrow, right arrow, PgUp, PgDn, Home, End
			*/
			_keyboard:function(){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,seq=d.sequential,
					namespace=pluginPfx+"_"+d.idx,
					mCustomScrollBox=$("#mCSB_"+d.idx),
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					wrapper=mCSB_container.parent(),
					editables="input,textarea,select,datalist,keygen,[contenteditable='true']";
				mCustomScrollBox.attr("tabindex","0").bind("blur."+namespace+" keydown."+namespace+" keyup."+namespace,function(e){
					switch(e.type){
						case "blur":
							if(d.tweenRunning && seq.dir){_seq("off",null);}
							break;
						case "keydown": case "keyup":
							var code=e.keyCode ? e.keyCode : e.which,action="on";
							if((o.axis!=="x" && (code===38 || code===40)) || (o.axis!=="y" && (code===37 || code===39))){
								/* up (38), down (40), left (37), right (39) arrows */
								if(((code===38 || code===40) && !d.overflowed[0]) || ((code===37 || code===39) && !d.overflowed[1])){return;}
								if(e.type==="keyup"){action="off";}
								if(!$(document.activeElement).is(editables)){
									e.preventDefault();
									e.stopImmediatePropagation();
									_seq(action,code);
								}
							}else if(code===33 || code===34){
								/* PgUp (33), PgDn (34) */
								if(d.overflowed[0] || d.overflowed[1]){
									e.preventDefault();
									e.stopImmediatePropagation();
								}
								if(e.type==="keyup"){
									functions._stop($this);
									var keyboardDir=code===34 ? -1 : 1;
									if(o.axis==="x" || (o.axis==="yx" && d.overflowed[1] && !d.overflowed[0])){
										var dir="x",to=Math.abs(mCSB_container[0].offsetLeft)-(keyboardDir*(wrapper.width()*0.9));
									}else{
										var dir="y",to=Math.abs(mCSB_container[0].offsetTop)-(keyboardDir*(wrapper.height()*0.9));
									}
									functions._scrollTo($this,to.toString(),{dir:dir,scrollEasing:"mcsEaseInOut"});
								}
							}else if(code===35 || code===36){
								/* End (35), Home (36) */
								if(!$(document.activeElement).is(editables)){
									if(d.overflowed[0] || d.overflowed[1]){
										e.preventDefault();
										e.stopImmediatePropagation();
									}
									if(e.type==="keyup"){
										if(o.axis==="x" || (o.axis==="yx" && d.overflowed[1] && !d.overflowed[0])){
											var dir="x",to=code===35 ? Math.abs(wrapper.width()-mCSB_container.outerWidth(false)) : 0;
										}else{
											var dir="y",to=code===35 ? Math.abs(wrapper.height()-mCSB_container.outerHeight(false)) : 0;
										}
										functions._scrollTo($this,to.toString(),{dir:dir,scrollEasing:"mcsEaseInOut"});
									}
								}
							}
							break;
					}
					function _seq(a,c){
						seq.type=o.keyboard.scrollType;
						seq.scrollAmount=o.snapAmount || o.keyboard.scrollAmount;
						if(seq.type==="stepped" && d.tweenRunning){return;}
						functions._sequentialScroll.call(this,$this,a,c);
					}
				});
			},
			/* -------------------- */
			
			
			/* scrolls content sequentially (used when scrolling via buttons, keyboard arrows etc.) */
			_sequentialScroll:function(el,action,trigger){
				var d=el.data(pluginPfx),o=d.opt,seq=d.sequential,
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					once=seq.type==="stepped" ? true : false;
				switch(action){
					case "on":
						seq.dir=[
							(trigger==="mCSB_buttonRight" || trigger==="mCSB_buttonLeft" || trigger===39 || trigger===37 ? "x" : "y"),
							(trigger==="mCSB_buttonUp" || trigger==="mCSB_buttonLeft" || trigger===38 || trigger===37 ? -1 : 1)
						];
						functions._stop(el);
						if(functions._isNumeric(trigger) && seq.type==="stepped"){return;}
						_start(once);
						break;
					case "off":
						_stop();
						if(once || (d.tweenRunning && seq.dir)){
							_start(true);
						}
						break;
				}
				/* starts sequence */
				function _start(once){
					var c=seq.type!=="stepped", /* continuous scrolling */
						t=!once ? 1000/60 : c ? o.scrollInertia/1.5 : o.scrollInertia, /* timer */
						m=!once ? 2.5 : c ? 7.5 : 40, /* multiplier */
						contentPos=[Math.abs(mCSB_container[0].offsetTop),Math.abs(mCSB_container[0].offsetLeft)],
						ratio=[d.scrollRatio.y>10 ? 10 : d.scrollRatio.y,d.scrollRatio.x>10 ? 10 : d.scrollRatio.x],
						amount=seq.dir[0]==="x" ? contentPos[1]+(seq.dir[1]*(ratio[1]*m)) : contentPos[0]+(seq.dir[1]*(ratio[0]*m)),
						px=seq.dir[0]==="x" ? contentPos[1]+(seq.dir[1]*parseInt(seq.scrollAmount)) : contentPos[0]+(seq.dir[1]*parseInt(seq.scrollAmount)),
						to=seq.scrollAmount!=="auto" ? px : amount,
						easing=!once ? "mcsLinear" : c ? "mcsLinearOut" : "mcsEaseInOut",
						onComplete=!once ? false : true;
					if(once && t<17){
						to=seq.dir[0]==="x" ? contentPos[1] : contentPos[0];
					}
					functions._scrollTo(el,to.toString(),{dir:seq.dir[0],scrollEasing:easing,dur:t,onComplete:onComplete});
					if(once){
						seq.dir=false;
						return;
					}
					clearTimeout(seq.step);
					seq.step=setTimeout(function(){
						_start();
					},t);
				}
				/* stops sequence */
				function _stop(){
					clearTimeout(seq.step);
					functions._stop(el);
				}
			},
			/* -------------------- */
			
			
			/* returns a yx array from value */
			_arr:function(val){
				var o=$(this).data(pluginPfx).opt,vals=[];
				if(typeof val==="function"){val=val();} /* check if the value is a single anonymous function */
				/* check if value is object or array, its length and create an array with yx values */
				if(!(val instanceof Array)){ /* object value (e.g. {y:"100",x:"100"}, 100 etc.) */
					vals[0]=val.y ? val.y : val.x || o.axis==="x" ? null : val;
					vals[1]=val.x ? val.x : val.y || o.axis==="y" ? null : val;
				}else{ /* array value (e.g. [100,100]) */
					vals=val.length>1 ? [val[0],val[1]] : o.axis==="x" ? [null,val[0]] : [val[0],null];
				}
				/* check if array values are anonymous functions */
				if(typeof vals[0]==="function"){vals[0]=vals[0]();}
				if(typeof vals[1]==="function"){vals[1]=vals[1]();}
				return vals;
			},
			/* -------------------- */
			
			
			/* translates values (e.g. "top", 100, "100px", "#id") to actual scroll-to positions */
			_to:function(val,dir){
				if(val==null || typeof val=="undefined"){return;}
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					wrapper=mCSB_container.parent(),
					t=typeof val;
				if(!dir){dir=o.axis==="x" ? "x" : "y";}
				var contentLength=dir==="x" ? mCSB_container.outerWidth(false) : mCSB_container.outerHeight(false),
					contentOffset=dir==="x" ? mCSB_container.offset().left : mCSB_container.offset().top,
					contentPos=dir==="x" ? mCSB_container[0].offsetLeft : mCSB_container[0].offsetTop,
					cssProp=dir==="x" ? "left" : "top";
				switch(t){
					case "function": /* this currently is not used. Consider removing it */
						return val();
						break;
					case "object":
						if(val.nodeType){ /* DOM */
							var objOffset=dir==="x" ? $(val).offset().left : $(val).offset().top;
						}else if(val.jquery){ /* jquery object */
							if(!val.length){return;}
							var objOffset=dir==="x" ? val.offset().left : val.offset().top;
						}
						return objOffset-contentOffset;
						break;
					case "string": case "number":
						if(functions._isNumeric.call(null,val)){ /* numeric value */
							return Math.abs(val);
						}else if(val.indexOf("%")!==-1){ /* percentage value */
							return Math.abs(contentLength*parseInt(val)/100);
						}else if(val.indexOf("-=")!==-1){ /* decrease value */
							return Math.abs(contentPos-parseInt(val.split("-=")[1]));
						}else if(val.indexOf("+=")!==-1){ /* inrease value */
							var p=(contentPos+parseInt(val.split("+=")[1]));
							return p>=0 ? 0 : Math.abs(p);
						}else if(val.indexOf("px")!==-1 && functions._isNumeric.call(null,val.split("px")[0])){ /* pixels string value (e.g. "100px") */
							return Math.abs(val.split("px")[0]);
						}else{
							if(val==="top" || val==="left"){ /* special strings */
								return 0;
							}else if(val==="bottom"){
								return Math.abs(wrapper.height()-mCSB_container.outerHeight(false));
							}else if(val==="right"){
								return Math.abs(wrapper.width()-mCSB_container.outerWidth(false));
							}else if(val==="first" || val==="last"){
								var obj=mCSB_container.find(":"+val),
									objOffset=dir==="x" ? $(obj).offset().left : $(obj).offset().top;
								return objOffset-contentOffset;
							}else{
								if($(val).length){ /* jquery selector */
									var objOffset=dir==="x" ? $(val).offset().left : $(val).offset().top;
									return objOffset-contentOffset;
								}else{ /* other values (e.g. "100em") */
									mCSB_container.css(cssProp,val);
									methods.update.call(null,$this[0]);
									return;
								}
							}
						}
						break;
				}
			},
			/* -------------------- */
			
			
			/* calls the update method automatically */
			_autoUpdate:function(rem){
				var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
					mCSB_container=$("#mCSB_"+d.idx+"_container");
				if(rem){
					/* 
					removes autoUpdate timer 
					usage: functions._autoUpdate.call(this,"remove");
					*/
					clearTimeout(mCSB_container[0].autoUpdate);
					functions._delete.call(null,mCSB_container[0].autoUpdate);
					return;
				}
				var	wrapper=mCSB_container.parent(),
					scrollbar=[$("#mCSB_"+d.idx+"_scrollbar_vertical"),$("#mCSB_"+d.idx+"_scrollbar_horizontal")],
					scrollbarSize=function(){return [
						scrollbar[0].is(":visible") ? scrollbar[0].outerHeight(true) : 0, /* returns y-scrollbar height */
						scrollbar[1].is(":visible") ? scrollbar[1].outerWidth(true) : 0 /* returns x-scrollbar width */
					]},
					oldSelSize=sizesSum(),newSelSize,
					os=[mCSB_container.outerHeight(false),mCSB_container.outerWidth(false),wrapper.height(),wrapper.width(),scrollbarSize()[0],scrollbarSize()[1]],ns,
					oldImgsLen=imgSum(),newImgsLen;
				upd();
				function upd(){
					clearTimeout(mCSB_container[0].autoUpdate);
					mCSB_container[0].autoUpdate=setTimeout(function(){
						/* update on specific selector(s) length and size change */
						if(o.advanced.updateOnSelectorChange){
							newSelSize=sizesSum();
							if(newSelSize!==oldSelSize){
								doUpd();
								oldSelSize=newSelSize;
								return;
							}
						}
						/* update on main element and scrollbar size changes */
						if(o.advanced.updateOnContentResize){
							ns=[mCSB_container.outerHeight(false),mCSB_container.outerWidth(false),wrapper.height(),wrapper.width(),scrollbarSize()[0],scrollbarSize()[1]];
							if(ns[0]!==os[0] || ns[1]!==os[1] || ns[2]!==os[2] || ns[3]!==os[3] || ns[4]!==os[4] || ns[5]!==os[5]){
								doUpd();
								os=ns;
							}
						}
						/* update on image load */
						if(o.advanced.updateOnImageLoad){
							newImgsLen=imgSum();
							if(newImgsLen!==oldImgsLen){
								mCSB_container.find("img").each(function(){
									imgLoader(this.src);
								});
								oldImgsLen=newImgsLen;
							}
						}
						if(o.advanced.updateOnSelectorChange || o.advanced.updateOnContentResize || o.advanced.updateOnImageLoad){upd();}
					},60);
				}
				/* returns images amount */
				function imgSum(){
					var total=0
					if(o.advanced.updateOnImageLoad){total=mCSB_container.find("img").length;}
					return total;
				}
				/* a tiny image loader */
				function imgLoader(src){
					var img=new Image();
					function createDelegate(contextObject,delegateMethod){
						return function(){return delegateMethod.apply(contextObject,arguments);}
					}
					function imgOnLoad(){
						this.onload=null;
						doUpd();
					}
					img.onload=createDelegate(img,imgOnLoad);
					img.src=src;
				}
				/* returns the total height and width sum of all elements matching the selector */
				function sizesSum(){
					if(o.advanced.updateOnSelectorChange===true){o.advanced.updateOnSelectorChange="*";}
					var total=0,sel=mCSB_container.find(o.advanced.updateOnSelectorChange);
					if(o.advanced.updateOnSelectorChange && sel.length>0){sel.each(function(){total+=$(this).height()+$(this).width();});}
					return total;
				}
				/* calls the update method */
				function doUpd(){
					clearTimeout(mCSB_container[0].autoUpdate); 
					methods.update.call(null,$this[0]);
				}
			},
			/* -------------------- */
			
			
			/* snaps scrolling to a multiple of a pixels number */
			_snapAmount:function(to,amount,offset){
				return (Math.round(to/amount)*amount-offset); 
			},
			/* -------------------- */
			
			
			/* stops content and scrollbar animations */
			_stop:function(el){
				var d=el.data(pluginPfx),
					sel=$("#mCSB_"+d.idx+"_container,#mCSB_"+d.idx+"_container_wrapper,#mCSB_"+d.idx+"_dragger_vertical,#mCSB_"+d.idx+"_dragger_horizontal");
				sel.each(function(){
					functions._stopTween.call(this);
				});
			},
			/* -------------------- */
			
			
			/* 
			ANIMATES CONTENT 
			This is where the actual scrolling happens
			*/
			_scrollTo:function(el,to,options){
				var d=el.data(pluginPfx),o=d.opt,
					defaults={
						trigger:"internal",
						dir:"y",
						scrollEasing:"mcsEaseOut",
						drag:false,
						dur:o.scrollInertia,
						overwrite:"all",
						callbacks:true,
						onStart:true,
						onUpdate:true,
						onComplete:true
					},
					options=$.extend(defaults,options),
					dur=[options.dur,(options.drag ? 0 : options.dur)],
					mCustomScrollBox=$("#mCSB_"+d.idx),
					mCSB_container=$("#mCSB_"+d.idx+"_container"),
					totalScrollOffsets=o.callbacks.onTotalScrollOffset ? functions._arr.call(el,o.callbacks.onTotalScrollOffset) : [0,0],
					totalScrollBackOffsets=o.callbacks.onTotalScrollBackOffset ? functions._arr.call(el,o.callbacks.onTotalScrollBackOffset) : [0,0];
				d.trigger=options.trigger;
				if(o.snapAmount){to=functions._snapAmount(to,o.snapAmount,o.snapOffset);} /* scrolling snapping */
				switch(options.dir){
					case "x":
						var mCSB_dragger=$("#mCSB_"+d.idx+"_dragger_horizontal"),
							property="left",
							contentPos=mCSB_container[0].offsetLeft,
							limit=[
								mCustomScrollBox.width()-mCSB_container.outerWidth(false),
								mCSB_dragger.parent().width()-mCSB_dragger.width()
							],
							scrollTo=[to,(to/d.scrollRatio.x)],
							tso=totalScrollOffsets[1],
							tsbo=totalScrollBackOffsets[1],
							totalScrollOffset=tso>0 ? tso/d.scrollRatio.x : 0,
							totalScrollBackOffset=tsbo>0 ? tsbo/d.scrollRatio.x : 0;
						break;
					case "y":
						var mCSB_dragger=$("#mCSB_"+d.idx+"_dragger_vertical"),
							property="top",
							contentPos=mCSB_container[0].offsetTop,
							limit=[
								mCustomScrollBox.height()-mCSB_container.outerHeight(false),
								mCSB_dragger.parent().height()-mCSB_dragger.height()
							],
							scrollTo=[to,(to/d.scrollRatio.y)],
							tso=totalScrollOffsets[0],
							tsbo=totalScrollBackOffsets[0],
							totalScrollOffset=tso>0 ? tso/d.scrollRatio.y : 0,
							totalScrollBackOffset=tsbo>0 ? tsbo/d.scrollRatio.y : 0;
						break;
				}
				if(scrollTo[1]<0){
					scrollTo=[0,0];
				}else if(scrollTo[1]>=limit[1]){
					scrollTo=[limit[0],limit[1]];
				}else{
					scrollTo[0]=-scrollTo[0];
				}
				clearTimeout(mCSB_container[0].onCompleteTimeout);
				if(!d.tweenRunning && ((contentPos===0 && scrollTo[0]>=0) || (contentPos===limit[0] && scrollTo[0]<=limit[0]))){return;}
				functions._tweenTo.call(null,mCSB_dragger[0],property,Math.round(scrollTo[1]),dur[1],options.scrollEasing);
				functions._tweenTo.call(null,mCSB_container[0],property,Math.round(scrollTo[0]),dur[0],options.scrollEasing,options.overwrite,{
					onStart:function(){
						if(options.callbacks && options.onStart && !d.tweenRunning){
							/* callbacks: onScrollStart */
							if(_cb("onScrollStart")){_mcs(); o.callbacks.onScrollStart.call(el[0]);}
							d.tweenRunning=true;
							functions._onDragClasses(mCSB_dragger);
							d.cbOffsets=_cbOffsets();
						}
					},onUpdate:function(){
						if(options.callbacks && options.onUpdate){
							/* callbacks: whileScrolling */
							if(_cb("whileScrolling")){_mcs(); o.callbacks.whileScrolling.call(el[0]);}
						}
					},onComplete:function(){
						if(options.callbacks && options.onComplete){
							if(o.axis==="yx"){clearTimeout(mCSB_container[0].onCompleteTimeout);}
							var t=mCSB_container[0].idleTimer || 0;
							mCSB_container[0].onCompleteTimeout=setTimeout(function(){
								/* callbacks: onScroll, onTotalScroll, onTotalScrollBack */
								if(_cb("onScroll")){_mcs(); o.callbacks.onScroll.call(el[0]);}
								if(_cb("onTotalScroll") && scrollTo[1]>=limit[1]-totalScrollOffset && d.cbOffsets[0]){_mcs(); o.callbacks.onTotalScroll.call(el[0]);}
								if(_cb("onTotalScrollBack") && scrollTo[1]<=totalScrollBackOffset && d.cbOffsets[1]){_mcs(); o.callbacks.onTotalScrollBack.call(el[0]);}
								d.tweenRunning=false;
								mCSB_container[0].idleTimer=0;
								functions._onDragClasses(mCSB_dragger,"hide");
							},t);
						}
					}
				});
				/* checks if callback function exists */
				function _cb(cb){
					return d && o.callbacks[cb] && typeof o.callbacks[cb]==="function";
				}
				/* checks whether callback offsets always trigger */
				function _cbOffsets(){
					return [o.callbacks.alwaysTriggerOffsets || contentPos>=limit[0]+tso,o.callbacks.alwaysTriggerOffsets || contentPos<=-tsbo];
				}
				/* 
				populates object with useful values for the user 
				values: 
					content: this.mcs.content
					content top position: this.mcs.top 
					content left position: this.mcs.left 
					dragger top position: this.mcs.draggerTop 
					dragger left position: this.mcs.draggerLeft 
					scrolling y percentage: this.mcs.topPct 
					scrolling x percentage: this.mcs.leftPct 
					scrolling direction: this.mcs.direction
				*/
				function _mcs(){
					var cp=[mCSB_container[0].offsetTop,mCSB_container[0].offsetLeft], /* content position */
						dp=[mCSB_dragger[0].offsetTop,mCSB_dragger[0].offsetLeft], /* dragger position */
						cl=[mCSB_container.outerHeight(false),mCSB_container.outerWidth(false)], /* content length */
						pl=[mCustomScrollBox.height(),mCustomScrollBox.width()]; /* content parent length */
					el[0].mcs={
						content:mCSB_container, /* original content wrapper as jquery object */
						top:cp[0],left:cp[1],draggerTop:dp[0],draggerLeft:dp[1],
						topPct:Math.round((100*Math.abs(cp[0]))/(Math.abs(cl[0])-pl[0])),leftPct:Math.round((100*Math.abs(cp[1]))/(Math.abs(cl[1])-pl[1])),
						direction:options.dir
					};
					/* 
					this refers to the original element containing the scrollbar(s)
					usage: this.mcs.top, this.mcs.leftPct etc. 
					*/
				}
			},
			/* -------------------- */
			
			
			/* 
			CUSTOM JAVASCRIPT ANIMATION TWEEN 
			Lighter and faster than jquery animate() and css transitions 
			Animates top/left properties and includes easings 
			*/
			_tweenTo:function(el,prop,to,duration,easing,overwrite,callbacks){
				var callbacks=callbacks || {},
					onStart=callbacks.onStart || function(){},onUpdate=callbacks.onUpdate || function(){},onComplete=callbacks.onComplete || function(){},
					startTime=functions._getTime(),_delay,progress=0,from=el.offsetTop,elStyle=el.style;
				if(prop==="left"){from=el.offsetLeft;}
				var diff=to-from;
				el._mcsstop=0;
				if(overwrite!=="none"){_cancelTween();}
				_startTween();
				function _step(){
					if(el._mcsstop){return;}
					if(!progress){onStart.call();}
					progress=functions._getTime()-startTime;
					_tween();
					if(progress>=el._mcstime){
						el._mcstime=(progress>el._mcstime) ? progress+_delay-(progress- el._mcstime) : progress+_delay-1;
						if(el._mcstime<progress+1){el._mcstime=progress+1;}
					}
					if(el._mcstime<duration){el._mcsid=_request(_step);}else{onComplete.call();}
				}
				function _tween(){
					if(duration>0){
						el._mcscurrVal=_ease(el._mcstime,from,diff,duration,easing);
						elStyle[prop]=Math.round(el._mcscurrVal)+"px";
					}else{
						elStyle[prop]=to+"px";
					}
					onUpdate.call();
				}
				function _startTween(){
					_delay=1000/60;
					el._mcstime=progress+_delay;
					_request=(!window.requestAnimationFrame) ? function(f){_tween(); return setTimeout(f,0.01);} : window.requestAnimationFrame;
					el._mcsid=_request(_step);
				}
				function _cancelTween(){
					if(el._mcsid==null){return;}
					if(!window.requestAnimationFrame){clearTimeout(el._mcsid);
					}else{window.cancelAnimationFrame(el._mcsid);}
					el._mcsid=null;
				}
				function _ease(t,b,c,d,type){
					switch(type){
						case "linear": case "mcsLinear":
							return c*t/d + b;
							break;
						case "mcsLinearOut":
							t/=d; t--; return c * Math.sqrt(1 - t*t) + b;
							break;
						case "easeInOutSmooth":
							t/=d/2;
							if(t<1) return c/2*t*t + b;
							t--;
							return -c/2 * (t*(t-2) - 1) + b;
							break;
						case "easeInOutStrong":
							t/=d/2;
							if(t<1) return c/2 * Math.pow( 2, 10 * (t - 1) ) + b;
							t--;
							return c/2 * ( -Math.pow( 2, -10 * t) + 2 ) + b;
							break;
						case "easeInOut": case "mcsEaseInOut":
							t/=d/2;
							if(t<1) return c/2*t*t*t + b;
							t-=2;
							return c/2*(t*t*t + 2) + b;
							break;
						case "easeOutSmooth":
							t/=d; t--;
							return -c * (t*t*t*t - 1) + b;
							break;
						case "easeOutStrong":
							return c * ( -Math.pow( 2, -10 * t/d ) + 1 ) + b;
							break;
						case "easeOut": case "mcsEaseOut": default:
							var ts=(t/=d)*t,tc=ts*t;
							return b+c*(0.499999999999997*tc*ts + -2.5*ts*ts + 5.5*tc + -6.5*ts + 4*t);
					}
				}
			},
			/* -------------------- */
			
			
			/* returns current time */
			_getTime:function(){
				if(window.performance && window.performance.now){
					return window.performance.now();
				}else{
					if(window.performance && window.performance.webkitNow){
						return window.performance.webkitNow();
					}else{
						if(Date.now){return Date.now();}else{return new Date().getTime();}
					}
				}
			},
			/* -------------------- */
			
			
			/* stops a tween */
			_stopTween:function(){
				var el=this;
				if(el._mcsid==null){return;}
				if(!window.requestAnimationFrame){clearTimeout(el._mcsid);
				}else{window.cancelAnimationFrame(el._mcsid);}
				el._mcsid=null;
				el._mcsstop=1;
			},
			/* -------------------- */
			
			
			/* deletes a property (avoiding the exception thrown by IE) */
			_delete:function(p){
				try{delete p;}catch(e){p=null;}
			},
			/* -------------------- */
			
			
			/* detects left mouse button */
			_mouseBtnLeft:function(e){
				return !(e.which && e.which!==1);
			},
			/* -------------------- */
			
			
			/* detects if pointer type event is touch */
			_pointerTouch:function(e){
				var t=e.originalEvent.pointerType;
				return !(t && t!=="touch" && t!==2);
			},
			/* -------------------- */
			
			
			/* checks if value is numeric */
			_isNumeric:function(val){
				return !isNaN(parseFloat(val)) && isFinite(val);
			}
			/* -------------------- */
			
		};
		
	
	
	
	
	/* 
	----------------------------------------
	PLUGIN SETUP 
	----------------------------------------
	*/
	
	/* plugin dependencies */
	var _dlp=("https:"==document.location.protocol) ? "https:" : "http:"; /* dependency location protocol */
	/* load jquery-mousewheel plugin (via CDN) if it's not present (works when mCustomScrollbar fn is called on window load) */
	$.event.special.mousewheel || $("head").append(decodeURI("%3Cscript src="+_dlp+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.11/jquery.mousewheel.min.js%3E%3C/script%3E"));
	
	/* plugin constructor functions */
	$.fn[pluginNS]=function(method){ /* usage: $(selector).mCustomScrollbar(); */
		if(methods[method]){
			return methods[method].apply(this,Array.prototype.slice.call(arguments,1));
		}else if(typeof method==="object" || !method){
			return methods.init.apply(this,arguments);
		}else{
			$.error("Method "+method+" does not exist");
		}
	};
	$[pluginNS]=function(method){ /* usage: $.mCustomScrollbar(); */
		if(methods[method]){
			return methods[method].apply(this,Array.prototype.slice.call(arguments,1));
		}else if(typeof method==="object" || !method){
			return methods.init.apply(this,arguments);
		}else{
			$.error("Method "+method+" does not exist");
		}
	};
	
	/* 
	allow setting plugin default options. 
	usage: $.mCustomScrollbar.defaults.scrollInertia=500; 
	to apply any changed default options on default selectors (below), use inside document ready fn 
	e.g.: $(document).ready(function(){ $.mCustomScrollbar.defaults.scrollInertia=500; });
	*/
	$[pluginNS].defaults=defaults;
	
	/* 
	add window object (window.mCustomScrollbar) 
	usage: if(window.mCustomScrollbar){console.log("custom scrollbar plugin loaded");}
	*/
	window[pluginNS]=true;
	
	$(window).load(function(){
		$(defaultSelector)[pluginNS](); /* add scrollbars automatically on default selector */
	});
	
})(jQuery,window,document);
;(function($){$(document).ready(function(){timelineImage()});function timelineImage(){$('.timeline_rollover_top').unbind('hover').timelineRollover('top');$('.timeline_rollover_right').unbind('hover').timelineRollover('right');$('.timeline_rollover_bottom').unbind('hover').timelineRollover('bottom');$('.timeline_rollover_left').unbind('hover').timelineRollover('left')}
$.fn.timelineRollover=function(type){var lstart,lend;var tstart,tend;$(this).append('\n<div class="image_roll_glass"></div><div class="image_roll_zoom"></div>');switch(type)
{case 'top':lstart='0';lend='0';tstart='-100%';tend='0';break;case 'right':lstart='100%';lend='0';tstart='0';tend='0';break;case 'bottom':lstart='0';lend='0';tstart='100%';tend='0';break;case 'left':lstart='-100%';lend='0';tstart='0';tend='0';break}
$(this).find('.image_roll_zoom').css({left:lstart,top:tstart});$(this).hover(function(){$(this).find('.image_roll_zoom').stop(!0,!0).animate({left:lend,top:tend},200);$(this).find('.image_roll_glass').stop(!0,!0).fadeIn(200)},function(){$(this).find('.image_roll_zoom').stop(!0).animate({left:lstart,top:tstart},200);$(this).find('.image_roll_glass').stop(!0,!0).fadeOut(200)})}})(jQuery)
;!function(e){function t(){var e=location.href;return hashtag=-1!==e.indexOf("#prettyPhoto")?decodeURI(e.substring(e.indexOf("#prettyPhoto")+1,e.length)):!1,hashtag&&(hashtag=hashtag.replace(/<|>/g,"")),hashtag}function i(){"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/")}function p(){-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto")}function o(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+e+"=([^&#]*)",p=new RegExp(i),o=p.exec(t);return null==o?"":o[1]}e.prettyPhoto={version:"3.1.6"},e.fn.prettyPhoto=function(a){function s(){e(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(I/2-f.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:f.contentHeight,width:f.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:j/2-f.containerWidth/2<0?0:j/2-f.containerWidth/2,width:f.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(f.height).width(f.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==h(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(f.resized?e("a.pp_expand,a.pp_contract").show():e("a.pp_expand").hide()),!settings.autoplay_slideshow||P||v||e.prettyPhoto.startSlideshow(),settings.changepicturecallback(),v=!0}),m(),a.ajaxcallback()}function n(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show(),t()})}function r(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function l(e,t){if(resized=!1,d(e,t),imageWidth=e,imageHeight=t,(k>j||b>I)&&doresize&&settings.allow_resize&&!$){for(resized=!0,fitting=!1;!fitting;)k>j?(imageWidth=j-200,imageHeight=t/e*imageWidth):b>I?(imageHeight=I-200,imageWidth=e/t*imageHeight):fitting=!0,b=imageHeight,k=imageWidth;(k>j||b>I)&&l(k,b),d(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(b),containerWidth:Math.floor(k)+2*settings.horizontal_padding,contentHeight:Math.floor(y),contentWidth:Math.floor(w),resized:resized}}function d(t,i){t=parseFloat(t),i=parseFloat(i),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),y=i+detailsHeight,w=t,b=y+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),k=t}function h(e){return e.match(/youtube\.com\/watch/i)||e.match(/youtu\.be/i)?"youtube":e.match(/vimeo\.com/i)?"vimeo":e.match(/\b.mov\b/i)?"quicktime":e.match(/\b.swf\b/i)?"flash":e.match(/\biframe=true\b/i)?"iframe":e.match(/\bajax=true\b/i)?"ajax":e.match(/\bcustom=true\b/i)?"custom":"#"==e.substr(0,1)?"inline":"image"}function c(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=_(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=I/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>I)return;$pp_pic_holder.css({top:projectedTop,left:j/2+scroll_pos.scrollLeft-contentwidth/2})}}function _(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function g(){I=e(window).height(),j=e(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(e(document).height()).width(j)}function m(){isSet&&settings.overlay_gallery&&"image"==h(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((f.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,e.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function u(){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),e("body").append(settings.markup),$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var t=0;t<pp_images.length;t++)pp_images[t].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[t]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return e.prettyPhoto.changeGalleryPage("next"),e.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return e.prettyPhoto.changeGalleryPage("previous"),e.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(t){e(this).find("a").click(function(){return e.prettyPhoto.changePage(t),e.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return e.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){settings.modal||e.prettyPhoto.close()}),e("a.pp_close").bind("click",function(){return e.prettyPhoto.close(),!1}),settings.allow_expand&&e("a.pp_expand").bind("click",function(){return e(this).hasClass("pp_expand")?(e(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(e(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),n(function(){e.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return e.prettyPhoto.changePage("previous"),e.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return e.prettyPhoto.changePage("next"),e.prettyPhoto.stopSlideshow(),!1}),c()}a=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> 						<div class="ppt">&nbsp;</div> 						<div class="pp_top"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 						<div class="pp_content_container"> 							<div class="pp_left"> 							<div class="pp_right"> 								<div class="pp_content"> 									<div class="pp_loaderIcon"></div> 									<div class="pp_fade"> 										<a href="#" class="pp_expand" title="Expand the image">Expand</a> 										<div class="pp_hoverContainer"> 											<a class="pp_next" href="#">next</a> 											<a class="pp_previous" href="#">previous</a> 										</div> 										<div id="pp_full_res"></div> 										<div class="pp_details"> 											<div class="pp_nav"> 												<a href="#" class="pp_arrow_previous">Previous</a> 												<p class="currentTextHolder">0/0</p> 												<a href="#" class="pp_arrow_next">Next</a> 											</div> 											<p class="pp_description"></p> 											<div class="pp_social">{pp_social}</div> 											<a class="pp_close" href="#">Close</a> 										</div> 									</div> 								</div> 							</div> 							</div> 						</div> 						<div class="pp_bottom"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 					</div> 					<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> 								<a href="#" class="pp_arrow_previous">Previous</a> 								<div> 									<ul> 										{gallery} 									</ul> 								</div> 								<a href="#" class="pp_arrow_next">Next</a> 							</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="//www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="//www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="//twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},a);var f,v,y,w,b,k,P,x=this,$=!1,I=e(window).height(),j=e(window).width();return doresize=!0,scroll_pos=_(),e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){c(),g()}),a.keyboard_shortcuts&&e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous"),t.preventDefault();break;case 39:e.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||e.prettyPhoto.close(),t.preventDefault()}}),e.prettyPhoto.initialize=function(){return settings=a,"pp_default"==settings.theme&&(settings.horizontal_padding=16),theRel=e(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(x,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).attr("href"):void 0}):e.makeArray(e(this).attr("href")),pp_titles=isSet?jQuery.map(x,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):"":void 0}):e.makeArray(e(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(x,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).attr("title")?e(t).attr("title"):"":void 0}):e.makeArray(e(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(e(this).attr("href"),pp_images),rel_index=isSet?set_position:e("a["+settings.hook+"^='"+theRel+"']").index(e(this)),u(this),settings.allow_resize&&e(window).bind("scroll.prettyphoto",function(){c()}),e.prettyPhoto.open(),!1},e.prettyPhoto.open=function(t){return"undefined"==typeof settings&&(settings=a,pp_images=e.makeArray(arguments[0]),pp_titles=e.makeArray(arguments[1]?arguments[1]:""),pp_descriptions=e.makeArray(arguments[2]?arguments[2]:""),isSet=pp_images.length>1?!0:!1,set_position=arguments[3]?arguments[3]:0,u(t.target)),settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),r(e(pp_images).size()),e(".pp_loaderIcon").show(),settings.deeplinking&&i(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size()),"undefined"!=typeof pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(o("width",pp_images[set_position]))?o("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(o("height",pp_images[set_position]))?o("height",pp_images[set_position]):settings.default_height.toString(),$=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150),$=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150),$=!0),$pp_pic_holder.fadeIn(function(){switch($ppt.html(settings.show_title&&""!=pp_titles[set_position]&&"undefined"!=typeof pp_titles[set_position]?unescape(pp_titles[set_position]):"&nbsp;"),imgPreloader="",skipInjection=!1,h(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<e(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){f=l(imgPreloader.width,imgPreloader.height),s()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),e.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":f=l(movie_width,movie_height),movie_id=o("v",pp_images[set_position]),""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="//www.youtube.com/embed/"+movie_id,movie+=o("rel",pp_images[set_position])?"?rel="+o("rel",pp_images[set_position]):"?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":f=l(movie_width,movie_height),movie_id=pp_images[set_position];var t=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,i=movie_id.match(t);movie="//player.vimeo.com/video/"+i[3]+"?title=0&byline=0&portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=f.width+"/embed/?moog_width="+f.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,f.height).replace(/{path}/g,movie);break;case"quicktime":f=l(movie_width,movie_height),f.height+=15,f.contentHeight+=15,f.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":f=l(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":f=l(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,f=l(movie_width,movie_height),doresize=!0,skipInjection=!0,e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,s()});break;case"custom":f=l(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show(),doresize=!1,f=l(e(myClone).width(),e(myClone).height()),doresize=!0,e(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,s())}),!1},e.prettyPhoto.changePage=function(t){currentGalleryPage=0,"previous"==t?(set_position--,set_position<0&&(set_position=e(pp_images).size()-1)):"next"==t?(set_position++,set_position>e(pp_images).size()-1&&(set_position=0)):set_position=t,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&e(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),n(function(){e.prettyPhoto.open()})},e.prettyPhoto.changeGalleryPage=function(e){"next"==e?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==e?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=e,slide_speed="next"==e||"previous"==e?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},e.prettyPhoto.startSlideshow=function(){"undefined"==typeof P?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return e.prettyPhoto.stopSlideshow(),!1}),P=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)):e.prettyPhoto.changePage("next")},e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return e.prettyPhoto.startSlideshow(),!1}),clearInterval(P),P=void 0},e.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(e.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),e(this).remove(),e(window).unbind("scroll.prettyphoto"),p(),settings.callback(),doresize=!0,v=!1,delete settings}))},!pp_alreadyInitialized&&t()&&(pp_alreadyInitialized=!0,hashIndex=t(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){e("a["+a.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",e.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1
;(function($){mySliderMapper=function(o){var self;this.debug=!1;self=this;this.init_end=!1;this.ids=[];this.widths={};this.max_width=0;this.transform=!1;this.my_transforms_prefix='';this.resized=!1;this.do_resized=[];this.count_items=0;this.curr_item=0;this.animation_durr=450;this.animation_durr_1=350;this.my_from_autoplay=!1;this.init=function(o){self.options=o;self.my_debug("Options",o);this.ids=self.options.ids;self.is_transform();self.my_debug("Transitions",{transform:self.transform,prefix:self.my_transforms_prefix});setTimeout(self.init_finish,1000);$(window).resize(self.new_resize);self.new_resize();if(self.options.animation_durr){self.animation_durr=self.options.animation_durr}
var ww=$(window).width();if(self.options.is_mobile==1){$(".my_nav_outter_right").addClass('fotorama__arr--disabled');$(".my_nav_outter_left").addClass('fotorama__arr--disabled')}
if((self.options.autoplay==1)&&(self.options.is_mobile==0)){setTimeout(self.my_autoplay,self.options.autoplay_sleep);$('#'+self.options.id).mouseover(function(){self.my_debug("Mouse over");clearTimeout(self.my_timeout_obj);self.my_autoplay_flag=!1});$('#'+self.options.id).mouseleave(function(){self.my_debug("Mouse leave");self.my_autoplay_flag=!0;self.my_timeout_obj=setTimeout(self.my_autoplay,self.options.autoplay_sleep)});$('#'+self.options.id).parent('.my_fotorama_outter').find(".my_nav_outter").mouseenter(function(){self.my_debug("Mouse over outer");clearTimeout(self.my_timeout_obj);self.my_autoplay_flag=!1});$('#'+self.options.id).parent('.my_fotorama_outter').find(".my_nav_outter").mouseleave(function(e){var is=self.is_inner_object("#"+self.options.id,e.pageX,e.pageY);if(!is){self.my_debug("Mouse outer nav start aniumation");self.my_autoplay_flag=!0;self.my_timeout_obj=setTimeout(self.my_autoplay,self.options.autoplay_sleep)}});$('#'+self.options.id).click(function(e){self.my_debug("Mouse over nav");clearTimeout(self.my_timeout_obj);self.my_autoplay_flag=!1})}};this.my_autoplay=function(){self.my_debug("Autoplay",{flag:self.my_autoplay_flag});if(self.my_autoplay_flag==!1){self.my_timeout_obj=setTimeout(self.my_autoplay,self.options.autoplay_sleep);return}
if(self.my_working){self.my_timeout_obj=setTimeout(self.my_autoplay,self.options.autoplay_sleep);return}else{self.my_from_autoplay=!0;$('.my_nav_right').trigger('click');var durr=self.options.autoplay_sleep+self.options.duration;clearTimeout(self.my_timeout_obj);self.my_timeout_obj=setTimeout(self.my_autoplay,durr)}};this.new_resize=function(){var ww=$(window).width();self.my_debug("**Resize**",ww);if(ww<600){$(".my_nav_outter_right").addClass('fotorama__arr--disabled');$(".my_nav_outter_left").addClass('fotorama__arr--disabled');var my_scale=Math.round(ww/600*10)/10-0.3;if(my_scale<0.3)my_scale=0.3;self.my_debug("**Transmorms**",my_scale);if(self.transform){var my_l=40*(1-my_scale);self.my_debug("Change position",my_l);my_trans=self.my_transforms_prefix+'transform';$(".my_nav").css(my_trans,'scale('+my_scale+')');$(".my_nav_left").css('margin-left','-'+my_l+'px');$(".my_nav_right").css('margin-right','-'+my_l+'px')}}else{$(".my_nav_right").removeClass('fotorama__arr--disabled');$(".my_nav_left").removeClass('fotorama__arr--disabled');if(self.transform){my_trans=self.my_transforms_prefix+'transform';$(".my_nav").css(my_trans,'');$(".my_nav_left").css('margin-left','');$(".my_nav_right").css('margin-right','')}}};this.is_transform=function(){var obj=document.createElement('div');var props=['transform','WebkitTransform','MozTransform','OTransform','msTransform'];for(var i in props){if(obj.style[props[i]]!==undefined){if(props[i]=='transform'){self.my_transforms_prefix=""}else{var my_pref=props[i].replace('Transform','').toLowerCase();if(my_pref==""){self.my_transforms_prefix=""}else{self.my_transforms_prefix="-"+my_pref+"-"}}
self.transform=!0}}
return!1};this.getImageSize=function(image){var img=new Image();img.src=$(image).attr('src');var original_size=new Array();original_size[0]=img.naturalWidth;original_size[1]=img.naturalHeight;self.my_debug("image original size",original_size);return original_size};this.resize=function(){var fotorama=$("#"+self.options.id).data('fotorama');var h=$(fotorama.activeFrame.$stageFrame).find(".imagemapper-wrapper").height();var w=$(fotorama.activeFrame.$stageFrame).find(".imagemapper-wrapper").width();var w_f=$("#"+self.options.id).parent('.my_fotorama_outter').width();self.my_debug("Fotorama resize",{w:w,h:h,w_f:w_f});fotorama.resize({width:w_f,height:h});self.resized=!0;self.do_resized=[];var h=$(fotorama.activeFrame.$stageFrame).find(".imagemapper-wrapper").height();fotorama.resize({width:w_f,height:h})};this.init_finish=function(){var finish=!0;$.each(self.ids,function(i,v){var m_id='imagemapper'+v+'-wrapper';self.my_debug("Check visibility",m_id);if(!$("#"+m_id).is(':visible')){finish=!1;self.my_debug("Not Finished")
return!1}});if(!finish)
setTimeout(self.init_finish,1000);else{self.init_slider_new();self.my_debug("Init Finished");self.init_end=!0}
$(".fotorama__arr--next").mouseenter(self.animate_image_next);$(".fotorama__arr--next").mouseleave(self.animate_leave_image_next);$(".fotorama__arr--prev").mouseenter(self.animate_image_prev);$(".fotorama__arr--prev").mouseleave(self.animate_leave_image_prev)};this.set_next_prev_image=function(){var curr_item=self.curr_item;var my_count=self.count_items-1;if(my_count>0){var next_i;var prev_i;var n=curr_item+1,p=curr_item-1;next_i=n+1;prev_i=p-1;if(n>my_count){n=0;next_i=1}
if(p<0){p=my_count;prev_i=p+1}
var my_total=self.count_items;var str='';var img=$(".my_slider_image[data-c='"+n+"']").html();str=next_i+'/'+my_total;$(".my_fotorama_next_image").html(img);var img=$(".my_slider_image[data-c='"+p+"']").html();$(".my_fotorama_prev_image").html(img)}};this.init_slider_new=function(){var my_slider_id='#'+self.options.id;self.my_debug("**Init slider**",my_slider_id);var ww=$(my_slider_id).parent(".my_fotorama_outter").width();var my_count=$(my_slider_id+" .my_fotorama_item").length;self.count_items=my_count;if(typeof self.options.curr_item!='undefined'){self.curr_item=self.options.curr_item}
self.my_debug("**Init slider** count",{count:my_count,curr:self.curr_item});var dots_html;var width=18*my_count;dots_html='<div class="my_fotorama_nav_items_div"  style="width:'+width+'px" data-my-id="'+self.options.id_n+'">';self.set_next_prev_image();for(var i=0;i<my_count;i++){dots_html+='<div class="my_fotorama_nav_items" data-c="'+i+'">';dots_html+='<div class="my_fotorama_nav_dot"></div></div>'}
$(my_slider_id).parents(".my_fotorama_outter").after(dots_html);$(my_slider_id).find(".my_fotorama_item").each(function(i,v){$(v).find(".imagemapper-wrapper").data('my-slider',1);if(i!=self.curr_item){$(v).css('position','absolute');$(v).css('top','-10000px');$(v).css('left','-10000px')}});self.set_icon_curr();$(my_slider_id).css('visibility','visible');$(".my_nav_right").click(self.my_move_slider);$(".my_nav_left").click(self.my_move_slider);$(".my_fotorama_nav_items").click(self.my_jump)};this.my_jump=function(e){var n=$(this).data('c');var curr_item=self.curr_item;self.my_debug("Jump",{n:n,curr_item:curr_item});if(curr_item==n)return;if(self.my_working)return;self.my_working=!0;var my_slider_id='#'+self.options.id;self.my_next=n;self.my_debug("**Move slider**",n);var h=$(my_slider_id+" .my_fotorama_item[data-my-c='"+curr_item+"']").height();self.my_first_h=h;$(my_slider_id+" .my_fotorama_outter").height(h);$(my_slider_id+" .my_fotorama_item[data-my-c='"+curr_item+"']").fadeOut(self.options.duration,function(){$(this).css('position','absolute');$(this).css('top','-10000px');$(this).css('left','-10000px');$(this).show();var hh=$("#"+self.options.id+" .my_fotorama_item[data-my-c='"+self.my_next+"']").height();if(self.options.correct_diff==1){var diff=hh-self.my_first_height;if(diff<0){var scrolltop=$(window).scrollTop();self.my_debug("Scrolltop",scrolltop);scrolltop-=Math.abs(diff);if(scrolltop<0)scrolltop=0;$(window).scrollTop(scrolltop)}else{var scrolltop=$(window).scrollTop();self.my_debug("Scrolltop",scrolltop);scrolltop+=Math.abs(diff);if(scrolltop<0)scrolltop=0;$(window).scrollTop(scrolltop)}
self.my_debug("Scroll ",{diff:diff,scrolltop:scrolltop})}
$("#"+self.options.id+" .my_fotorama_item[data-my-c='"+self.my_next+"']").css('position','');$("#"+self.options.id+" .my_fotorama_item[data-my-c='"+self.my_next+"']").css('left','');$("#"+self.options.id+" .my_fotorama_item[data-my-c='"+self.my_next+"']").css('top','');$("#"+self.options.id+" .my_fotorama_item[data-my-c='"+self.my_next+"']").css('opacity',0);$("#"+self.options.id+" .my_fotorama_item[data-my-c='"+self.my_next+"']").animate({opacity:1},self.options.duration,function(){self.my_debug("Animation fadein finishde",self.my_next);self.my_working=!1;self.curr_item=self.my_next;self.set_next_prev_image();self.set_icon_curr()})})};this.set_icon_curr=function(){$(".my_fotorama_nav_items .my_fotorama_nav_dot").removeClass('my_fotorama_nav_dot_active');$(".my_fotorama_nav_items[data-c='"+self.curr_item+"'] .my_fotorama_nav_dot").addClass('my_fotorama_nav_dot_active')};this.my_move_slider=function(e){if(self.my_working)return;self.my_working=!0;var my_slider_id='#'+self.options.id;var curr_item=self.curr_item;var my_count=self.count_items-1;var dir='left';var n=0;if($(this).hasClass('fotorama__arr--next')){dir='right'}
if(dir=='left'){n=curr_item-1;if(n<0)n=my_count}else if(dir=='right'){n=curr_item+1;if(n>my_count)n=0}
if(!self.my_from_autoplay){self.my_durr_1=10;if(dir=='right'){$(".my_nav_right").trigger('mouseleave');self.my_animate_dot_hide($("my_nav_right"));setTimeout(function(){delete self.my_durr_1},50)}else{$(".my_nav_right").trigger('mouseleave');self.my_animate_dot_hide($("my_nav_left"));setTimeout(function(){delete self.my_durr_1},50)}}
self.my_debug("**Move slider **",{dir:dir,n:n});self.my_next=n;var h=$(my_slider_id+" .my_fotorama_item[data-my-c='"+curr_item+"']").height();self.my_first_height=h;$(my_slider_id+" .my_fotorama_item[data-my-c='"+curr_item+"']").fadeOut(self.options.duration,function(){$(this).css('position','absolute');$(this).css('top','-10000px');$(this).css('left','-10000px');$(this).show();var hh=$("#"+self.options.id+" .my_fotorama_item[data-my-c='"+self.my_next+"']").height();self.my_debug("Height",{fisrt:self.my_first_height,hh:hh});var diff=hh-self.my_first_height;if(self.options.correct_diff){if(!self.my_from_autoplay){if(diff<0){var scrolltop=$(window).scrollTop();self.my_debug("Scrolltop",scrolltop);scrolltop-=Math.abs(diff);if(scrolltop<0)scrolltop=0;$(window).scrollTop(scrolltop)}else{var scrolltop=$(window).scrollTop();self.my_debug("Scrolltop",scrolltop);scrolltop+=Math.abs(diff);if(scrolltop<0)scrolltop=0;$(window).scrollTop(scrolltop)}
self.my_debug("Scroll ",{diff:diff,scrolltop:scrolltop})}}
$("#"+self.options.id+" .my_fotorama_item[data-my-c='"+self.my_next+"']").css('position','');$("#"+self.options.id+" .my_fotorama_item[data-my-c='"+self.my_next+"']").css('left','');$("#"+self.options.id+" .my_fotorama_item[data-my-c='"+self.my_next+"']").css('top','');$("#"+self.options.id+" .my_fotorama_item[data-my-c='"+self.my_next+"']").css('opacity','0');$("#"+self.options.id+" .my_fotorama_item[data-my-c='"+self.my_next+"']").animate({opacity:1},self.options.duration,function(){self.my_debug("Animation fadein finishde",self.my_next);self.my_working=!1;self.curr_item=self.my_next;self.set_next_prev_image();self.set_icon_curr();self.my_from_autoplay=!1})})};this.my_animate_image=function(obj){var d1=self.animation_durr/2;$(obj).find("img").my_scale=0;$(obj).find("img").finish();self.my_debug("Animate image");if(self.transform){$(obj).find("img").my_scale=0;my_trans=self.my_transforms_prefix+'transform';$(obj).find("img").css(my_trans,'scale(0)');$(obj).find("img").css('display','block');$(obj).find("img").animate({my_scale:1},{step:function(now,fx){my_trans=self.my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')},complete:function(){},duration:d1})}else{$(obj).find("img").fadeIn(d1,function(){delete self.my_animate_image_flag})}};this.my_animate_dot_hide=function(obj){var d1=self.animation_durr_1;if(typeof self.my_durr_1!='undefined'){d1=self.my_durr_1}
self.my_debug("Animate dot hide",$(obj).attr('class'));if(!self.transform){$(obj).find(".my_fotorama_blue").fadeOut(self.animation_durr,function(){$(this).hide()})}else{$(obj).find('.my_fotorama_blue').my_scale=1;my_trans=self.my_transforms_prefix+'transform';$(obj).find(".my_fotorama_blue").css(my_trans,'scale(0)');$(obj).find(".my_fotorama_blue").css('display','block');$(obj).find(".my_fotorama_blue").animate({my_scale:0},{step:function(now,fx){if(fx.prop=='my_scale'){my_trans=self.my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}},complete:function(){$(this).hide()},duration:d1})}};this.my_animate_dot=function(obj){self.my_debug("Animate dot show",$(obj).attr('class'));var d1=self.animation_durr/2;var curr=self.curr_item;var dir='left';if($(obj).parents(".my_nav_outter").hasClass('fotorama__arr--next'))dir='right';var str='';$(obj).find('span.my_nav_arrow').finish();if($(obj).find('.my_fotorama_blue').length>0){$(obj).find('.my_fotorama_blue').finish();$(obj).find('.my_fotorama_blue').remove()}
$(obj).find(".my_nav_arrow").show();if(dir=='left'){var prev=curr;if(prev==0)prev=self.count_items;str=prev+'/'+self.count_items}else{var next=curr+2;if(next>self.count_items)next=1;str=next+'/'+self.count_items}
$(obj).append('<span class="my_fotorama_blue">'+str+'</str>');var an_obj={};if(dir=='left'){an_obj={"margin-left":"-15px"};$(obj).find('.my_nav_arrow').css('margin-left','0px')}else{an_obj={"margin-left":"15px"};$(obj).find('.my_nav_arrow').css('margin-left','0px')}
self.my_dir=dir;self.my_obj=obj;$(obj).find(".my_fotorama_blue").css('display','none');$(obj).find('.my_nav_arrow').animate(an_obj,{complete:function(){if(!self.transform){$(self.my_obj).find(".my_nav_arrow").hide();$(self.my_obj).find(".my_fotorama_blue").fadeIn(d1,function(){if(self.dir=='left'){$(self.my_obj).find(".my_nav_arrow").css('margin-left','')}else $(self.my_obj).find(".my_nav_arrow").css('margin-left','');$(self.my_obj).find(".my_nav_arrow").show()})}else{self.my_debug("Complte my_nav_arrow");$(self.my_obj).find(".my_nav_arrow").hide();$(self.my_obj).find('.my_fotorama_blue').my_scale=0;var my_trans=self.my_transforms_prefix+'transform';$(self.my_obj).find(".my_fotorama_blue").css(my_trans,'scale(0)');$(self.my_obj).find(".my_fotorama_blue").css('display','block');$(self.my_obj).find(".my_fotorama_blue").animate({my_scale:1},{step:function(now,fx){if(fx.prop=='my_scale'){my_trans=self.my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}},complete:function(){if(self.dir=='left'){$(self.my_obj).find(".my_nav_arrow").css('margin-left','')}else $(self.my_obj).find(".my_nav_arrow").css('margin-left','');$(self.my_obj).find(".my_nav_arrow").show()},duration:d1})}},duration:d1})};this.is_inner_object=function(my_class,x,y){var pos;var my_sel="."+my_class;if(my_class.indexOf("#")===0){pos=$(my_class).offset();my_sel=my_class}
else pos=$("."+my_class).offset();var pos_x1=pos.left;var pos_y1=pos.top;var pos_x2=pos_x1+$(my_sel).width();var pos_y2=pos_y1+$(my_sel).height();self.my_debug("Position",{c:my_class,x:x,y:y});self.my_debug("Position",{pos_x1:pos_x1,pos_y1:pos_y1,pos_x2:pos_x2,pos_y2:pos_y2});var found=!1;if((x>pos_x1)&&(x<pos_x2)){if((y>pos_y1)&&(y<pos_y2)){found=!0}}
self.my_debug("Found",{found:found});return found};this.animate_image_next=function(e){if($(this).hasClass('fotorama__arr--disabled'))return;var showed=$(".my_fotorama_next_image").is(":visible");var animated=$(".my_fotorama_next_image").is(":animated");self.my_debug("***********Showed check return from animation**********",{showed:showed,is:is,animated:animated});if(showed&&!animated){var is=self.is_inner_object("my_nav_outter_right",e.pageX,e.pageY);self.my_debug("*************Showed return from animation*******",{showed:showed,is:is,animated:animated});if(is)return}
$(".my_fotorama_next_image").finish();var d1=self.animation_durr;if(self.transform){self.my_animate_dot($(".my_nav_right"));$(".my_fotorama_next_image").my_scale=0;my_trans=self.my_transforms_prefix+'transform';$(".my_fotorama_next_image").css(my_trans,'scale(0)');$(".my_fotorama_next_image").show();$(".my_fotorama_next_image img").hide();$(".my_fotorama_next_image img").my_scale=0;$(".my_fotorama_next_image").animate({my_scale:1,},{step:function(now,fx){if(fx.prop=='my_scale'){if((now>0.6)&&(typeof self.my_animate_image_flag=='undefined')){self.my_animate_image_flag=1;self.my_animate_image(this)}
my_trans=self.my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}},complete:function(){delete self.my_animate_image_flag},duration:d1})}else{self.my_animate_dot($(".my_nav_right"));$(".my_fotorama_next_image").fadeIn(self.animation_durr);self.my_animate_image_flag=1;self.my_animate_image(this)}};this.animate_image_prev=function(e){var d1=self.animation_durr;if($(this).hasClass('fotorama__arr--disabled'))return;var showed=$(".my_fotorama_prev_image").is(":visible");var animated=$(".my_fotorama_prev_image").is(":animated");self.my_debug("**********Showed check return from animation******",{showed:showed,is:is,animated:animated});if(showed&&!animated){var is=self.is_inner_object("my_nav_outter_left",e.pageX,e.pageY);self.my_debug("**********Showed return from animation*********",{showed:showed,is:is,animated:animated});if(is)return}
$(".my_fotorama_prev_image").finish();if(self.transform){self.my_animate_dot($(".my_nav_left"));$(".my_fotorama_prev_image").my_scale=0;my_trans=self.my_transforms_prefix+'transform';$(".my_fotorama_prev_image").css(my_trans,'scale(0)');$(".my_fotorama_prev_image").show();$(".my_fotorama_prev_image img").hide();$(".my_fotorama_prev_image img").my_scale=0;$(".my_fotorama_prev_image").animate({my_scale:1},{step:function(now,fx){if(fx.prop=='my_scale'){if((now>0.6)&&(typeof self.my_animate_image_flag=='undefined')){self.my_animate_image_flag=1;self.my_animate_image(this)}
my_trans=self.my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}},duration:d1,complete:function(){delete self.my_animate_image_flag}})}else{self.my_animate_dot($(".my_nav_left"));$(".my_fotorama_prev_image").fadeIn(d1);self.my_animate_image_flag=1;self.my_animate_image(this)}};this.animate_leave_image_next=function(e){var d1=self.animation_durr_1;if(typeof self.my_durr_1!='undefined'){d1=self.my_durr_1;delete self.my_durr_1}
if($(this).hasClass('fotorama__arr--disabled'))return;var is=self.is_inner_object("my_nav_outter_right",e.pageX,e.pageY);if(is)return;if(self.transform){self.my_animate_dot_hide($(".my_nav_right"));$(".my_fotorama_next_image").animate({my_scale:0},{step:function(now,fx){if(fx.prop=='my_scale'){my_trans=self.my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}},duration:d1,complete:function(){$(".my_fotorama_next_image").hide()}})}else{self.my_animate_dot_hide($(".my_nav_right"));$(".my_fotorama_next_image").fadeOut(d1)}};this.animate_leave_image_prev=function(e){if($(this).hasClass('fotorama__arr--disabled'))return;var is=self.is_inner_object("my_nav_outter_left",e.pageX,e.pageY);if(is)return;var d1=self.animation_durr_1;if(typeof self.my_durr_1!='undefined'){d1=self.my_durr_1;delete self.my_durr_1}
if(self.transform){self.my_animate_dot_hide($(".my_nav_left"));$(".my_fotorama_prev_image").my_scale=0;$(".my_fotorama_prev_image").animate({my_scale:0},{step:function(now,fx){if(fx.prop=='my_scale'){my_trans=self.my_transforms_prefix+'transform';$(this).css(my_trans,'scale('+now+')')}},duration:d1,complete:function(){$(".my_fotorama_prev_image").hide()}})}else{self.my_animate_dot_hide($(".my_nav_left"));$(".my_fotorama_prev_image").fadeOut(d1)}};this.init_slider=function(){var max_width=0;var t=0;var h=0;$.each(self.ids,function(i,v){var m_id='imagemapper'+v+'-wrapper';if(i>0){}
if(i==0){h=$("#"+m_id).height()}
var w=$("#"+m_id).width();$(v).parent(".my_fotorama_item").width(w);t+=w;if(w>max_width)max_width=w});self.my_debug("Max width",max_width);self.max_width=max_width;var w_f=$("#"+self.options.id).parent('.my_fotorama_outter').width();self.my_debug("Id",self.options.id);$("#"+self.options.id).fotorama({width:w_f,height:h,arrows:'always',transition:'crossfade',trackpad:!1,click:!1,swipe:!1});var first=self.ids[0];if(self.ids.length>1){var img=$(".my_slider_image[data-c='1']").html();$(".my_fotorama_next_image").html(img)}
var ww=$(window).width();if(ww>600){my_imapper_content_position_function(first)}
$.each(self.ids,function(i,v){});$("#"+self.options.id+" .imagemapper-wrapper").data('my-slider',1);$("#"+self.options.id).on('fotorama:showend',self.set_height);self.my_debug("Max width",max_width)};self.init_actions=function(id){};this.set_height=function(e,fotorama,ex){var my_c=fotorama.activeIndex;if(my_c>0){var c1=my_c-1;var img=$(".my_slider_image[data-c='"+c1+"']").html();$(".my_fotorama_prev_image").html(img)}
count=self.ids.length-1;if(my_c<count){var c1=my_c+1;var img=$(".my_slider_image[data-c='"+c1+"']").html();$(".my_fotorama_next_image").html(img)}
var my_id=$(fotorama.activeFrame.$stageFrame).find(".my_fotorama_item").data('my-id');self.my_debug("Id",my_id);var h=$(fotorama.activeFrame.$stageFrame).find(".imagemapper-wrapper").height();self.my_debug("Height",{id:fotorama.activeFrame.id,h:h});fotorama.setOptions({height:h});var ww=$(window).width();if(ww>600){my_imapper_content_position_function(my_id)}};this.my_debug=function(t,o){if(self.debug){if(window.console){console.log("Fotorama\n"+t,o)}}}
this.init(o)}})(jQuery)
;